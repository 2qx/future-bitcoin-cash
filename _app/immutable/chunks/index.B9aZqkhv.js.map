{"version":3,"file":"index.B9aZqkhv.js","sources":["../../../../../../../../node_modules/.pnpm/vite-plugin-node-polyfills@0.22.0_vite@5.4.2/node_modules/vite-plugin-node-polyfills/shims/global/dist/index.js","../../../../../../../../node_modules/.pnpm/events@3.3.0/node_modules/events/events.js","../../../../../../../../node_modules/.pnpm/async-mutex@0.4.1/node_modules/async-mutex/index.mjs","../../../../../../../../node_modules/.pnpm/ms@2.1.2/node_modules/ms/index.js","../../../../../../../../node_modules/.pnpm/debug@4.3.6/node_modules/debug/src/common.js","../../../../../../../../node_modules/.pnpm/debug@4.3.6/node_modules/debug/src/browser.js","../../../../../../../../node_modules/.pnpm/lossless-json@2.0.11/node_modules/lossless-json/lib/esm/utils.js","../../../../../../../../node_modules/.pnpm/lossless-json@2.0.11/node_modules/lossless-json/lib/esm/LosslessNumber.js","../../../../../../../../node_modules/.pnpm/lossless-json@2.0.11/node_modules/lossless-json/lib/esm/numberParsers.js","../../../../../../../../node_modules/.pnpm/lossless-json@2.0.11/node_modules/lossless-json/lib/esm/revive.js","../../../../../../../../node_modules/.pnpm/lossless-json@2.0.11/node_modules/lossless-json/lib/esm/parse.js","../../../../../../../../node_modules/.pnpm/@monsterbitar+isomorphic-ws@5.3.1_ws@8.18.0/node_modules/@monsterbitar/isomorphic-ws/browser.mjs","../../../../../../../../node_modules/.pnpm/@electrum-cash+network@3.3.0_patch_hash=ghfkyoulghrqjtfh6ignnwjtjy/node_modules/@electrum-cash/network/dist/index.mjs"],"sourcesContent":["const global = globalThis || void 0 || self;\n\nexport { global as default, global };\n//# sourceMappingURL=index.js.map\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","const E_TIMEOUT = new Error('timeout while waiting for mutex to become available');\nconst E_ALREADY_LOCKED = new Error('mutex already locked');\nconst E_CANCELED = new Error('request for lock canceled');\n\nvar __awaiter$2 = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass Semaphore {\n    constructor(_value, _cancelError = E_CANCELED) {\n        this._value = _value;\n        this._cancelError = _cancelError;\n        this._weightedQueues = [];\n        this._weightedWaiters = [];\n    }\n    acquire(weight = 1) {\n        if (weight <= 0)\n            throw new Error(`invalid weight ${weight}: must be positive`);\n        return new Promise((resolve, reject) => {\n            if (!this._weightedQueues[weight - 1])\n                this._weightedQueues[weight - 1] = [];\n            this._weightedQueues[weight - 1].push({ resolve, reject });\n            this._dispatch();\n        });\n    }\n    runExclusive(callback, weight = 1) {\n        return __awaiter$2(this, void 0, void 0, function* () {\n            const [value, release] = yield this.acquire(weight);\n            try {\n                return yield callback(value);\n            }\n            finally {\n                release();\n            }\n        });\n    }\n    waitForUnlock(weight = 1) {\n        if (weight <= 0)\n            throw new Error(`invalid weight ${weight}: must be positive`);\n        return new Promise((resolve) => {\n            if (!this._weightedWaiters[weight - 1])\n                this._weightedWaiters[weight - 1] = [];\n            this._weightedWaiters[weight - 1].push(resolve);\n            this._dispatch();\n        });\n    }\n    isLocked() {\n        return this._value <= 0;\n    }\n    getValue() {\n        return this._value;\n    }\n    setValue(value) {\n        this._value = value;\n        this._dispatch();\n    }\n    release(weight = 1) {\n        if (weight <= 0)\n            throw new Error(`invalid weight ${weight}: must be positive`);\n        this._value += weight;\n        this._dispatch();\n    }\n    cancel() {\n        this._weightedQueues.forEach((queue) => queue.forEach((entry) => entry.reject(this._cancelError)));\n        this._weightedQueues = [];\n    }\n    _dispatch() {\n        var _a;\n        for (let weight = this._value; weight > 0; weight--) {\n            const queueEntry = (_a = this._weightedQueues[weight - 1]) === null || _a === void 0 ? void 0 : _a.shift();\n            if (!queueEntry)\n                continue;\n            const previousValue = this._value;\n            const previousWeight = weight;\n            this._value -= weight;\n            weight = this._value + 1;\n            queueEntry.resolve([previousValue, this._newReleaser(previousWeight)]);\n        }\n        this._drainUnlockWaiters();\n    }\n    _newReleaser(weight) {\n        let called = false;\n        return () => {\n            if (called)\n                return;\n            called = true;\n            this.release(weight);\n        };\n    }\n    _drainUnlockWaiters() {\n        for (let weight = this._value; weight > 0; weight--) {\n            if (!this._weightedWaiters[weight - 1])\n                continue;\n            this._weightedWaiters[weight - 1].forEach((waiter) => waiter());\n            this._weightedWaiters[weight - 1] = [];\n        }\n    }\n}\n\nvar __awaiter$1 = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass Mutex {\n    constructor(cancelError) {\n        this._semaphore = new Semaphore(1, cancelError);\n    }\n    acquire() {\n        return __awaiter$1(this, void 0, void 0, function* () {\n            const [, releaser] = yield this._semaphore.acquire();\n            return releaser;\n        });\n    }\n    runExclusive(callback) {\n        return this._semaphore.runExclusive(() => callback());\n    }\n    isLocked() {\n        return this._semaphore.isLocked();\n    }\n    waitForUnlock() {\n        return this._semaphore.waitForUnlock();\n    }\n    release() {\n        if (this._semaphore.isLocked())\n            this._semaphore.release();\n    }\n    cancel() {\n        return this._semaphore.cancel();\n    }\n}\n\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nfunction withTimeout(sync, timeout, timeoutError = E_TIMEOUT) {\n    return {\n        acquire: (weight) => {\n            if (weight !== undefined && weight <= 0) {\n                throw new Error(`invalid weight ${weight}: must be positive`);\n            }\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                let isTimeout = false;\n                const handle = setTimeout(() => {\n                    isTimeout = true;\n                    reject(timeoutError);\n                }, timeout);\n                try {\n                    const ticket = yield sync.acquire(weight);\n                    if (isTimeout) {\n                        const release = Array.isArray(ticket) ? ticket[1] : ticket;\n                        release();\n                    }\n                    else {\n                        clearTimeout(handle);\n                        resolve(ticket);\n                    }\n                }\n                catch (e) {\n                    if (!isTimeout) {\n                        clearTimeout(handle);\n                        reject(e);\n                    }\n                }\n            }));\n        },\n        runExclusive(callback, weight) {\n            return __awaiter(this, void 0, void 0, function* () {\n                let release = () => undefined;\n                try {\n                    const ticket = yield this.acquire(weight);\n                    if (Array.isArray(ticket)) {\n                        release = ticket[1];\n                        return yield callback(ticket[0]);\n                    }\n                    else {\n                        release = ticket;\n                        return yield callback();\n                    }\n                }\n                finally {\n                    release();\n                }\n            });\n        },\n        release(weight) {\n            sync.release(weight);\n        },\n        cancel() {\n            return sync.cancel();\n        },\n        waitForUnlock: (weight) => {\n            if (weight !== undefined && weight <= 0) {\n                throw new Error(`invalid weight ${weight}: must be positive`);\n            }\n            return new Promise((resolve, reject) => {\n                const handle = setTimeout(() => reject(timeoutError), timeout);\n                sync.waitForUnlock(weight).then(() => {\n                    clearTimeout(handle);\n                    resolve();\n                });\n            });\n        },\n        isLocked: () => sync.isLocked(),\n        getValue: () => sync.getValue(),\n        setValue: (value) => sync.setValue(value),\n    };\n}\n\n// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types\nfunction tryAcquire(sync, alreadyAcquiredError = E_ALREADY_LOCKED) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return withTimeout(sync, 0, alreadyAcquiredError);\n}\n\nexport { E_ALREADY_LOCKED, E_CANCELED, E_TIMEOUT, Mutex, Semaphore, tryAcquire, withTimeout };\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","/**\n * Test whether a string contains an integer number\n */\nexport function isInteger(value) {\n  return INTEGER_REGEX.test(value);\n}\nvar INTEGER_REGEX = /^-?[0-9]+$/;\n\n/**\n * Test whether a string contains a number\n * http://stackoverflow.com/questions/13340717/json-numbers-regular-expression\n */\nexport function isNumber(value) {\n  return NUMBER_REGEX.test(value);\n}\nvar NUMBER_REGEX = /^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?$/;\n\n/**\n * Test whether a string can be safely represented with a number\n * without information loss.\n *\n * When approx is true, floating point numbers that lose a few digits but\n * are still approximately equal in value are considered safe too.\n * Integer numbers must still be exactly equal.\n */\nexport function isSafeNumber(value, config) {\n  var num = parseFloat(value);\n  var str = String(num);\n  var v = extractSignificantDigits(value);\n  var s = extractSignificantDigits(str);\n  if (v === s) {\n    return true;\n  }\n  if ((config === null || config === void 0 ? void 0 : config.approx) === true) {\n    // A value is approximately equal when:\n    // 1. it is a floating point number, not an integer\n    // 2. it has at least 14 digits\n    // 3. the first 14 digits are equal\n    var requiredDigits = 14;\n    if (!isInteger(value) && s.length >= requiredDigits && v.startsWith(s.substring(0, requiredDigits))) {\n      return true;\n    }\n  }\n  return false;\n}\nexport var UnsafeNumberReason = /*#__PURE__*/function (UnsafeNumberReason) {\n  UnsafeNumberReason[\"underflow\"] = \"underflow\";\n  UnsafeNumberReason[\"overflow\"] = \"overflow\";\n  UnsafeNumberReason[\"truncate_integer\"] = \"truncate_integer\";\n  UnsafeNumberReason[\"truncate_float\"] = \"truncate_float\";\n  return UnsafeNumberReason;\n}({});\n\n/**\n * When the provided value is an unsafe number, describe what the reason is:\n * overflow, underflow, truncate_integer, or truncate_float.\n * Returns undefined when the value is safe.\n */\nexport function getUnsafeNumberReason(value) {\n  if (isSafeNumber(value, {\n    approx: false\n  })) {\n    return undefined;\n  }\n  if (isInteger(value)) {\n    return UnsafeNumberReason.truncate_integer;\n  }\n  var num = parseFloat(value);\n  if (!isFinite(num)) {\n    return UnsafeNumberReason.overflow;\n  }\n  if (num === 0) {\n    return UnsafeNumberReason.underflow;\n  }\n  return UnsafeNumberReason.truncate_float;\n}\n\n/**\n * Convert a string into a number when it is safe to do so.\n * Throws an error otherwise, explaining the reason.\n */\nexport function toSafeNumberOrThrow(value, config) {\n  var number = parseFloat(value);\n  var unsafeReason = getUnsafeNumberReason(value);\n  if ((config === null || config === void 0 ? void 0 : config.approx) === true ? unsafeReason && unsafeReason !== UnsafeNumberReason.truncate_float : unsafeReason) {\n    var unsafeReasonText = unsafeReason.replace(/_\\w+$/, '');\n    throw new Error('Cannot safely convert to number: ' + \"the value '\".concat(value, \"' would \").concat(unsafeReasonText, \" and become \").concat(number));\n  }\n  return number;\n}\n\n/**\n * Get the significant digits of a number.\n *\n * For example:\n *   '2.34' returns '234'\n *   '-77' returns '77'\n *   '0.003400' returns '34'\n *   '120.5e+30' returns '1205'\n **/\nexport function extractSignificantDigits(value) {\n  return value\n  // from \"-0.250e+30\" to \"-0.250\"\n  .replace(EXPONENTIAL_PART_REGEX, '')\n\n  // from \"-0.250\" to \"-0250\"\n  .replace(DOT_REGEX, '')\n\n  // from \"-0250\" to \"-025\"\n  .replace(TRAILING_ZEROS_REGEX, '')\n\n  // from \"-025\" to \"25\"\n  .replace(LEADING_MINUS_AND_ZEROS_REGEX, '');\n}\nvar EXPONENTIAL_PART_REGEX = /[eE][+-]?\\d+$/;\nvar LEADING_MINUS_AND_ZEROS_REGEX = /^-?(0*)?/;\nvar DOT_REGEX = /\\./;\nvar TRAILING_ZEROS_REGEX = /0+$/;\n//# sourceMappingURL=utils.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { extractSignificantDigits, getUnsafeNumberReason, isInteger, isNumber, UnsafeNumberReason } from './utils.js';\n\n/**\n * A lossless number. Stores its numeric value as string\n */\nexport var LosslessNumber = /*#__PURE__*/function () {\n  function LosslessNumber(value) {\n    _classCallCheck(this, LosslessNumber);\n    // numeric value as string\n    // type information\n    _defineProperty(this, \"isLosslessNumber\", true);\n    if (!isNumber(value)) {\n      throw new Error('Invalid number (value: \"' + value + '\")');\n    }\n    this.value = value;\n  }\n\n  /**\n   * Get the value of the LosslessNumber as number or bigint.\n   *\n   * - a number is returned for safe numbers and decimal values that only lose some insignificant digits\n   * - a bigint is returned for big integer numbers\n   * - an Error is thrown for values that will overflow or underflow\n   *\n   * Note that you can implement your own strategy for conversion by just getting the value as string\n   * via .toString(), and using util functions like isInteger, isSafeNumber, getUnsafeNumberReason,\n   * and toSafeNumberOrThrow to convert it to a numeric value.\n   */\n  _createClass(LosslessNumber, [{\n    key: \"valueOf\",\n    value: function valueOf() {\n      var unsafeReason = getUnsafeNumberReason(this.value);\n\n      // safe or truncate_float\n      if (unsafeReason === undefined || unsafeReason === UnsafeNumberReason.truncate_float) {\n        return parseFloat(this.value);\n      }\n\n      // truncate_integer\n      if (isInteger(this.value)) {\n        return BigInt(this.value);\n      }\n\n      // overflow or underflow\n      throw new Error('Cannot safely convert to number: ' + \"the value '\".concat(this.value, \"' would \").concat(unsafeReason, \" and become \").concat(parseFloat(this.value)));\n    }\n\n    /**\n     * Get the value of the LosslessNumber as string.\n     */\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this.value;\n    }\n\n    // Note: we do NOT implement a .toJSON() method, and you should not implement\n    // or use that, it cannot safely turn the numeric value in the string into\n    // stringified JSON since it has to be parsed into a number first.\n  }]);\n  return LosslessNumber;\n}();\n\n/**\n * Test whether a value is a LosslessNumber\n */\nexport function isLosslessNumber(value) {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  return value && _typeof(value) === 'object' && value.isLosslessNumber === true || false;\n}\n\n/**\n * Convert a number into a LosslessNumber if this is possible in a safe way\n * If the value has too many digits, or is NaN or Infinity, an error will be thrown\n */\nexport function toLosslessNumber(value) {\n  if (extractSignificantDigits(value + '').length > 15) {\n    throw new Error('Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself ' + \"(value: \".concat(value, \")\"));\n  }\n  if (isNaN(value)) {\n    throw new Error('Invalid number: NaN');\n  }\n  if (!isFinite(value)) {\n    throw new Error('Invalid number: ' + value);\n  }\n  return new LosslessNumber(String(value));\n}\n//# sourceMappingURL=LosslessNumber.js.map","import { LosslessNumber } from './LosslessNumber.js';\nimport { isInteger } from './utils.js';\nexport function parseLosslessNumber(value) {\n  return new LosslessNumber(value);\n}\nexport function parseNumberAndBigInt(value) {\n  return isInteger(value) ? BigInt(value) : parseFloat(value);\n}\n//# sourceMappingURL=numberParsers.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nimport { isLosslessNumber } from './LosslessNumber.js';\n/**\n * Revive a json object.\n * Applies the reviver function recursively on all values in the JSON object.\n * @param json   A JSON Object, Array, or value\n * @param reviver\n *              A reviver function invoked with arguments `key` and `value`,\n *              which must return a replacement value. The function context\n *              (`this`) is the Object or Array that contains the currently\n *              handled value.\n */\nexport function revive(json, reviver) {\n  return reviveValue({\n    '': json\n  }, '', json, reviver);\n}\n\n/**\n * Revive a value\n */\nfunction reviveValue(context, key, value, reviver) {\n  if (Array.isArray(value)) {\n    return reviver.call(context, key, reviveArray(value, reviver));\n  } else if (value && _typeof(value) === 'object' && !isLosslessNumber(value)) {\n    // note the special case for LosslessNumber,\n    // we don't want to iterate over the internals of a LosslessNumber\n    return reviver.call(context, key, reviveObject(value, reviver));\n  } else {\n    return reviver.call(context, key, value);\n  }\n}\n\n/**\n * Revive the properties of an object\n */\nfunction reviveObject(object, reviver) {\n  Object.keys(object).forEach(function (key) {\n    var value = reviveValue(object, key, object[key], reviver);\n    if (value !== undefined) {\n      object[key] = value;\n    } else {\n      delete object[key];\n    }\n  });\n  return object;\n}\n\n/**\n * Revive the properties of an Array\n */\nfunction reviveArray(array, reviver) {\n  for (var i = 0; i < array.length; i++) {\n    array[i] = reviveValue(array, i + '', array[i], reviver);\n  }\n  return array;\n}\n//# sourceMappingURL=revive.js.map","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nimport { parseLosslessNumber } from './numberParsers.js';\nimport { revive } from './revive.js';\n/**\n * The LosslessJSON.parse() method parses a string as JSON, optionally transforming\n * the value produced by parsing.\n *\n * The parser is based on the parser of Tan Li Hou shared in\n * https://lihautan.com/json-parser-with-javascript/\n *\n * @param text\n * The string to parse as JSON. See the JSON object for a description of JSON syntax.\n *\n * @param [reviver]\n * If a function, prescribes how the value originally produced by parsing is\n * transformed, before being returned.\n *\n * @param [parseNumber=parseLosslessNumber]\n * Pass a custom number parser. Input is a string, and the output can be unknown\n * numeric value: number, bigint, LosslessNumber, or a custom BigNumber library.\n *\n * @returns Returns the Object corresponding to the given JSON text.\n *\n * @throws Throws a SyntaxError exception if the string to parse is not valid JSON.\n */\nexport function parse(text, reviver) {\n  var parseNumber = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : parseLosslessNumber;\n  var i = 0;\n  var value = parseValue();\n  expectValue(value);\n  expectEndOfInput();\n  return reviver ? revive(value, reviver) : value;\n  function parseObject() {\n    if (text.charCodeAt(i) === codeOpeningBrace) {\n      i++;\n      skipWhitespace();\n      var object = {};\n      var initial = true;\n      while (i < text.length && text.charCodeAt(i) !== codeClosingBrace) {\n        if (!initial) {\n          eatComma();\n          skipWhitespace();\n        } else {\n          initial = false;\n        }\n        var start = i;\n        var key = parseString();\n        if (key === undefined) {\n          throwObjectKeyExpected();\n        }\n        skipWhitespace();\n        eatColon();\n        var _value = parseValue();\n        if (_value === undefined) {\n          throwObjectValueExpected();\n        }\n\n        // TODO: test deep equal instead of strict equal\n        if (Object.prototype.hasOwnProperty.call(object, key) && !isDeepEqual(_value, object[key])) {\n          // Note that we could also test `if(key in object) {...}`\n          // or `if (object[key] !== 'undefined') {...}`, but that is slower.\n          throwDuplicateKey(key, start + 1);\n        }\n        object[key] = _value;\n      }\n      if (text.charCodeAt(i) !== codeClosingBrace) {\n        throwObjectKeyOrEndExpected();\n      }\n      i++;\n      return object;\n    }\n  }\n  function parseArray() {\n    if (text.charCodeAt(i) === codeOpeningBracket) {\n      i++;\n      skipWhitespace();\n      var array = [];\n      var initial = true;\n      while (i < text.length && text.charCodeAt(i) !== codeClosingBracket) {\n        if (!initial) {\n          eatComma();\n        } else {\n          initial = false;\n        }\n        var _value2 = parseValue();\n        expectArrayItem(_value2);\n        array.push(_value2);\n      }\n      if (text.charCodeAt(i) !== codeClosingBracket) {\n        throwArrayItemOrEndExpected();\n      }\n      i++;\n      return array;\n    }\n  }\n  function parseValue() {\n    var _ref, _ref2, _ref3, _ref4, _ref5, _parseString;\n    skipWhitespace();\n    var value = (_ref = (_ref2 = (_ref3 = (_ref4 = (_ref5 = (_parseString = parseString()) !== null && _parseString !== void 0 ? _parseString : parseNumeric()) !== null && _ref5 !== void 0 ? _ref5 : parseObject()) !== null && _ref4 !== void 0 ? _ref4 : parseArray()) !== null && _ref3 !== void 0 ? _ref3 : parseKeyword('true', true)) !== null && _ref2 !== void 0 ? _ref2 : parseKeyword('false', false)) !== null && _ref !== void 0 ? _ref : parseKeyword('null', null);\n    skipWhitespace();\n    return value;\n  }\n  function parseKeyword(name, value) {\n    if (text.slice(i, i + name.length) === name) {\n      i += name.length;\n      return value;\n    }\n  }\n  function skipWhitespace() {\n    while (isWhitespace(text.charCodeAt(i))) {\n      i++;\n    }\n  }\n  function parseString() {\n    if (text.charCodeAt(i) === codeDoubleQuote) {\n      i++;\n      var result = '';\n      while (i < text.length && text.charCodeAt(i) !== codeDoubleQuote) {\n        if (text.charCodeAt(i) === codeBackslash) {\n          var char = text[i + 1];\n          var escapeChar = escapeCharacters[char];\n          if (escapeChar !== undefined) {\n            result += escapeChar;\n            i++;\n          } else if (char === 'u') {\n            if (isHex(text.charCodeAt(i + 2)) && isHex(text.charCodeAt(i + 3)) && isHex(text.charCodeAt(i + 4)) && isHex(text.charCodeAt(i + 5))) {\n              result += String.fromCharCode(parseInt(text.slice(i + 2, i + 6), 16));\n              i += 5;\n            } else {\n              throwInvalidUnicodeCharacter(i);\n            }\n          } else {\n            throwInvalidEscapeCharacter(i);\n          }\n        } else {\n          if (isValidStringCharacter(text.charCodeAt(i))) {\n            result += text[i];\n          } else {\n            throwInvalidCharacter(text[i]);\n          }\n        }\n        i++;\n      }\n      expectEndOfString();\n      i++;\n      return result;\n    }\n  }\n  function parseNumeric() {\n    var start = i;\n    if (text.charCodeAt(i) === codeMinus) {\n      i++;\n      expectDigit(start);\n    }\n    if (text.charCodeAt(i) === codeZero) {\n      i++;\n    } else if (isNonZeroDigit(text.charCodeAt(i))) {\n      i++;\n      while (isDigit(text.charCodeAt(i))) {\n        i++;\n      }\n    }\n    if (text.charCodeAt(i) === codeDot) {\n      i++;\n      expectDigit(start);\n      while (isDigit(text.charCodeAt(i))) {\n        i++;\n      }\n    }\n    if (text.charCodeAt(i) === codeLowercaseE || text.charCodeAt(i) === codeUppercaseE) {\n      i++;\n      if (text.charCodeAt(i) === codeMinus || text.charCodeAt(i) === codePlus) {\n        i++;\n      }\n      expectDigit(start);\n      while (isDigit(text.charCodeAt(i))) {\n        i++;\n      }\n    }\n    if (i > start) {\n      return parseNumber(text.slice(start, i));\n    }\n  }\n  function eatComma() {\n    if (text.charCodeAt(i) !== codeComma) {\n      throw new SyntaxError(\"Comma ',' expected after value \".concat(gotAt()));\n    }\n    i++;\n  }\n  function eatColon() {\n    if (text.charCodeAt(i) !== codeColon) {\n      throw new SyntaxError(\"Colon ':' expected after property name \".concat(gotAt()));\n    }\n    i++;\n  }\n  function expectValue(value) {\n    if (value === undefined) {\n      throw new SyntaxError(\"JSON value expected \".concat(gotAt()));\n    }\n  }\n  function expectArrayItem(value) {\n    if (value === undefined) {\n      throw new SyntaxError(\"Array item expected \".concat(gotAt()));\n    }\n  }\n  function expectEndOfInput() {\n    if (i < text.length) {\n      throw new SyntaxError(\"Expected end of input \".concat(gotAt()));\n    }\n  }\n  function expectDigit(start) {\n    if (!isDigit(text.charCodeAt(i))) {\n      var numSoFar = text.slice(start, i);\n      throw new SyntaxError(\"Invalid number '\".concat(numSoFar, \"', expecting a digit \").concat(gotAt()));\n    }\n  }\n  function expectEndOfString() {\n    if (text.charCodeAt(i) !== codeDoubleQuote) {\n      throw new SyntaxError(\"End of string '\\\"' expected \".concat(gotAt()));\n    }\n  }\n  function throwObjectKeyExpected() {\n    throw new SyntaxError(\"Quoted object key expected \".concat(gotAt()));\n  }\n  function throwDuplicateKey(key, pos) {\n    throw new SyntaxError(\"Duplicate key '\".concat(key, \"' encountered at position \").concat(pos));\n  }\n  function throwObjectKeyOrEndExpected() {\n    throw new SyntaxError(\"Quoted object key or end of object '}' expected \".concat(gotAt()));\n  }\n  function throwArrayItemOrEndExpected() {\n    throw new SyntaxError(\"Array item or end of array ']' expected \".concat(gotAt()));\n  }\n  function throwInvalidCharacter(char) {\n    throw new SyntaxError(\"Invalid character '\".concat(char, \"' \").concat(pos()));\n  }\n  function throwInvalidEscapeCharacter(start) {\n    var chars = text.slice(start, start + 2);\n    throw new SyntaxError(\"Invalid escape character '\".concat(chars, \"' \").concat(pos()));\n  }\n  function throwObjectValueExpected() {\n    throw new SyntaxError(\"Object value expected after ':' \".concat(pos()));\n  }\n  function throwInvalidUnicodeCharacter(start) {\n    var end = start + 2;\n    while (/\\w/.test(text[end])) {\n      end++;\n    }\n    var chars = text.slice(start, end);\n    throw new SyntaxError(\"Invalid unicode character '\".concat(chars, \"' \").concat(pos()));\n  }\n\n  // zero based character position\n  function pos() {\n    return \"at position \".concat(i);\n  }\n  function got() {\n    return i < text.length ? \"but got '\".concat(text[i], \"'\") : 'but reached end of input';\n  }\n  function gotAt() {\n    return got() + ' ' + pos();\n  }\n}\nfunction isWhitespace(code) {\n  return code === codeSpace || code === codeNewline || code === codeTab || code === codeReturn;\n}\nfunction isHex(code) {\n  return code >= codeZero && code <= codeNine || code >= codeUppercaseA && code <= codeUppercaseF || code >= codeLowercaseA && code <= codeLowercaseF;\n}\nfunction isDigit(code) {\n  return code >= codeZero && code <= codeNine;\n}\nfunction isNonZeroDigit(code) {\n  return code >= codeOne && code <= codeNine;\n}\nexport function isValidStringCharacter(code) {\n  return code >= 0x20 && code <= 0x10ffff;\n}\nexport function isDeepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return a.length === b.length && a.every(function (item, index) {\n      return isDeepEqual(item, b[index]);\n    });\n  }\n  if (isObject(a) && isObject(b)) {\n    var keys = _toConsumableArray(new Set([].concat(_toConsumableArray(Object.keys(a)), _toConsumableArray(Object.keys(b)))));\n    return keys.every(function (key) {\n      return isDeepEqual(a[key], b[key]);\n    });\n  }\n  return false;\n}\nfunction isObject(value) {\n  return _typeof(value) === 'object' && value !== null;\n}\n\n// map with all escape characters\nvar escapeCharacters = {\n  '\"': '\"',\n  '\\\\': '\\\\',\n  '/': '/',\n  b: '\\b',\n  f: '\\f',\n  n: '\\n',\n  r: '\\r',\n  t: '\\t'\n  // note that \\u is handled separately in parseString()\n};\n\nvar codeBackslash = 0x5c; // \"\\\"\nvar codeOpeningBrace = 0x7b; // \"{\"\nvar codeClosingBrace = 0x7d; // \"}\"\nvar codeOpeningBracket = 0x5b; // \"[\"\nvar codeClosingBracket = 0x5d; // \"]\"\nvar codeSpace = 0x20; // \" \"\nvar codeNewline = 0xa; // \"\\n\"\nvar codeTab = 0x9; // \"\\t\"\nvar codeReturn = 0xd; // \"\\r\"\nvar codeDoubleQuote = 0x0022; // \"\nvar codePlus = 0x2b; // \"+\"\nvar codeMinus = 0x2d; // \"-\"\nvar codeZero = 0x30;\nvar codeOne = 0x31;\nvar codeNine = 0x39;\nvar codeComma = 0x2c; // \",\"\nvar codeDot = 0x2e; // \".\" (dot, period)\nvar codeColon = 0x3a; // \":\"\nexport var codeUppercaseA = 0x41; // \"A\"\nexport var codeLowercaseA = 0x61; // \"a\"\nexport var codeUppercaseE = 0x45; // \"E\"\nexport var codeLowercaseE = 0x65; // \"e\"\nexport var codeUppercaseF = 0x46; // \"F\"\nexport var codeLowercaseF = 0x66; // \"f\"\n//# sourceMappingURL=parse.js.map","// https://github.com/maxogden/websocket-stream/blob/48dc3ddf943e5ada668c31ccd94e9186f02fafbd/ws-fallback.js\n\nvar ws = null\n\nif (typeof WebSocket !== 'undefined') {\n  ws = WebSocket\n} else if (typeof MozWebSocket !== 'undefined') {\n  ws = MozWebSocket\n} else if (typeof global !== 'undefined') {\n  ws = global.WebSocket || global.MozWebSocket\n} else if (typeof window !== 'undefined') {\n  ws = window.WebSocket || window.MozWebSocket\n} else if (typeof self !== 'undefined') {\n  ws = self.WebSocket || self.MozWebSocket\n}\n\nexport { ws as WebSocket }\n","import {EventEmitter as $4QiMX$EventEmitter} from \"events\";\nimport {Mutex as $4QiMX$Mutex} from \"async-mutex\";\nimport $4QiMX$debug from \"debug\";\nimport {parse as $4QiMX$parse, parseNumberAndBigInt as $4QiMX$parseNumberAndBigInt, stringify as $4QiMX$stringify} from \"lossless-json\";\n//import {connect as $4QiMX$connect, TLSSocket as $4QiMX$TLSSocket} from \"tls\";\n//import {isIP as $4QiMX$isIP, connect as $4QiMX$connect1} from \"net\";\nimport {WebSocket as $4QiMX$WebSocket} from \"@monsterbitar/isomorphic-ws\";\n\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n// Create the debug logs.\nconst $ef5ba40c8abe5a13$var$debug = {\n    client: (0, $4QiMX$debug)(\"electrum-cash:client \"),\n    cluster: (0, $4QiMX$debug)(\"electrum-cash:cluster\"),\n    errors: (0, $4QiMX$debug)(\"electrum-cash:error  \"),\n    warning: (0, $4QiMX$debug)(\"electrum-cash:warning\"),\n    network: (0, $4QiMX$debug)(\"electrum-cash:network\"),\n    ping: (0, $4QiMX$debug)(\"electrum-cash:pulses \")\n};\n// Set log colors.\n$ef5ba40c8abe5a13$var$debug.client.color = \"2\";\n$ef5ba40c8abe5a13$var$debug.cluster.color = \"3\";\n$ef5ba40c8abe5a13$var$debug.errors.color = \"9\";\n$ef5ba40c8abe5a13$var$debug.warning.color = \"13\";\n$ef5ba40c8abe5a13$var$debug.network.color = \"4\";\n$ef5ba40c8abe5a13$var$debug.ping.color = \"8\";\nvar // Export the logs.\n$ef5ba40c8abe5a13$export$2e2bcd8739ae039 = $ef5ba40c8abe5a13$var$debug;\n\n\n\n/**\n * Grouping of utilities that simplifies implementation of the Electrum protocol.\n *\n * @ignore\n */ class $c78f59d21170b7a6$var$ElectrumProtocol {\n    /**\n\t * Helper function that builds an Electrum request object.\n\t *\n\t * @param {string} method       method to call.\n\t * @param {array}  parameters   method parameters for the call.\n\t * @param {string} requestId    unique string or number referencing this request.\n\t *\n\t * @returns a properly formatted Electrum request string.\n\t */ static buildRequestObject(method, parameters, requestId) {\n        // Return the formatted request object.\n        // NOTE: Electrum either uses JsonRPC strictly or loosely.\n        //       If we specify protocol identifier without being 100% compliant, we risk being disconnected/blacklisted.\n        //       For this reason, we omit the protocol identifier to avoid issues.\n        return JSON.stringify({\n            method: method,\n            params: parameters,\n            id: requestId\n        });\n    }\n    /**\n\t * Constant used to verify if a provided string is a valid version number.\n\t *\n\t * @returns a regular expression that matches valid version numbers.\n\t */ static get versionRegexp() {\n        return /^\\d+(\\.\\d+)+$/;\n    }\n    /**\n\t * Constant used to separate statements/messages in a stream of data.\n\t *\n\t * @returns the delimiter used by Electrum to separate statements.\n\t */ static get statementDelimiter() {\n        return \"\\n\";\n    }\n}\nvar // export the protocol.\n$c78f59d21170b7a6$export$2e2bcd8739ae039 = $c78f59d21170b7a6$var$ElectrumProtocol;\n\n\nvar $a192ea5a4eec42d4$exports = {};\n\n$parcel$export($a192ea5a4eec42d4$exports, \"isVersionRejected\", () => $a192ea5a4eec42d4$export$e1f38ab2b4ebdde6);\n$parcel$export($a192ea5a4eec42d4$exports, \"isVersionNegotiated\", () => $a192ea5a4eec42d4$export$9598f0c76aa41d73);\nconst $a192ea5a4eec42d4$export$e1f38ab2b4ebdde6 = function(object) {\n    return \"error\" in object;\n};\nconst $a192ea5a4eec42d4$export$9598f0c76aa41d73 = function(object) {\n    return \"software\" in object && \"protocol\" in object;\n};\n\n\nvar $5abc8fb342687c03$exports = {};\n\n$parcel$export($5abc8fb342687c03$exports, \"ElectrumTransport\", () => $5abc8fb342687c03$export$d048df559e6d3842);\n$parcel$export($5abc8fb342687c03$exports, \"DefaultParameters\", () => $5abc8fb342687c03$export$f019be48b3aacb1a);\nvar $a58372b18a18806e$exports = {};\n\n$parcel$export($a58372b18a18806e$exports, \"ClusterOrder\", () => $a58372b18a18806e$export$161fe3707f756bf9);\n$parcel$export($a58372b18a18806e$exports, \"ClusterDistribution\", () => $a58372b18a18806e$export$436a960acc41e848);\n$parcel$export($a58372b18a18806e$exports, \"ClusterStatus\", () => $a58372b18a18806e$export$c66b56bc0ff967ca);\n$parcel$export($a58372b18a18806e$exports, \"ClientState\", () => $a58372b18a18806e$export$c4f81c6d30ca200f);\n$parcel$export($a58372b18a18806e$exports, \"ConnectionStatus\", () => $a58372b18a18806e$export$7516420eb880ab68);\n// Disable indent rule for this file because it is broken (https://github.com/typescript-eslint/typescript-eslint/issues/1824)\n/* eslint-disable @typescript-eslint/indent */ /**\n * Enum that denotes the ordering to use in an ElectrumCluster.\n * @enum {number}\n * @property {0} RANDOM     Send requests to randomly selected servers in the cluster.\n * @property {1} PRIORITY   Send requests to servers in the cluster in the order they were added.\n */ var $a58372b18a18806e$export$161fe3707f756bf9;\n(function(ClusterOrder) {\n    ClusterOrder[ClusterOrder[\"RANDOM\"] = 0] = \"RANDOM\";\n    ClusterOrder[ClusterOrder[\"PRIORITY\"] = 1] = \"PRIORITY\";\n})($a58372b18a18806e$export$161fe3707f756bf9 || ($a58372b18a18806e$export$161fe3707f756bf9 = {}));\nvar $a58372b18a18806e$export$436a960acc41e848;\n(function(ClusterDistribution) {\n    ClusterDistribution[ClusterDistribution[\"ALL\"] = 0] = \"ALL\";\n})($a58372b18a18806e$export$436a960acc41e848 || ($a58372b18a18806e$export$436a960acc41e848 = {}));\nvar $a58372b18a18806e$export$c66b56bc0ff967ca;\n(function(ClusterStatus) {\n    ClusterStatus[ClusterStatus[\"DISABLED\"] = 0] = \"DISABLED\";\n    ClusterStatus[ClusterStatus[\"DEGRADED\"] = 1] = \"DEGRADED\";\n    ClusterStatus[ClusterStatus[\"READY\"] = 2] = \"READY\";\n})($a58372b18a18806e$export$c66b56bc0ff967ca || ($a58372b18a18806e$export$c66b56bc0ff967ca = {}));\nvar $a58372b18a18806e$export$c4f81c6d30ca200f;\n(function(ClientState) {\n    ClientState[ClientState[\"UNAVAILABLE\"] = 0] = \"UNAVAILABLE\";\n    ClientState[ClientState[\"AVAILABLE\"] = 1] = \"AVAILABLE\";\n})($a58372b18a18806e$export$c4f81c6d30ca200f || ($a58372b18a18806e$export$c4f81c6d30ca200f = {}));\nvar $a58372b18a18806e$export$7516420eb880ab68;\n(function(ConnectionStatus) {\n    ConnectionStatus[ConnectionStatus[\"DISCONNECTED\"] = 0] = \"DISCONNECTED\";\n    ConnectionStatus[ConnectionStatus[\"CONNECTED\"] = 1] = \"CONNECTED\";\n    ConnectionStatus[ConnectionStatus[\"DISCONNECTING\"] = 2] = \"DISCONNECTING\";\n    ConnectionStatus[ConnectionStatus[\"CONNECTING\"] = 3] = \"CONNECTING\";\n    ConnectionStatus[ConnectionStatus[\"RECONNECTING\"] = 4] = \"RECONNECTING\";\n})($a58372b18a18806e$export$7516420eb880ab68 || ($a58372b18a18806e$export$7516420eb880ab68 = {}));\n\n\nconst $5abc8fb342687c03$export$d048df559e6d3842 = {\n    TCP: {\n        Port: 50001,\n        Scheme: \"tcp\"\n    },\n    TCP_TLS: {\n        Port: 50002,\n        Scheme: \"tcp_tls\"\n    },\n    WS: {\n        Port: 50003,\n        Scheme: \"ws\"\n    },\n    WSS: {\n        Port: 50004,\n        Scheme: \"wss\"\n    }\n};\nconst $5abc8fb342687c03$export$f019be48b3aacb1a = {\n    // Port number for TCP TLS connections\n    PORT: $5abc8fb342687c03$export$d048df559e6d3842.TCP_TLS.Port,\n    // Transport to connect to the Electrum server\n    TRANSPORT_SCHEME: $5abc8fb342687c03$export$d048df559e6d3842.TCP_TLS.Scheme,\n    // How long to wait before attempting to reconnect, in milliseconds.\n    RECONNECT: 5000,\n    // How long to wait for network operations before following up, in milliseconds.\n    TIMEOUT: 30000,\n    // Time between ping messages, in milliseconds. Pinging keeps the connection alive.\n    // The reason for pinging this frequently is to detect connection problems early.\n    PING_INTERVAL: 1000,\n    // How many servers are required before we trust information provided.\n    CLUSTER_CONFIDENCE: 1,\n    // How many servers we send requests to.\n    CLUSTER_DISTRIBUTION: (0, $a58372b18a18806e$export$436a960acc41e848).ALL,\n    // What order we select servers to send requests to.\n    CLUSTER_ORDER: (0, $a58372b18a18806e$export$161fe3707f756bf9).RANDOM,\n    // If we use BigInt for numbers in json when parsing and returning json response from the server.\n    USE_BIG_INT: false\n};\n\n\n\n\n\n\n\n\n\n/**\n * Isomorphic Socket interface supporting TCP sockets and WebSockets (Node and browser).\n * The interface is a subset of the TLSSocket interface with some slight modifications.\n * It can be expanded when more socket functionality is needed in the rest of the\n * electrum-cash code. Changes from the TLSSocket interface (besides it being a subset):\n * - Event 'close' -> 'disconnect'\n * - New function socket.disconnect()\n *\n * @ignore\n */ class $ea64e414b68fe23b$var$ElectrumSocket extends (0, $4QiMX$EventEmitter) {\n    /**\n\t * Connect to host:port using the specified transport\n\t *\n\t * @param {string} host              Fully qualified domain name or IP address of the host\n\t * @param {number} port              Network port for the host to connect to\n\t * @param {TransportScheme} scheme   Transport scheme to use\n\t * @param {number} timeout           If no connection is established after `timeout` ms, the connection is terminated\n\t *\n\t * @throws {Error} if an incorrect transport scheme is specified\n\t */ connect(host, port, scheme, timeout) {\n        // Check that no existing socket exists before initiating a new connection.\n        if (this.tcpSocket || this.webSocket) throw new Error(\"Cannot initiate a new socket connection when an existing connection exists\");\n        // Set a timer to force disconnect after `timeout` seconds\n        this.timers.disconnect = setTimeout(()=>this.disconnectOnTimeout(host, port, timeout), timeout);\n        // Remove the timer if a connection is successfully established\n        this.once(\"connect\", this.clearDisconnectTimerOnTimeout);\n        // Define how to refer to the connection scheme in debug output.\n        const socketTypes = {\n            [(0, $5abc8fb342687c03$export$d048df559e6d3842).TCP.Scheme]: \"a TCP Socket\",\n            [(0, $5abc8fb342687c03$export$d048df559e6d3842).TCP_TLS.Scheme]: \"an encrypted TCP socket\",\n            [(0, $5abc8fb342687c03$export$d048df559e6d3842).WS.Scheme]: \"a WebSocket\",\n            [(0, $5abc8fb342687c03$export$d048df559e6d3842).WSS.Scheme]: \"an encrypted WebSocket\"\n        };\n        // Log that we are trying to establish a connection.\n        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).network(`Initiating ${socketTypes[scheme]} connection to '${host}:${port}'.`);\n        if (scheme === (0, $5abc8fb342687c03$export$d048df559e6d3842).TCP.Scheme || scheme === (0, $5abc8fb342687c03$export$d048df559e6d3842).TCP_TLS.Scheme) {\n            if (scheme === (0, $5abc8fb342687c03$export$d048df559e6d3842).TCP_TLS.Scheme) {\n                // Initialize connection options.\n                const connectionOptions = {\n                    rejectUnauthorized: false\n                };\n                // If the hostname is not an IP address..\n                if (!$4QiMX$isIP(host)) // Set the servername option which enables support for SNI.\n                // NOTE: SNI enables a server that hosts multiple domains to provide the appropriate TLS certificate.\n                connectionOptions.serverName = host;\n                // Initialize this.tcpSocket (allowing self-signed certificates).\n                this.tcpSocket = $4QiMX$connect(port, host, connectionOptions);\n                // Add a 'secureConnect' listener that checks the authorization status of\n                // the socket, and logs a warning when it uses a self signed certificate.\n                this.tcpSocket.once(\"secureConnect\", ()=>{\n                    // Cannot happen, since this event callback *only* exists on TLSSocket\n                    if (!(this.tcpSocket instanceof $4QiMX$TLSSocket)) return;\n                    // Force cast authorizationError from Error to string (through unknown)\n                    // because it is incorrectly typed as an Error\n                    const authorizationError = this.tcpSocket.authorizationError;\n                    if (authorizationError === \"DEPTH_ZERO_SELF_SIGNED_CERT\") (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).warning(`Connection to ${host}:${port} uses a self-signed certificate`);\n                });\n                // Trigger successful connection events.\n                this.tcpSocket.on(\"secureConnect\", this.onConnect.bind(this, socketTypes[scheme], host, port));\n            } else {\n                // Initialize this.tcpSocket.\n                this.tcpSocket = $4QiMX$connect1({\n                    host: host,\n                    port: port\n                });\n                // Trigger successful connection events.\n                this.tcpSocket.on(\"connect\", this.onConnect.bind(this, socketTypes[scheme], host, port));\n            }\n            // Configure encoding.\n            this.tcpSocket.setEncoding(\"utf8\");\n            // Enable persistent connections with an initial delay of 0.\n            this.tcpSocket.setKeepAlive(true, 0);\n            // Disable buffering of outgoing data.\n            this.tcpSocket.setNoDelay(true);\n            // Forward the encountered errors.\n            this.tcpSocket.on(\"error\", this.eventForwarders.tcpError);\n        } else if (scheme === (0, $5abc8fb342687c03$export$d048df559e6d3842).WS.Scheme || scheme === (0, $5abc8fb342687c03$export$d048df559e6d3842).WSS.Scheme) {\n            if (scheme === (0, $5abc8fb342687c03$export$d048df559e6d3842).WSS.Scheme) // Initialize this.webSocket (rejecting self-signed certificates).\n            // We reject self-signed certificates to match functionality of browsers.\n            this.webSocket = new (0, $4QiMX$WebSocket)(`wss://${host}:${port}`);\n            else // Initialize this.webSocket.\n            this.webSocket = new (0, $4QiMX$WebSocket)(`ws://${host}:${port}`);\n            // Trigger successful connection events.\n            this.webSocket.addEventListener(\"open\", this.onConnect.bind(this, socketTypes[scheme], host, port));\n            // Forward the encountered errors.\n            this.webSocket.addEventListener(\"error\", this.eventForwarders.wsError);\n        } else // Throw an error if an incorrect transport is specified\n        throw new Error(\"Incorrect transport specified\");\n    }\n    /**\n\t * Sets up forwarding of events related to the connection.\n\t *\n\t * @param {string} connectionType   Name of the connection/transport type, used for logging.\n\t * @param {string} host             Fully qualified domain name or IP address of the host\n\t * @param {number} port             Network port for the host to connect to\n\t */ onConnect(connectionType, host, port) {\n        // If the onConnect function has already run, do not execute it again.\n        if (this.onConnectHasRun) return;\n        // Log that the connection has been established.\n        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).network(`Established ${connectionType} connection with '${host}:${port}'.`);\n        if (typeof this.tcpSocket !== \"undefined\") {\n            // Forward the socket events\n            this.tcpSocket.addListener(\"close\", this.eventForwarders.disconnect);\n            this.tcpSocket.addListener(\"data\", this.eventForwarders.tcpData);\n        } else if (typeof this.webSocket !== \"undefined\") {\n            // Forward the socket events\n            this.webSocket.addEventListener(\"close\", this.eventForwarders.disconnect);\n            this.webSocket.addEventListener(\"message\", this.eventForwarders.wsData);\n        }\n        // Indicate that the onConnect function has run.\n        this.onConnectHasRun = true;\n        // Emit the connect event.\n        this.emit(\"connect\");\n    }\n    /**\n\t * Clears the disconnect timer if it is still active.\n\t */ clearDisconnectTimerOnTimeout() {\n        // Clear the retry timer if it is still active.\n        if (this.timers.disconnect) clearTimeout(this.timers.disconnect);\n    }\n    /**\n\t * Forcibly terminate the connection.\n\t *\n\t * @throws {Error} if no connection was found\n\t */ disconnect() {\n        // Clear the disconnect timer so that the socket does not try to disconnect again later.\n        this.clearDisconnectTimerOnTimeout();\n        // Handle disconnect based differently depending on socket type.\n        if (this.tcpSocket) {\n            // Remove all event forwarders.\n            this.tcpSocket.removeListener(\"close\", this.eventForwarders.disconnect);\n            this.tcpSocket.removeListener(\"data\", this.eventForwarders.tcpData);\n            this.tcpSocket.removeListener(\"error\", this.eventForwarders.tcpError);\n            // Terminate the connection.\n            this.tcpSocket.destroy();\n            // Remove the stored socket.\n            this.tcpSocket = undefined;\n        } else if (this.webSocket) try {\n            // Remove all event forwarders.\n            this.webSocket.removeEventListener(\"close\", this.eventForwarders.disconnect);\n            this.webSocket.removeEventListener(\"message\", this.eventForwarders.wsData);\n            this.webSocket.removeEventListener(\"error\", this.eventForwarders.wsError);\n            // Gracefully terminate the connection.\n            this.webSocket.close();\n        } catch (ignored) {\n        // close() will throw an error if the connection has not been established yet.\n        // We ignore this error, since no similar error gets thrown in the TLS Socket.\n        } finally{\n            // Remove the stored socket regardless of any thrown errors.\n            this.webSocket = undefined;\n        }\n        // Indicate that the onConnect function has not run and it has to be run again.\n        this.onConnectHasRun = false;\n        // Emit a disconnect event\n        this.emit(\"disconnect\");\n    }\n    /**\n\t * Write data to the socket\n\t *\n\t * @param {Uint8Array | string} data   Data to be written to the socket\n\t * @param {function} callback          Callback function to be called when the write has completed\n\t *\n\t * @throws {Error} if no connection was found\n\t * @returns true if the message was fully flushed to the socket, false if part of the message\n\t * is queued in the user memory\n\t */ write(data, callback) {\n        if (this.tcpSocket) // Write data to the TLS Socket and return the status indicating whether the\n        // full message was flushed to the socket\n        return this.tcpSocket.write(data, callback);\n        if (this.webSocket) {\n            // Write data to the WebSocket\n            this.webSocket.send(data, callback);\n            // WebSockets always fit everything in a single request, so we return true\n            return true;\n        }\n        // Throw an error if no active connection is found\n        throw new Error(\"Cannot write to socket when there is no active connection\");\n    }\n    /**\n\t * Force a disconnection if no connection is established after `timeout` milliseconds.\n\t *\n\t * @param {string} host      Host of the connection that timed out\n\t * @param {number} port      Port of the connection that timed out\n\t * @param {number} timeout   Elapsed milliseconds\n\t */ disconnectOnTimeout(host, port, timeout) {\n        // Remove the connect listener.\n        this.removeListener(\"connect\", this.clearDisconnectTimerOnTimeout);\n        // Create a new timeout error.\n        const timeoutError = {\n            code: \"ETIMEDOUT\",\n            message: `Connection to '${host}:${port}' timed out after ${timeout} milliseconds`\n        };\n        // Emit an error event so that connect is rejected upstream.\n        this.emit(\"error\", timeoutError);\n        // Forcibly disconnect to clean up the connection on timeout\n        this.disconnect();\n    }\n    constructor(...args){\n        super(...args);\n        // Declare timers for keep-alive pings and reconnection\n        this.timers = {};\n        // Initialize boolean that indicates whether the onConnect function has run (initialize to false).\n        this.onConnectHasRun = false;\n        // Initialize event forwarding functions.\n        this.eventForwarders = {\n            disconnect: ()=>this.emit(\"disconnect\"),\n            tcpData: (data)=>this.emit(\"data\", data),\n            wsData: (event)=>this.emit(\"data\", `${event.data}\\n`),\n            tcpError: (err)=>this.emit(\"error\", err),\n            wsError: (event)=>this.emit(\"error\", event.error)\n        };\n    }\n}\nvar // export the socket.\n$ea64e414b68fe23b$export$2e2bcd8739ae039 = $ea64e414b68fe23b$var$ElectrumSocket;\n\n\n\n\n/**\n * Wrapper around TLS/WSS sockets that gracefully separates a network stream into Electrum protocol messages.\n *\n * @ignore\n */ class $1326c18f93f95fee$var$ElectrumConnection extends (0, $4QiMX$EventEmitter) {\n    /**\n\t * Sets up network configuration for an Electrum client connection.\n\t *\n\t * @param {string} application            your application name, used to identify to the electrum host.\n\t * @param {string} version                protocol version to use with the host.\n\t * @param {string} host                   fully qualified domain name or IP number of the host.\n\t * @param {number} port                   the network port of the host.\n\t * @param {TransportScheme} scheme        the transport scheme to use for connection\n\t * @param {number} timeout                how long network delays we will wait for before taking action, in milliseconds.\n\t * @param {number} pingInterval           the time between sending pings to the electrum host, in milliseconds.\n\t * @param {number} reconnectInterval      the time between reconnection attempts to the electrum host, in milliseconds.\n\t * @param {boolean} useBigInt\t  \t\t  whether to use bigint for numbers in json response.\n\t *\n\t * @throws {Error} if `version` is not a valid version string.\n\t */ constructor(application, version, host, port = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).PORT, scheme = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).TRANSPORT_SCHEME, timeout = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).TIMEOUT, pingInterval = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).PING_INTERVAL, reconnectInterval = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).RECONNECT, useBigInt = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).USE_BIG_INT){\n        // Initialize the event emitter.\n        super();\n        this.application = application;\n        this.version = version;\n        this.host = host;\n        this.port = port;\n        this.scheme = scheme;\n        this.timeout = timeout;\n        this.pingInterval = pingInterval;\n        this.reconnectInterval = reconnectInterval;\n        this.useBigInt = useBigInt;\n        this.// Declare timers for keep-alive pings and reconnection\n        timers = {};\n        this.// Initialize an empty array of connection verification timers.\n        // eslint-disable-next-line no-undef\n        verifications = [];\n        this.// Initialize the connected flag to false to indicate that there is no connection\n        status = (0, $a58372b18a18806e$export$7516420eb880ab68).DISCONNECTED;\n        this.// Initialize messageBuffer to an empty string\n        messageBuffer = \"\";\n        // Check if the provided version is a valid version number.\n        if (!(0, $c78f59d21170b7a6$export$2e2bcd8739ae039).versionRegexp.test(version)) // Throw an error since the version number was not valid.\n        throw new Error(`Provided version string (${version}) is not a valid protocol version number.`);\n        // Create an initial network socket.\n        this.createSocket();\n        // Handle visibility changes when run in a browser environment.\n        if (typeof document !== \"undefined\") document.addEventListener(\"visibilitychange\", this.handleVisibilityChange.bind(this));\n    }\n    /**\n\t * Returns a string for the host identifier for usage in debug messages.\n\t */ get hostIdentifier() {\n        return `${this.host}:${this.port}`;\n    }\n    /**\n\t * Create and configures a fresh socket and attaches all relevant listeners.\n\t */ createSocket() {\n        // Initialize a new ElectrumSocket\n        this.socket = new (0, $ea64e414b68fe23b$export$2e2bcd8739ae039)();\n        // Set up handlers for connection and disconnection.\n        this.socket.on(\"connect\", this.onSocketConnect.bind(this));\n        this.socket.on(\"disconnect\", this.onSocketDisconnect.bind(this));\n        // Set up handler for incoming data.\n        this.socket.on(\"data\", this.parseMessageChunk.bind(this));\n    }\n    /**\n\t * Shuts down and destroys the current socket.\n\t */ destroySocket() {\n        // Close the socket connection and destroy the socket.\n        this.socket.disconnect();\n    }\n    /**\n\t * Assembles incoming data into statements and hands them off to the message parser.\n\t *\n\t * @param {string} data   data to append to the current message buffer, as a string.\n\t *\n\t * @throws {SyntaxError} if the passed statement parts are not valid JSON.\n\t */ parseMessageChunk(data) {\n        // Update the timestamp for when we last received data.\n        this.lastReceivedTimestamp = Date.now();\n        // Clear and remove all verification timers.\n        this.verifications.forEach((timer)=>clearTimeout(timer));\n        this.verifications.length = 0;\n        // Add the message to the current message buffer.\n        this.messageBuffer += data;\n        // Check if the new message buffer contains the statement delimiter.\n        while(this.messageBuffer.includes((0, $c78f59d21170b7a6$export$2e2bcd8739ae039).statementDelimiter)){\n            // Split message buffer into statements.\n            const statementParts = this.messageBuffer.split((0, $c78f59d21170b7a6$export$2e2bcd8739ae039).statementDelimiter);\n            // For as long as we still have statements to parse..\n            while(statementParts.length > 1){\n                // Move the first statement to its own variable.\n                const currentStatementList = String(statementParts.shift());\n                // Parse the statement into an object or list of objects.\n                let statementList = (0, $4QiMX$parse)(currentStatementList, null, this.useBigInt ? (0, $4QiMX$parseNumberAndBigInt) : parseFloat);\n                // Wrap the statement in an array if it is not already a batched statement list.\n                if (!Array.isArray(statementList)) statementList = [\n                    statementList\n                ];\n                // For as long as there is statements in the result set..\n                while(statementList.length > 0){\n                    // Move the first statement from the batch to its own variable.\n                    const currentStatement = statementList.shift();\n                    // If the current statement is a version negotiation response..\n                    if (currentStatement.id === \"versionNegotiation\") {\n                        if (currentStatement.error) // Then emit a failed version negotiation response signal.\n                        this.emit(\"version\", {\n                            error: currentStatement.error\n                        });\n                        else // Emit a successful version negotiation response signal.\n                        this.emit(\"version\", {\n                            software: currentStatement.result[0],\n                            protocol: currentStatement.result[1]\n                        });\n                        continue;\n                    }\n                    // If the current statement is a keep-alive response..\n                    if (currentStatement.id === \"keepAlive\") continue;\n                    // Emit the statements for handling higher up in the stack.\n                    this.emit(\"statement\", currentStatement);\n                }\n            }\n            // Store the remaining statement as the current message buffer.\n            this.messageBuffer = statementParts.shift() || \"\";\n        }\n    }\n    /**\n\t * Sends a keep-alive message to the host.\n\t *\n\t * @returns true if the ping message was fully flushed to the socket, false if\n\t * part of the message is queued in the user memory\n\t */ ping() {\n        // Write a log message.\n        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).ping(`Sending keep-alive ping to '${this.hostIdentifier}'`);\n        // Craft a keep-alive message.\n        const message = (0, $c78f59d21170b7a6$export$2e2bcd8739ae039).buildRequestObject(\"server.ping\", [], \"keepAlive\");\n        // Send the keep-alive message.\n        const status = this.send(message);\n        // Return the ping status.\n        return status;\n    }\n    /**\n\t * Initiates the network connection negotiates a protocol version. Also emits the 'connect' signal if successful.\n\t *\n\t * @throws {Error} if the socket connection fails.\n\t * @returns a promise resolving when the connection is established\n\t */ async connect() {\n        // If we are already connected return true.\n        if (this.status === (0, $a58372b18a18806e$export$7516420eb880ab68).CONNECTED) return;\n        // Indicate that the connection is connecting\n        this.status = (0, $a58372b18a18806e$export$7516420eb880ab68).CONNECTING;\n        // Define a function to wrap connection as a promise.\n        const connectionResolver = (resolve, reject)=>{\n            const rejector = (error)=>{\n                // Set the status back to disconnected\n                this.status = (0, $a58372b18a18806e$export$7516420eb880ab68).DISCONNECTED;\n                // Reject with the error as reason\n                reject(error);\n            };\n            // Replace previous error handlers to reject the promise on failure.\n            this.socket.removeAllListeners(\"error\");\n            this.socket.once(\"error\", rejector);\n            // Define a function to wrap version negotiation as a callback.\n            const versionNegotiator = ()=>{\n                // Write a log message to show that we have started version negotiation.\n                (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).network(`Requesting protocol version ${this.version} with '${this.hostIdentifier}'.`);\n                // remove the one-time error handler since no error was detected.\n                this.socket.removeListener(\"error\", rejector);\n                // Build a version negotiation message.\n                const versionMessage = (0, $c78f59d21170b7a6$export$2e2bcd8739ae039).buildRequestObject(\"server.version\", [\n                    this.application,\n                    this.version\n                ], \"versionNegotiation\");\n                // Define a function to wrap version validation as a function.\n                const versionValidator = (version)=>{\n                    // Check if version negotiation failed.\n                    if ((0, $a192ea5a4eec42d4$export$e1f38ab2b4ebdde6)(version)) {\n                        // Disconnect from the host.\n                        this.disconnect(true);\n                        // Declare an error message.\n                        const errorMessage = \"unsupported protocol version.\";\n                        // Log the error.\n                        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).errors(`Failed to connect with ${this.hostIdentifier} due to ${errorMessage}`);\n                        // Reject the connection with false since version negotiation failed.\n                        reject(errorMessage);\n                    } else if (version.protocol !== this.version && `${version.protocol}.0` !== this.version && `${version.protocol}.0.0` !== this.version) {\n                        // Disconnect from the host.\n                        this.disconnect(true);\n                        // Declare an error message.\n                        const errorMessage = `incompatible protocol version negotiated (${version.protocol} !== ${this.version}).`;\n                        // Log the error.\n                        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).errors(`Failed to connect with ${this.hostIdentifier} due to ${errorMessage}`);\n                        // Reject the connection with false since version negotiation failed.\n                        reject(errorMessage);\n                    } else {\n                        // Write a log message.\n                        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).network(`Negotiated protocol version ${version.protocol} with '${this.hostIdentifier}', powered by ${version.software}.`);\n                        // Set connection status to connected\n                        this.status = (0, $a58372b18a18806e$export$7516420eb880ab68).CONNECTED;\n                        // Emit a connect event now that the connection is usable.\n                        this.emit(\"connect\");\n                        // Resolve the connection promise since we successfully connected and negotiated protocol version.\n                        resolve();\n                    }\n                };\n                // Listen for version negotiation once.\n                this.once(\"version\", versionValidator);\n                // Send the version negotiation message.\n                this.send(versionMessage);\n            };\n            // Prepare the version negotiation.\n            this.socket.once(\"connect\", versionNegotiator);\n            // Set up handler for network errors.\n            this.socket.on(\"error\", this.onSocketError.bind(this));\n            // Connect to the server.\n            this.socket.connect(this.host, this.port, this.scheme, this.timeout);\n        };\n        // Wait until connection is established and version negotiation succeeds.\n        await new Promise(connectionResolver);\n    }\n    /**\n\t * Restores the network connection.\n\t */ async reconnect() {\n        // If a reconnect timer is set, remove it\n        await this.clearReconnectTimer();\n        // Write a log message.\n        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).network(`Trying to reconnect to '${this.hostIdentifier}'..`);\n        // Set the status to reconnecting for more accurate log messages.\n        this.status = (0, $a58372b18a18806e$export$7516420eb880ab68).RECONNECTING;\n        // Destroy and recreate the socket to get a clean slate.\n        this.destroySocket();\n        this.createSocket();\n        try {\n            // Try to connect again.\n            await this.connect();\n        } catch (error) {\n        // Do nothing as the error should be handled via the disconnect and error signals.\n        }\n    }\n    /**\n\t * Removes the current reconnect timer.\n\t */ clearReconnectTimer() {\n        // If a reconnect timer is set, remove it\n        if (this.timers.reconnect) clearTimeout(this.timers.reconnect);\n        // Reset the timer reference.\n        this.timers.reconnect = undefined;\n    }\n    /**\n\t * Removes the current keep-alive timer.\n\t */ clearKeepAliveTimer() {\n        // If a keep-alive timer is set, remove it\n        if (this.timers.keepAlive) clearTimeout(this.timers.keepAlive);\n        // Reset the timer reference.\n        this.timers.keepAlive = undefined;\n    }\n    /**\n\t * Initializes the keep alive timer loop.\n\t */ setupKeepAliveTimer() {\n        // If the keep-alive timer loop is not currently set up..\n        if (!this.timers.keepAlive) // Set a new keep-alive timer.\n        this.timers.keepAlive = setTimeout(this.ping.bind(this), this.pingInterval);\n    }\n    /**\n\t * Tears down the current connection and removes all event listeners on disconnect.\n\t *\n\t * @param {boolean} force         disconnect even if the connection has not been fully established yet.\n\t * @param {boolean} intentional   update connection state if disconnect is intentional.\n\t *\n\t * @returns true if successfully disconnected, or false if there was no connection.\n\t */ async disconnect(force = false, intentional = true) {\n        // Return early when there is nothing to disconnect from\n        if (this.status === (0, $a58372b18a18806e$export$7516420eb880ab68).DISCONNECTED && !force) // Return false to indicate that there was nothing to disconnect from.\n        return false;\n        // Update connection state if the disconnection is intentional.\n        // NOTE: The state is meant to represent what the client is requesting, but\n        //       is used internally to handle visibility changes in browsers to ensure functional reconnection.\n        if (intentional) // Set connection status to null to indicate tear-down is currently happening.\n        this.status = (0, $a58372b18a18806e$export$7516420eb880ab68).DISCONNECTING;\n        // If a keep-alive timer is set, remove it.\n        await this.clearKeepAliveTimer();\n        // If a reconnect timer is set, remove it\n        await this.clearReconnectTimer();\n        const disconnectResolver = (resolve)=>{\n            // Resolve to true after the connection emits a disconnect\n            this.once(\"disconnect\", ()=>resolve(true));\n            // Close the connection and destroy the socket.\n            this.destroySocket();\n        };\n        // Return true to indicate that we disconnected.\n        return new Promise(disconnectResolver);\n    }\n    /**\n\t * Updates connection state based on application visibility.\n\t *\n\t * Some browsers will disconnect network connections when the browser is out of focus,\n\t * which would normally cause our reconnect-on-timeout routines to trigger, but that\n\t * results in a poor user experience since the events are not handled consistently\n\t * and sometimes it can take some time after restoring focus to the browser.\n\t *\n\t * By manually disconnecting when this happens we prevent the default reconnection routines\n\t * and make the behavior consistent across browsers.\n\t */ async handleVisibilityChange() {\n        // Disconnect when application is removed from focus.\n        if (document.visibilityState === \"hidden\") {\n            const forceDisconnect = true;\n            const isIntended = false;\n            this.disconnect(forceDisconnect, isIntended);\n        }\n        // Reconnect when application is returned to focus.\n        if (document.visibilityState === \"visible\") this.reconnect();\n    }\n    /**\n\t * Sends an arbitrary message to the server.\n\t *\n\t * @param {string} message   json encoded request object to send to the server, as a string.\n\t *\n\t * @returns true if the message was fully flushed to the socket, false if part of the message\n\t * is queued in the user memory\n\t */ send(message) {\n        // Remove the current keep-alive timer if it exists.\n        this.clearKeepAliveTimer();\n        // Get the current timestamp in milliseconds.\n        const currentTime = Date.now();\n        // Follow up and verify that the message got sent..\n        const verificationTimer = setTimeout(this.verifySend.bind(this, currentTime), this.timeout);\n        // Store the verification timer locally so that it can be cleared when data has been received.\n        this.verifications.push(verificationTimer);\n        // Set a new keep-alive timer.\n        this.setupKeepAliveTimer();\n        // Write the message to the network socket.\n        return this.socket.write(message + (0, $c78f59d21170b7a6$export$2e2bcd8739ae039).statementDelimiter);\n    }\n    // --- Event managers. --- //\n    /**\n\t * Marks the connection as timed out and schedules reconnection if we have not\n\t * received data within the expected time frame.\n\t */ verifySend(sentTimestamp) {\n        // If we haven't received any data since we last sent data out..\n        if (Number(this.lastReceivedTimestamp) < sentTimestamp) {\n            // If this connection is already disconnected, we do not change anything\n            if (this.status === (0, $a58372b18a18806e$export$7516420eb880ab68).DISCONNECTED || this.status === (0, $a58372b18a18806e$export$7516420eb880ab68).DISCONNECTING) {\n                (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).errors(`Tried to verify already disconnected connection to '${this.hostIdentifier}'`);\n                return;\n            }\n            // Remove the current keep-alive timer if it exists.\n            this.clearKeepAliveTimer();\n            // Write a notification to the logs.\n            (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).network(`Connection to '${this.hostIdentifier}' timed out.`);\n            // Close the connection to avoid re-use.\n            // NOTE: This initiates reconnection routines if the connection has not\n            //       been marked as intentionally disconnected.\n            this.socket.disconnect();\n        }\n    }\n    /**\n\t * Updates the connection status when a connection is confirmed.\n\t */ onSocketConnect() {\n        // If a reconnect timer is set, remove it.\n        this.clearReconnectTimer();\n        // Set up the initial timestamp for when we last received data from the server.\n        this.lastReceivedTimestamp = Date.now();\n        // Set up the initial keep-alive timer.\n        this.setupKeepAliveTimer();\n        // Clear all temporary error listeners.\n        this.socket.removeAllListeners(\"error\");\n        // Set up handler for network errors.\n        this.socket.on(\"error\", this.onSocketError.bind(this));\n    }\n    /**\n\t * Updates the connection status when a connection is ended.\n\t */ onSocketDisconnect() {\n        // Send a disconnect signal higher up the stack.\n        this.emit(\"disconnect\");\n        // Remove the current keep-alive timer if it exists.\n        this.clearKeepAliveTimer();\n        // If this is a connection we're trying to tear down..\n        if (this.status === (0, $a58372b18a18806e$export$7516420eb880ab68).DISCONNECTING) {\n            // If a reconnect timer is set, remove it.\n            this.clearReconnectTimer();\n            // Remove all event listeners\n            this.removeAllListeners();\n            // Mark the connection as disconnected.\n            this.status = (0, $a58372b18a18806e$export$7516420eb880ab68).DISCONNECTED;\n            // Write a log message.\n            (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).network(`Disconnected from '${this.hostIdentifier}'.`);\n        } else {\n            // If this is for an established connection..\n            if (this.status === (0, $a58372b18a18806e$export$7516420eb880ab68).CONNECTED) // Write a notification to the logs.\n            (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).errors(`Connection with '${this.hostIdentifier}' was closed, trying to reconnect in ${this.reconnectInterval / 1000} seconds.`);\n            // Mark the connection as disconnected for now..\n            this.status = (0, $a58372b18a18806e$export$7516420eb880ab68).DISCONNECTED;\n            // If we don't have a pending reconnection timer..\n            if (!this.timers.reconnect) // Attempt to reconnect after one keep-alive duration.\n            this.timers.reconnect = setTimeout(this.reconnect.bind(this), this.reconnectInterval);\n        }\n    }\n    /**\n\t * Notify administrator of any unexpected errors.\n\t */ onSocketError(error) {\n        // Report a generic error if no error information is present.\n        // NOTE: When using WSS, the error event explicitly\n        //       only allows to send a \"simple\" event without data.\n        //       https://stackoverflow.com/a/18804298\n        if (typeof error === \"undefined\") // Do nothing, and instead rely on the socket disconnect event for further information.\n        return;\n        // If the DNS lookup failed.\n        if (error.code === \"EAI_AGAIN\") {\n            (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).errors(`Failed to look up DNS records for '${this.host}'.`);\n            return;\n        }\n        // If the connection timed out..\n        if (error.code === \"ETIMEDOUT\") {\n            // Log the provided timeout message.\n            (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).errors(error.message);\n            return;\n        }\n        // Log unknown error\n        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).errors(`Unknown network error ('${this.hostIdentifier}'): `, error);\n    }\n}\nvar // Export the connection.\n$1326c18f93f95fee$export$2e2bcd8739ae039 = $1326c18f93f95fee$var$ElectrumConnection;\n\n\n\n\n\n\n// Acceptable parameter types for RPC messages\nconst $7c0fb93e8eea922a$export$d73a2e87a509880 = function(message) {\n    return \"id\" in message && \"error\" in message;\n};\nconst $7c0fb93e8eea922a$export$81276773828ff315 = function(message) {\n    return \"id\" in message && \"result\" in message;\n};\nconst $7c0fb93e8eea922a$export$280de919a0cf6928 = function(message) {\n    return !(\"id\" in message) && \"method\" in message;\n};\nconst $7c0fb93e8eea922a$export$94e3360fcddccc76 = function(message) {\n    return \"id\" in message && \"method\" in message;\n};\n\n\n\n/**\n * Triggers when the underlying connection is established.\n *\n * @event ElectrumClient#connected\n */ /**\n * Triggers when the underlying connection is lost.\n *\n * @event ElectrumClient#disconnected\n */ /**\n * Triggers when the remote server sends data that is not a request response.\n *\n * @event ElectrumClient#notification\n */ /**\n * High-level Electrum client that lets applications send requests and subscribe to notification events from a server.\n */ class $620a18299ef8d6fd$var$ElectrumClient extends (0, $4QiMX$EventEmitter) {\n    /**\n\t * Initializes an Electrum client.\n\t *\n\t * @param {string} application            your application name, used to identify to the electrum host.\n\t * @param {string} version                protocol version to use with the host.\n\t * @param {string} host                   fully qualified domain name or IP number of the host.\n\t * @param {number} port                   the TCP network port of the host.\n\t * @param {TransportScheme} scheme        the transport scheme to use for connection\n\t * @param {number} timeout                how long network delays we will wait for before taking action, in milliseconds.\n\t * @param {number} pingInterval           the time between sending pings to the electrum host, in milliseconds.\n\t * @param {number} reconnectInterval      the time between reconnection attempts to the electrum host, in milliseconds.\n\t * @param {boolean} useBigInt\t\t\t  whether to use bigint for numbers in json response.\n\t *\n\t * @throws {Error} if `version` is not a valid version string.\n\t */ constructor(application, version, host, port = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).PORT, scheme = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).TRANSPORT_SCHEME, timeout = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).TIMEOUT, pingInterval = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).PING_INTERVAL, reconnectInterval = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).RECONNECT, useBigInt = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).USE_BIG_INT){\n        // Initialize the event emitter.\n        super();\n        // Initialize an empty list of subscription metadata.\n        this.subscriptionMethods = {};\n        // Start counting the request IDs from 0\n        this.requestId = 0;\n        // Initialize an empty dictionary for keeping track of request resolvers\n        this.requestResolvers = {};\n        // Mutex lock used to prevent simultaneous connect() and disconnect() calls.\n        this.connectionLock = new (0, $4QiMX$Mutex)();\n        // Set up a connection to an electrum server.\n        this.connection = new (0, $1326c18f93f95fee$export$2e2bcd8739ae039)(application, version, host, port, scheme, timeout, pingInterval, reconnectInterval, useBigInt);\n    }\n    /**\n\t * Connects to the remote server.\n\t *\n\t * @throws {Error} if the socket connection fails.\n\t * @returns a promise resolving when the connection is established.\n\t */ async connect() {\n        // Create a lock so that multiple connects/disconnects cannot race each other.\n        const unlock = await this.connectionLock.acquire();\n        try {\n            // If we are already connected, do not attempt to connect again.\n            if (this.connection.status === (0, $a58372b18a18806e$export$7516420eb880ab68).CONNECTED) return;\n            // Listen for parsed statements.\n            this.connection.on(\"statement\", this.response.bind(this));\n            // Hook up resubscription on connection.\n            this.connection.on(\"connect\", this.resubscribeOnConnect.bind(this));\n            // Relay connect and disconnect events.\n            this.connection.on(\"connect\", this.emit.bind(this, \"connected\"));\n            this.connection.on(\"disconnect\", this.onConnectionDisconnect.bind(this));\n            // Relay error events.\n            this.connection.on(\"error\", this.emit.bind(this, \"error\"));\n            // Connect with the server.\n            await this.connection.connect();\n        } finally{\n            unlock();\n        }\n    }\n    /**\n\t * Disconnects from the remote server and removes all event listeners/subscriptions and open requests.\n\t *\n\t * @param {boolean} force                 disconnect even if the connection has not been fully established yet.\n\t * @param {boolean} retainSubscriptions   retain subscription data so they will be restored on reconnection.\n\t *\n\t * @returns true if successfully disconnected, or false if there was no connection.\n\t */ async disconnect(force = false, retainSubscriptions = false) {\n        // Create a lock so that multiple connects/disconnects cannot race each other.\n        const unlock = await this.connectionLock.acquire();\n        try {\n            if (!retainSubscriptions) {\n                // Cancel all event listeners.\n                this.removeAllListeners();\n                // Remove all subscription data\n                this.subscriptionMethods = {};\n            }\n            // For each pending request..\n            for(const index in this.requestResolvers){\n                // Reject the request.\n                const requestResolver = this.requestResolvers[index];\n                requestResolver(new Error(\"Manual disconnection\"));\n                // Remove the request.\n                delete this.requestResolvers[index];\n            }\n            // Disconnect from the remove server.\n            return await this.connection.disconnect(force);\n        } finally{\n            unlock();\n        }\n    }\n    /**\n\t * Calls a method on the remote server with the supplied parameters.\n\t *\n\t * @param {string} method          name of the method to call.\n\t * @param {...string} parameters   one or more parameters for the method.\n\t *\n\t * @throws {Error} if the client is disconnected.\n\t * @returns a promise that resolves with the result of the method or an Error.\n\t */ async request(method, ...parameters) {\n        // If we are not connected to a server..\n        if (this.connection.status !== (0, $a58372b18a18806e$export$7516420eb880ab68).CONNECTED) // Reject the request with a disconnected error message.\n        throw new Error(`Unable to send request to a disconnected server '${this.connection.host}'.`);\n        // Increase the request ID by one.\n        this.requestId += 1;\n        // Store a copy of the request id.\n        const id = this.requestId;\n        // Format the arguments as an electrum request object.\n        const message = (0, $c78f59d21170b7a6$export$2e2bcd8739ae039).buildRequestObject(method, parameters, id);\n        // Define a function to wrap the request in a promise.\n        const requestResolver = (resolve)=>{\n            // Add a request resolver for this promise to the list of requests.\n            this.requestResolvers[id] = (error, data)=>{\n                // If the resolution failed..\n                if (error) // Resolve the promise with the error for the application to handle.\n                resolve(error);\n                else // Resolve the promise with the request results.\n                resolve(data);\n            };\n            // Send the request message to the remote server.\n            this.connection.send(message);\n        };\n        // Write a log message.\n        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).network(`Sending request '${method}' to '${this.connection.host}'`);\n        // return a promise to deliver results later.\n        return new Promise(requestResolver);\n    }\n    /**\n\t * Subscribes to the method and payload at the server.\n\t *\n\t * @note the response for the subscription request is issued as a notification event.\n\t *\n\t * @param {string}    method       one of the subscribable methods the server supports.\n\t * @param {...string} parameters   one or more parameters for the method.\n\t *\n\t * @throws {Error} if the client is disconnected.\n\t * @returns a promise resolving when the subscription is established.\n\t */ async subscribe(method, ...parameters) {\n        // Initialize an empty list of subscription payloads, if needed.\n        if (!this.subscriptionMethods[method]) this.subscriptionMethods[method] = new Set();\n        // Store the subscription parameters to track what data we have subscribed to.\n        this.subscriptionMethods[method].add(JSON.stringify(parameters));\n        // Send initial subscription request.\n        const requestData = await this.request(method, ...parameters);\n        // Construct a notification structure to package the initial result as a notification.\n        const notification = {\n            jsonrpc: \"2.0\",\n            method: method,\n            params: [\n                ...parameters,\n                requestData\n            ]\n        };\n        // Manually emit an event for the initial response.\n        this.emit(\"notification\", notification);\n    }\n    /**\n\t * Unsubscribes to the method at the server and removes any callback functions\n\t * when there are no more subscriptions for the method.\n\t *\n\t * @param {string}    method       a previously subscribed to method.\n\t * @param {...string} parameters   one or more parameters for the method.\n\t *\n\t * @throws {Error} if no subscriptions exist for the combination of the provided `method` and `parameters.\n\t * @throws {Error} if the client is disconnected.\n\t * @returns a promise resolving when the subscription is removed.\n\t */ async unsubscribe(method, ...parameters) {\n        // Throw an error if the client is disconnected.\n        if (this.connection.status !== (0, $a58372b18a18806e$export$7516420eb880ab68).CONNECTED) throw new Error(`Unable to send unsubscribe request to a disconnected server '${this.connection.host}'.`);\n        // If this method has no subscriptions..\n        if (!this.subscriptionMethods[method]) // Reject this promise with an explanation.\n        throw new Error(`Cannot unsubscribe from '${method}' since the method has no subscriptions.`);\n        // Pack up the parameters as a long string.\n        const subscriptionParameters = JSON.stringify(parameters);\n        // If the method payload could not be located..\n        if (!this.subscriptionMethods[method].has(subscriptionParameters)) // Reject this promise with an explanation.\n        throw new Error(`Cannot unsubscribe from '${method}' since it has no subscription with the given parameters.`);\n        // Remove this specific subscription payload from internal tracking.\n        this.subscriptionMethods[method].delete(subscriptionParameters);\n        // Send unsubscription request to the server\n        // NOTE: As a convenience we allow users to define the method as the subscribe or unsubscribe version.\n        await this.request(method.replace(\".subscribe\", \".unsubscribe\"), ...parameters);\n        // Write a log message.\n        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).client(`Unsubscribed from '${String(method)}' for the '${subscriptionParameters}' parameters.`);\n    }\n    /**\n\t * Restores existing subscriptions without updating status or triggering manual callbacks.\n\t *\n\t * @throws {Error} if subscription data cannot be found for all stored event names.\n\t * @throws {Error} if the client is disconnected.\n\t * @returns a promise resolving to true when the subscriptions are restored.\n\t *\n\t * @ignore\n\t */ async resubscribeOnConnect() {\n        // Write a log message.\n        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).client(`Connected to '${this.connection.hostIdentifier}'.`);\n        // Initialize an empty list of resubscription promises.\n        const resubscriptionPromises = [];\n        // For each method we have a subscription for..\n        for(const method in this.subscriptionMethods){\n            // .. and for each parameter we have previously been subscribed to..\n            for (const parameterJSON of this.subscriptionMethods[method].values()){\n                // restore the parameters from JSON.\n                const parameters = JSON.parse(parameterJSON);\n                // Send a subscription request.\n                resubscriptionPromises.push(this.subscribe(method, ...parameters));\n            }\n            // Wait for all re-subscriptions to complete.\n            await Promise.all(resubscriptionPromises);\n        }\n        // Write a log message if there was any subscriptions to restore.\n        if (resubscriptionPromises.length > 0) (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).client(`Restored ${resubscriptionPromises.length} previous subscriptions for '${this.connection.hostIdentifier}'`);\n    }\n    /**\n\t * Parser messages from the remote server to resolve request promises and emit subscription events.\n\t *\n\t * @param {RPCNotification | RPCResponse} message   the response message\n\t *\n\t * @throws {Error} if the message ID does not match an existing request.\n\t * @ignore\n\t */ response(message) {\n        // If the received message is a notification, we forward it to all event listeners\n        if ((0, $7c0fb93e8eea922a$export$280de919a0cf6928)(message)) {\n            // Write a log message.\n            (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).client(`Received notification for '${message.method}' from '${this.connection.host}'`);\n            // Forward the message content to all event listeners.\n            this.emit(\"notification\", message);\n            // Return since it does not have an associated request resolver\n            return;\n        }\n        // If the response ID is null we cannot use it to index our request resolvers\n        if (message.id === null) // Throw an internal error, this should not happen.\n        throw new Error(\"Internal error: Received an RPC response with ID null.\");\n        // Look up which request promise we should resolve this.\n        const requestResolver = this.requestResolvers[message.id];\n        // If we do not have a request resolver for this response message..\n        if (!requestResolver) // Throw an internal error, this should not happen.\n        throw new Error(\"Internal error: Callback for response not available.\");\n        // Remove the promise from the request list.\n        delete this.requestResolvers[message.id];\n        // If the message contains an error..\n        if ((0, $7c0fb93e8eea922a$export$d73a2e87a509880)(message)) // Forward the message error to the request resolver and omit the `result` parameter.\n        requestResolver(new Error(message.error.message));\n        else // Forward the message content to the request resolver and omit the `error` parameter\n        // (by setting it to undefined).\n        requestResolver(undefined, message.result);\n    }\n    /**\n\t * Callback function that is called when connection to the Electrum server is lost.\n\t * Aborts all active requests with an error message indicating that connection was lost.\n\t *\n\t * @ignore\n\t */ onConnectionDisconnect() {\n        // Emit a disconnection signal to any listeners.\n        this.emit(\"disconnected\");\n        // Loop over active requests\n        for(const resolverId in this.requestResolvers){\n            // Extract request resolver for readability\n            const requestResolver = this.requestResolvers[resolverId];\n            // Resolve the active request with an error indicating that the connection was lost.\n            requestResolver(new Error(\"Connection lost\"));\n            // Remove the promise from the request list.\n            delete this.requestResolvers[resolverId];\n        }\n    }\n}\nvar // Export the client.\n$620a18299ef8d6fd$export$2e2bcd8739ae039 = $620a18299ef8d6fd$var$ElectrumClient;\n\n\n\n\n\n\n\n\n\n/**\n * Triggers when the cluster connects to enough servers to satisfy both the cluster confidence and distribution policies.\n *\n * @event ElectrumCluster#ready\n * @deprecated\n */ /**\n * Triggers when the cluster loses a connection and can no longer satisfy the cluster distribution policy.\n *\n * @event ElectrumCluster#degraded\n * @deprecated\n */ /**\n * Triggers when the cluster loses a connection and can no longer satisfy the cluster confidence policy.\n *\n * @event ElectrumCluster#disabled\n * @deprecated\n */ /**\n * Triggers when the cluster verifies the integrity of remote server sent data that is not a request responses.\n *\n * @event ElectrumCluster#notification\n * @deprecated\n */ /**\n * High-level electrum client that provides transparent load balancing, confidence checking and/or low-latency polling.\n * @deprecated\n */ class $9b2ed2eb52532075$var$ElectrumCluster extends (0, $4QiMX$EventEmitter) {\n    /**\n\t * @param {string} application    your application name, used to identify to the electrum hosts.\n\t * @param {string} version        protocol version to use with the hosts.\n\t * @param {number} confidence     wait for this number of hosts to provide identical results.\n\t * @param {number} distribution   request information from this number of hosts.\n\t * @param {ClusterOrder} order    select hosts to communicate with in this order.\n\t * @param {number} timeout        how long network delays we will wait for before taking action, in milliseconds.\n\t * @param {number} pingInterval      the time between sending pings to the electrum host, in milliseconds.\n\t * @param {number} reconnectInterval the time between reconnection attempts to the electrum host, in milliseconds.\n\t * @param {boolean} useBigInt\t  whether to use bigint for numbers in json response.\n\t */ constructor(application, version, confidence = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).CLUSTER_CONFIDENCE, distribution = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).CLUSTER_DISTRIBUTION, order = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).CLUSTER_ORDER, timeout = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).TIMEOUT, pingInterval = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).PING_INTERVAL, reconnectInterval = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).RECONNECT, useBigInt = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).USE_BIG_INT){\n        // Initialize the event emitter.\n        super();\n        this.application = application;\n        this.version = version;\n        this.confidence = confidence;\n        this.distribution = distribution;\n        this.order = order;\n        this.timeout = timeout;\n        this.pingInterval = pingInterval;\n        this.reconnectInterval = reconnectInterval;\n        this.useBigInt = useBigInt;\n        this.// Initialize an empty dictionary of clients in the cluster\n        clients = {};\n        this.// Start at 0 connected clients\n        connections = 0;\n        this.// Set up an empty set of notification data.\n        notifications = {};\n        this.// Start the cluster in DISABLED state\n        status = (0, $a58372b18a18806e$export$c66b56bc0ff967ca).DISABLED;\n        this.// Start counting request IDs at 0\n        requestCounter = 0;\n        this.// Initialize an empty dictionary for keeping track of request resolvers\n        requestPromises = {};\n        this.// Lock to prevent concurrency race conditions when sending requests.\n        requestLock = new (0, $4QiMX$Mutex)();\n        this.// Lock to prevent concurrency race conditions when receiving responses.\n        responseLock = new (0, $4QiMX$Mutex)();\n        // Write a log message.\n        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).cluster(`Initialized empty cluster (${confidence} of ${distribution || \"ALL\"})`);\n        // Print out a warning if we cannot guarantee consensus for subscription notifications.\n        // Case 1: we don't know how many servers will be used, so warning just to be safe\n        // Case 2: we know the number of servers needed to trust a response is less than 50%.\n        if (distribution === (0, $a58372b18a18806e$export$436a960acc41e848).ALL || confidence / distribution <= 0.50) (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).warning(`Subscriptions might return multiple valid responses when confidence (${confidence}) is less than 51% of distribution.`);\n    }\n    /**\n\t * Adds a server to the cluster.\n\t * @deprecated\n\t *\n\t * @param {string} host              fully qualified domain name or IP number of the host.\n\t * @param {number} port              the TCP network port of the host.\n\t * @param {TransportScheme} scheme   the transport scheme to use for connection\n\t * @param {boolean} autoConnect      flag indicating whether the server should automatically connect (default true)\n\t *\n\t * @throws {Error} if the cluster's version is not a valid version string.\n\t * @returns a promise that resolves when the connection has been initiated.\n\t */ async addServer(host, port = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).PORT, scheme = (0, $5abc8fb342687c03$export$f019be48b3aacb1a).TRANSPORT_SCHEME, autoConnect = true) {\n        // Set up a new electrum client.\n        const client = new (0, $620a18299ef8d6fd$export$2e2bcd8739ae039)(this.application, this.version, host, port, scheme, this.timeout, this.pingInterval, this.reconnectInterval, this.useBigInt);\n        // Define the client identity to avoid repetition.\n        const clientIdentity = `${host}:${port}`;\n        // Store this client.\n        this.clients[clientIdentity] = {\n            state: (0, $a58372b18a18806e$export$c4f81c6d30ca200f).UNAVAILABLE,\n            connection: client\n        };\n        /**\n\t\t * Define a helper function to evaluate and log cluster status.\n\t\t *\n\t\t * @fires ElectrumCluster#ready\n\t\t * @fires ElectrumCluster#degraded\n\t\t * @fires ElectrumCluster#disabled\n\t\t */ const updateClusterStatus = ()=>{\n            // Calculate the required distribution, taking into account that distribution to all is represented with 0.\n            const distribution = Math.max(this.confidence, this.distribution);\n            // Check if we have enough connections to saturate distribution.\n            if (this.connections >= distribution) // If the cluster is not currently considered ready..\n            {\n                if (this.status !== (0, $a58372b18a18806e$export$c66b56bc0ff967ca).READY) {\n                    // Mark the cluster as ready.\n                    this.status = (0, $a58372b18a18806e$export$c66b56bc0ff967ca).READY;\n                    // Emit the ready signal to indicate the cluster is running in a ready mode.\n                    this.emit(\"ready\");\n                    // Write a log message with an update on the current cluster status.\n                    (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).cluster(`Cluster status is ready (currently ${this.connections} of ${distribution} connections available.)`);\n                }\n            } else if (this.connections >= this.confidence) // If the cluster is not currently considered degraded..\n            {\n                if (this.status !== (0, $a58372b18a18806e$export$c66b56bc0ff967ca).DEGRADED) {\n                    // Mark the cluster as degraded.\n                    this.status = (0, $a58372b18a18806e$export$c66b56bc0ff967ca).DEGRADED;\n                    // Emit the degraded signal to indicate the cluster is running in a degraded mode.\n                    this.emit(\"degraded\");\n                    // Write a log message with an update on the current cluster status.\n                    (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).cluster(`Cluster status is degraded (only ${this.connections} of ${distribution} connections available.)`);\n                }\n            } else if (this.status !== (0, $a58372b18a18806e$export$c66b56bc0ff967ca).DISABLED) {\n                // Mark the cluster as disabled.\n                this.status = (0, $a58372b18a18806e$export$c66b56bc0ff967ca).DISABLED;\n                // Emit the degraded signal to indicate the cluster is disabled.\n                this.emit(\"disabled\");\n                // Write a log message with an update on the current cluster status.\n                (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).cluster(`Cluster status is disabled (only ${this.connections} of the ${distribution} connections are available.)`);\n            }\n        };\n        // Define a function to run when client has connected.\n        const onConnect = async ()=>{\n            // Wrap in a try-catch so we can ignore errors.\n            try {\n                // Check connection status\n                const connectionStatus = client.connection.status;\n                // If the connection is fine..\n                if (connectionStatus === (0, $a58372b18a18806e$export$7516420eb880ab68).CONNECTED) {\n                    // If this was from an unavailable connection..\n                    if (this.clients[clientIdentity].state === (0, $a58372b18a18806e$export$c4f81c6d30ca200f).UNAVAILABLE) // Update connection counter.\n                    this.connections += 1;\n                    // Set client state to available.\n                    this.clients[clientIdentity].state = (0, $a58372b18a18806e$export$c4f81c6d30ca200f).AVAILABLE;\n                    // update the cluster status.\n                    updateClusterStatus();\n                }\n            } catch (error) {\n            // Do nothing.\n            }\n        };\n        // Define a function to run when client disconnects.\n        const onDisconnect = ()=>{\n            // If this was from an established connection..\n            if (this.clients[clientIdentity].state === (0, $a58372b18a18806e$export$c4f81c6d30ca200f).AVAILABLE) // Update connection counter.\n            this.connections -= 1;\n            // Set client state to unavailable.\n            this.clients[clientIdentity].state = (0, $a58372b18a18806e$export$c4f81c6d30ca200f).UNAVAILABLE;\n            // update the cluster status.\n            updateClusterStatus();\n        };\n        // Set up handlers for connection and disconnection.\n        client.connection.on(\"connect\", onConnect.bind(this));\n        client.connection.on(\"disconnect\", onDisconnect.bind(this));\n        // Set up handler for notification events, that includes the identity of this client so it can be tracked.\n        client.on(\"notification\", this.handleSubscriptionNotifications.bind(this, clientIdentity));\n        // Connect if auto-connect is set to true, returning the connection result.\n        if (autoConnect) try {\n            // Set up the connection.\n            await client.connect();\n        } catch (error) {\n            // Log a message why the connection failed and move on.\n            (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).cluster(`Failed to connect with ${host}: ${error}`);\n        }\n    }\n    /**\n\t * Calls a method on the remote server with the supplied parameters.\n\t * @deprecated\n\t *\n\t * @param {string}    method       name of the method to call.\n\t * @param {...string} parameters   one or more parameters for the method.\n\t *\n\t * @throws {Error} if not enough clients are connected\n\t * @throws {Error} if no response is received with sufficient integrity\n\t * @returns a promise that resolves with the result of the method.\n\t */ async request(method, ...parameters) {\n        // Check if the cluster is unable to serve requests.\n        if (this.status === (0, $a58372b18a18806e$export$c66b56bc0ff967ca).DISABLED) throw new Error(`Cannot request '${method}' when available clients (${this.connections}) is less than required confidence (${this.confidence}).`);\n        // Lock this request method temporarily.\n        const unlock = await this.requestLock.acquire();\n        // Declare requestId outside of try-catch scope.\n        let requestId = 0;\n        // NOTE: If this async method is called very rapidly, it's theoretically possible that the parts below could interfere.\n        try {\n            // Increase the current request counter.\n            this.requestCounter += 1;\n            // Copy the request counter so we can work with the copy and know it won't change\n            // even if the request counter is raised from concurrent requests.\n            requestId = this.requestCounter;\n        } finally{\n            // Unlock this request method now that the concurrency sensitive condition is completed.\n            unlock();\n        }\n        // Initialize an empty list of request promises.\n        this.requestPromises[requestId] = [];\n        // Extract all available client IDs\n        const availableClientIDs = Object.keys(this.clients).filter((clientID)=>this.clients[clientID].state === (0, $a58372b18a18806e$export$c4f81c6d30ca200f).AVAILABLE);\n        // Initialize a sent counter.\n        let sentCounter = 0;\n        // Determine the number of clients we need to send to, taking ClusterDistribution.ALL (=0) into account.\n        let requiredDistribution = this.distribution || availableClientIDs.length;\n        // If the cluster is in degraded status, we do not have enough available clients to\n        // match distribution, but still enough to reach consensus, so we use the clients we have.\n        if (this.status === (0, $a58372b18a18806e$export$c66b56bc0ff967ca).DEGRADED) requiredDistribution = availableClientIDs.length;\n        // Repeat until we have sent the request to the desired number of clients.\n        while(sentCounter < requiredDistribution){\n            // Pick an array index according to our ordering strategy.\n            let currentIndex = 0;\n            // Use a random array index when cluster order is set to RANDOM\n            if (this.order === (0, $a58372b18a18806e$export$161fe3707f756bf9).RANDOM) currentIndex = Math.floor(Math.random() * availableClientIDs.length);\n            // Move a client identity from the client list to its own variable.\n            const [currentClient] = availableClientIDs.splice(currentIndex, 1);\n            // Send the request to the client and store the request promise.\n            const requestPromise = this.clients[currentClient].connection.request(method, ...parameters);\n            this.requestPromises[requestId].push(requestPromise);\n            // Increase the sent counter.\n            sentCounter += 1;\n        }\n        // Define a function to poll for request responses.\n        const pollResponse = (resolve, reject)=>{\n            // Define a function to resolve request responses based on integrity.\n            const resolveRequest = async ()=>{\n                // Set up an empty set of response data.\n                const responseData = {};\n                // Set up a counter to keep track of how many responses we have checked.\n                let checkedResponses = 0;\n                // For each server we issued a request to..\n                for(const currentPromise in this.requestPromises[requestId]){\n                    // Initialize a holder for the response in the required scope to use it.\n                    let response;\n                    // Race the request promise against a pre-resolved request to determine request status.\n                    try {\n                        // Arrange an array of the current promise and an empty promise such that..\n                        const promises = [\n                            this.requestPromises[requestId][currentPromise],\n                            Promise.resolve(undefined)\n                        ];\n                        // .. we can get the result of the current promise if it is currently resolved, but don't need to wait for it otherwise.\n                        response = await Promise.race(promises);\n                    } // Handle case where the request sent resulted in a thrown error / promise rejection, rather then resolving to a response.\n                    // Note that in the worst time case, each request can be expected to  eventually throw an error on timeout.\n                    catch (error) {\n                        // Increase the counter for checked responses.\n                        checkedResponses += 1;\n                        continue;\n                    }\n                    // If the promise is settled..\n                    if (response !== undefined) {\n                        // Calculate a unique identifier for this notification data.\n                        const responseDataIdentifier = (0, $4QiMX$stringify)(response);\n                        // Increase the counter for checked responses.\n                        checkedResponses += 1;\n                        // Either set the response data counter or increase it.\n                        if (responseData[responseDataIdentifier] === undefined) responseData[responseDataIdentifier] = 1;\n                        else responseData[responseDataIdentifier] += 1;\n                        // Check if this response has enough integrity according to our confidence strategy.\n                        if (responseData[responseDataIdentifier] === this.confidence) {\n                            // Write log entry.\n                            (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).cluster(`Validated response for '${method}' with sufficient integrity (${this.confidence}).`);\n                            // Resolve the request with this response.\n                            resolve(response);\n                            // Return after resolving since we do not want to continue the execution.\n                            return;\n                        }\n                    }\n                }\n                // If all clients have responded but we failed to reach desired integrity..\n                if (checkedResponses === this.requestPromises[requestId].length) {\n                    // Reject this request with an error message.\n                    reject(new Error(`Unable to complete request for '${method}', response failed to reach sufficient integrity (${this.confidence}).`));\n                    // Return after rejecting since we do not want to continue the execution.\n                    return;\n                }\n                // If we are not ready, but have not timed out and should wait more..\n                setTimeout(resolveRequest, 1000);\n            };\n            // Attempt the initial resolution of the request.\n            resolveRequest();\n        };\n        // return some kind of promise that resolves when integrity number of clients results match.\n        return new Promise(pollResponse);\n    }\n    /**\n\t * Subscribes to the method at the cluster and attaches the callback function to the event feed.\n\t * @deprecated\n\t *\n\t * @note the response for the subscription request is issued as a notification event.\n\t *\n\t * @param {string}    method       one of the subscribable methods the server supports.\n\t * @param {...string} parameters   one or more parameters for the method.\n\t *\n\t * @throws {Error} if not enough clients are connected\n\t * @throws {Error} if no response is received with sufficient integrity for the initial request\n\t */ async subscribe(method, ...parameters) {\n        // Set up event listener for this subscription.\n        for(const currentClient in this.clients){\n            // Copy the current client for brevity.\n            const client = this.clients[currentClient].connection;\n            try {\n                // Send initial subscription request.\n                // NOTE: This stores and manages the subscription even if the initial request fails.\n                await client.subscribe(method, ...parameters);\n            } catch (error) {\n            // Do nothing, as this is handled on a best-effort basis and\n            // not all servers are expected to be ready at all times.\n            }\n        }\n    }\n    /**\n\t * Unsubscribes to the method at the cluster and removes any callback functions\n\t * when there are no more subscriptions for the method.\n\t * @deprecated\n\t *\n\t * @param {string}    method       one of the subscribable methods the server supports.\n\t * @param {...string} parameters   one or more parameters for the method.\n\t *\n\t * @throws {Error} if, for any of the clients, no subscriptions exist for the combination of the provided `method` and `parameters.\n\t */ async unsubscribe(method, ...parameters) {\n        // Initialize an empty list to track subscription requests.\n        const unsubscriptionPromises = [];\n        // For each client..\n        for(const currentClient in this.clients){\n            // Store client in variable for brevity\n            const client = this.clients[currentClient].connection;\n            // unsubscribe this client.\n            unsubscriptionPromises.push(client.unsubscribe(method, ...parameters));\n        }\n        // Wait for all unsubscription promises to resolve.\n        await Promise.all(unsubscriptionPromises);\n    }\n    /**\n\t * Define a callback function to validate server notifications and pass them to the subscribe callback.\n\t * @deprecated\n\t *\n\t * @ignore\n\t */ async handleSubscriptionNotifications(clientIdentity, data) {\n        // Lock this response method temporarily.\n        const unlock = await this.responseLock.acquire();\n        try {\n            // Calculate a unique identifier for this notification data.\n            const responseDataIdentifier = (0, $4QiMX$stringify)(data);\n            // Create an empty list of clients who have responded to this notification, if necessary.\n            if (this.notifications[responseDataIdentifier] === undefined) this.notifications[responseDataIdentifier] = new Set();\n            // Ensure this client is on the list of clients that have provided this specific notification.\n            this.notifications[responseDataIdentifier].add(clientIdentity);\n            // Check if this notification has enough integrity according to our confidence strategy.\n            // NOTE: We check against === instead of >== in order to ensure that we only emit each notification once.\n            if (this.notifications[responseDataIdentifier].size === this.confidence) {\n                // Write log entry.\n                (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).cluster(`Validated notification for '${data.method}' with sufficient integrity (${this.confidence}).`);\n                // Emit an event for the notification data.\n                this.emit(\"notification\", data);\n                // Dismiss the notification data after all nodes are assumed to have sent their notifications.\n                // NOTE: This is a redundant mechanic to ensure that even if some nodes don't provide this notification, we still clear this data.\n                // NOTE: This also introduces a race-condition where if a legit identical notification comes in before/during this timeout, it might get silenced.\n                setTimeout(this.dismissSubscriptionNotification.bind(this, responseDataIdentifier), this.timeout);\n            }\n            // Check if this notification has been fully handled.\n            if (this.notifications[responseDataIdentifier].size === this.distribution) // Dismiss existing response data as we know all related parties have provided their input.\n            this.dismissSubscriptionNotification(responseDataIdentifier);\n        } finally{\n            // Unlock the response method so it can handle the next set of data.\n            unlock();\n        }\n    }\n    /**\n\t * Forgets/Removes notification data for a specific notification.\n\t *\n\t * This is required in order to allow future identical notifications to be properly processed and emitted.\n\t * @deprecated\n\t */ async dismissSubscriptionNotification(responseDataIdentifier) {\n        delete this.notifications[responseDataIdentifier];\n    }\n    /**\n\t * Provides a method to check or wait for the cluster to become ready.\n\t * @deprecated\n\t *\n\t * @returns a promise that resolves when the required servers are available.\n\t */ async ready() {\n        // Store the current timestamp.\n        const readyTimestamp = Date.now();\n        // Define a function to poll for availability of the cluster.\n        const availabilityPoller = (resolve)=>{\n            // Define a function to check if the cluster is ready to be used.\n            const connectionAvailabilityVerifier = ()=>{\n                // Check if the cluster is active..\n                if (this.status === (0, $a58372b18a18806e$export$c66b56bc0ff967ca).READY) {\n                    // Resolve with true to indicate that the cluster is ready to use.\n                    resolve(true);\n                    // Return after resolving since we do not want to continue the execution.\n                    return;\n                }\n                // Calculate how long we have waited, in milliseconds.\n                const timeWaited = Date.now() - readyTimestamp;\n                // Check if we have waited longer than our timeout setting.\n                if (timeWaited > this.timeout) {\n                    // Resolve with false to indicate that we did not get ready in time.\n                    resolve(false);\n                    // Return after resolving since we do not want to continue the execution.\n                    return;\n                }\n                // If we are not ready, but have not timed out and should wait more..\n                setTimeout(connectionAvailabilityVerifier, 50);\n            };\n            // Run the initial verification.\n            connectionAvailabilityVerifier();\n        };\n        // Return a promise that resolves when the available clients is sufficient.\n        return new Promise(availabilityPoller);\n    }\n    /**\n\t * Connects all servers from the cluster and attaches event listeners and handlers\n\t * for all underlying clients and connections.\n\t * @deprecated\n\t *\n\t * @throws {Error} if the cluster's version is not a valid version string.\n\t */ async startup() {\n        // Write a log message.\n        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).cluster(\"Starting up cluster.\");\n        // Keep track of all connections\n        const connections = [];\n        // Loop over all clients and reconnect them if they're disconnected\n        for(const clientKey in this.clients){\n            // Retrieve connection information for the client\n            const { host: host, port: port, scheme: scheme } = this.clients[clientKey].connection.connection;\n            // Only connect currently unavailable/disconnected clients\n            if (this.clients[clientKey].state === (0, $a58372b18a18806e$export$c4f81c6d30ca200f).AVAILABLE) // Warn when a server is already connected when calling startup()\n            (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).warning(`Called startup(), but server ${host}:${port} is already connected`);\n            else // Call the addServer() function with the existing connection data\n            // This effectively reconnects the server and re-instates all event listeners\n            connections.push(this.addServer(host, port, scheme));\n        }\n        // Await all connections\n        return Promise.all(connections);\n    }\n    /**\n\t * Disconnects all servers from the cluster. Removes all event listeners and\n\t * handlers from all underlying clients and connections. This includes all\n\t * active subscriptions, unless retainSubscriptions is set to true.\n\t * @deprecated\n\t *\n\t * @param {boolean} retainSubscriptions   retain subscription data so they will be restored on reconnection.\n\t *\n\t * @returns a list with the disconnection result for every client\n\t */ async shutdown(retainSubscriptions = false) {\n        // Write a log message.\n        (0, $ef5ba40c8abe5a13$export$2e2bcd8739ae039).cluster(\"Shutting down cluster.\");\n        // Set up a list of disconnections to wait for.\n        const disconnections = [];\n        const disconnectResolver = (resolve)=>{\n            // Resolve once the cluster is marked as disabled\n            this.once(\"disabled\", ()=>resolve(Promise.all(disconnections)));\n            // For each client in this cluster..\n            for(const clientIndex in this.clients)// Force disconnection regardless of current status.\n            disconnections.push(this.clients[clientIndex].connection.disconnect(true, retainSubscriptions));\n        };\n        // Return a list of booleans indicating disconnections from all clients\n        return new Promise(disconnectResolver);\n    }\n}\nvar // Export the cluster.\n$9b2ed2eb52532075$export$2e2bcd8739ae039 = $9b2ed2eb52532075$var$ElectrumCluster;\n\n\n\n\n\n\n\nexport {$620a18299ef8d6fd$export$2e2bcd8739ae039 as ElectrumClient, $9b2ed2eb52532075$export$2e2bcd8739ae039 as ElectrumCluster, $a192ea5a4eec42d4$export$e1f38ab2b4ebdde6 as isVersionRejected, $a192ea5a4eec42d4$export$9598f0c76aa41d73 as isVersionNegotiated, $5abc8fb342687c03$export$d048df559e6d3842 as ElectrumTransport, $5abc8fb342687c03$export$f019be48b3aacb1a as DefaultParameters, $a58372b18a18806e$export$161fe3707f756bf9 as ClusterOrder, $a58372b18a18806e$export$436a960acc41e848 as ClusterDistribution, $a58372b18a18806e$export$c66b56bc0ff967ca as ClusterStatus, $a58372b18a18806e$export$c4f81c6d30ca200f as ClientState, $a58372b18a18806e$export$7516420eb880ab68 as ConnectionStatus};\n//# sourceMappingURL=index.mjs.map\n"],"names":["global","R","ReflectApply","target","receiver","args","ReflectOwnKeys","ProcessEmitWarning","warning","NumberIsNaN","value","EventEmitter","eventsModule","once","defaultMaxListeners","checkListener","listener","arg","n","_getMaxListeners","that","type","i","doError","events","er","err","handler","len","listeners","arrayClone","_addListener","prepend","m","existing","w","onceWrapper","_onceWrap","state","wrapped","list","position","originalListener","spliceOne","keys","key","_listeners","unwrap","evlistener","unwrapListeners","emitter","listenerCount","arr","copy","index","ret","name","resolve","reject","errorListener","resolver","eventTargetAgnosticAddListener","addErrorHandlerIfEventEmitter","flags","wrapListener","E_CANCELED","__awaiter$2","thisArg","_arguments","P","generator","adopt","fulfilled","step","e","rejected","result","Semaphore","_value","_cancelError","weight","callback","release","queue","entry","_a","queueEntry","previousValue","previousWeight","called","waiter","__awaiter$1","Mutex","cancelError","releaser","s","h","d","y","ms","val","options","parse","fmtLong","fmtShort","str","match","msAbs","plural","isPlural","setup","env","createDebug","coerce","disable","enable","enabled","require$$0","destroy","selectColor","namespace","hash","prevTime","enableOverride","namespacesCache","enabledCache","debug","self","curr","format","formatter","extend","v","delimiter","newDebug","namespaces","split","toNamespace","regexp","common","exports","formatArgs","save","load","useColors","localstorage","warned","module","c","lastC","r","define_process_env_default","formatters","error","isInteger","INTEGER_REGEX","isNumber","NUMBER_REGEX","isSafeNumber","config","num","extractSignificantDigits","requiredDigits","UnsafeNumberReason","getUnsafeNumberReason","EXPONENTIAL_PART_REGEX","DOT_REGEX","TRAILING_ZEROS_REGEX","LEADING_MINUS_AND_ZEROS_REGEX","_typeof","obj","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_toPropertyKey","_createClass","protoProps","staticProps","_defineProperty","_toPrimitive","input","hint","prim","res","LosslessNumber","unsafeReason","isLosslessNumber","parseLosslessNumber","parseNumberAndBigInt","revive","json","reviver","reviveValue","context","reviveArray","reviveObject","object","array","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","o","minLen","_arrayLikeToArray","iter","arr2","text","parseNumber","parseValue","expectValue","expectEndOfInput","parseObject","codeOpeningBrace","skipWhitespace","initial","codeClosingBrace","eatComma","start","parseString","throwObjectKeyExpected","eatColon","throwObjectValueExpected","isDeepEqual","throwDuplicateKey","throwObjectKeyOrEndExpected","parseArray","codeOpeningBracket","codeClosingBracket","_value2","expectArrayItem","throwArrayItemOrEndExpected","_ref","_ref2","_ref3","_ref4","_ref5","_parseString","parseNumeric","parseKeyword","isWhitespace","codeDoubleQuote","codeBackslash","char","escapeChar","escapeCharacters","isHex","throwInvalidUnicodeCharacter","throwInvalidEscapeCharacter","isValidStringCharacter","throwInvalidCharacter","expectEndOfString","codeMinus","expectDigit","codeZero","isNonZeroDigit","isDigit","codeDot","codeLowercaseE","codeUppercaseE","codePlus","codeComma","gotAt","codeColon","numSoFar","pos","chars","end","got","code","codeSpace","codeNewline","codeTab","codeReturn","codeNine","codeUppercaseA","codeUppercaseF","codeLowercaseA","codeLowercaseF","codeOne","a","b","item","isObject","ws","$parcel$export","$ef5ba40c8abe5a13$var$debug","$4QiMX$debug","$ef5ba40c8abe5a13$export$2e2bcd8739ae039","$c78f59d21170b7a6$var$ElectrumProtocol","method","parameters","requestId","$c78f59d21170b7a6$export$2e2bcd8739ae039","$a192ea5a4eec42d4$exports","$a192ea5a4eec42d4$export$e1f38ab2b4ebdde6","$a192ea5a4eec42d4$export$9598f0c76aa41d73","$5abc8fb342687c03$exports","$5abc8fb342687c03$export$d048df559e6d3842","$5abc8fb342687c03$export$f019be48b3aacb1a","$a58372b18a18806e$exports","$a58372b18a18806e$export$161fe3707f756bf9","$a58372b18a18806e$export$436a960acc41e848","$a58372b18a18806e$export$c66b56bc0ff967ca","$a58372b18a18806e$export$c4f81c6d30ca200f","$a58372b18a18806e$export$7516420eb880ab68","ClusterOrder","ClusterDistribution","ClusterStatus","ClientState","ConnectionStatus","$ea64e414b68fe23b$var$ElectrumSocket","$4QiMX$EventEmitter","host","port","scheme","timeout","socketTypes","connectionOptions","$4QiMX$WebSocket","connectionType","data","timeoutError","event","$ea64e414b68fe23b$export$2e2bcd8739ae039","$1326c18f93f95fee$var$ElectrumConnection","application","version","pingInterval","reconnectInterval","useBigInt","timer","statementParts","currentStatementList","statementList","$4QiMX$parse","$4QiMX$parseNumberAndBigInt","currentStatement","message","connectionResolver","rejector","versionNegotiator","versionMessage","versionValidator","errorMessage","force","intentional","disconnectResolver","currentTime","verificationTimer","sentTimestamp","$1326c18f93f95fee$export$2e2bcd8739ae039","$7c0fb93e8eea922a$export$d73a2e87a509880","$7c0fb93e8eea922a$export$280de919a0cf6928","$620a18299ef8d6fd$var$ElectrumClient","$4QiMX$Mutex","unlock","retainSubscriptions","requestResolver","id","requestData","notification","subscriptionParameters","resubscriptionPromises","parameterJSON","resolverId","$620a18299ef8d6fd$export$2e2bcd8739ae039"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12]}