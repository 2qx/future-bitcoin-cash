import{l as u,a as o,e as g,b as k,h as s,c as l}from"./push.C2uMDd7W.js";class d{amount;lock;static lockingScript="00cc00c694a16900c788c08bc39c";static getAddress(t,e,n=o.mainnet){let i=this.getLockingBytecode(t,e),c=u(i,n,{tokenSupport:!0});if(typeof c!="string")throw c;return c}static getUnlockingBytecode(t,e){const n=g(k(BigInt(t))),i=g(e),c=s(this.lockingScript);return new Uint8Array([...i,...n,...c])}static getLockingBytecode(t,e){return new Uint8Array([...s("aa20"),...l(this.getUnlockingBytecode(t,e)),...s("87")])}static asInput(t,e,n){return{outpointIndex:n.vout,outpointTransactionHash:s(n.txid),sequenceNumber:0,unlockingBytecode:this.getUnlockingBytecode(t,e)}}}class p{locktime;static lockingScript="c0d3c0d0a06376b17568c0cec0d188c0cdc0c788c0d0c0c693c0d3c0cc939c77";static getAddress(t,e=o.mainnet){let n=this.getLockingBytecode(t),i=u(n,e,{tokenSupport:!0});if(typeof i!="string")throw i;return i}static getCoupon(t,e,n=o.mainnet){return d.getAddress(t,this.getLockingBytecode(e),n)}static getUnlockingBytecode(t){const e=g(k(BigInt(t))),n=s(this.lockingScript);return new Uint8Array([...e,...n])}static getLockingBytecode(t){return new Uint8Array([...s("aa20"),...l(this.getUnlockingBytecode(t)),...s("87")])}static getSeriesTimes(t,e=3,n=10){const i=Math.pow(10,e),c=t-t%i+i;return Array.from({length:n},(r,a)=>c+i*a)}static getSeries(t,e,n,i=o.mainnet){return this.getSeriesTimes(t,e,n).map(r=>this.getAddress(r,i))}static getCouponSeries(t,e=1e8,n,i,c=o.mainnet){return this.getSeriesTimes(t,n,i).map(a=>d.getAddress(e,this.getLockingBytecode(a),c))}static asInput(t,e){return{outpointIndex:e.vout,outpointTransactionHash:s(e.txid),sequenceNumber:0,unlockingBytecode:this.getUnlockingBytecode(t)}}static asOutput(t,e,n){return{lockingBytecode:this.getLockingBytecode(t),valueSatoshis:BigInt(e.satoshis+n),token:{amount:e.token?.amount-BigInt(n),category:s(e.token?.tokenId),nft:void 0}}}}export{p as V};
//# sourceMappingURL=vault.CM8TiSFi.js.map
