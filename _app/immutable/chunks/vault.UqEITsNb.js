import{l as k,C as r,e as d,b as l,a as s,c as h}from"./push.Buv9URE0.js";function p(o){return o?.length!==void 0?o:Array.from(o)}class u{amount;lock;static lockingScript="00cc00c694a16900c788c08bc39c";static getAddress(t,e,n=r.mainnet){let c=this.getLockingBytecode(t,e),i=k(c,n,{tokenSupport:!0});if(typeof i!="string")throw i;return i}static getUnlockingBytecode(t,e){const n=d(l(BigInt(t))),c=d(e),i=s(this.lockingScript);return new Uint8Array([...c,...n,...i])}static getLockingBytecode(t,e){return new Uint8Array([...s("aa20"),...h(this.getUnlockingBytecode(t,e)),...s("87")])}static asInput(t,e,n){return{outpointIndex:n.vout,outpointTransactionHash:s(n.txid),sequenceNumber:0,unlockingBytecode:this.getUnlockingBytecode(t,e)}}}class y{locktime;static lockingScript="c0d3c0d0a06376b17568c0cec0d188c0cdc0c788c0d0c0c693c0d3c0cc939c77";static getAddress(t,e=r.mainnet){let n=this.getLockingBytecode(t),c=k(n,e,{tokenSupport:!0});if(typeof c!="string")throw c;return c}static getCoupon(t,e,n=r.mainnet){return u.getAddress(t,this.getLockingBytecode(e),n)}static getUnlockingBytecode(t){const e=d(l(BigInt(t))),n=s(this.lockingScript);return new Uint8Array([...e,...n])}static getLockingBytecode(t){return new Uint8Array([...s("aa20"),...h(this.getUnlockingBytecode(t)),...s("87")])}static getSeriesTimes(t,e=3,n=10){const c=Math.pow(10,e),i=t-t%c+c;return Array.from({length:n},(a,g)=>i+c*g)}static getSeries(t,e,n,c=r.mainnet){return this.getSeriesTimes(t,e,n).map(a=>this.getAddress(a,c))}static getCouponSeries(t,e=1e8,n,c,i=r.mainnet){return this.getSeriesTimes(t,n,c).map(g=>u.getAddress(e,this.getLockingBytecode(g),i))}static asInput(t,e){return{outpointIndex:e.vout,outpointTransactionHash:s(e.txid),sequenceNumber:0,unlockingBytecode:this.getUnlockingBytecode(t)}}static asOutput(t,e,n){return{lockingBytecode:this.getLockingBytecode(t),valueSatoshis:BigInt(e.satoshis+n),token:{amount:e.token?.amount-BigInt(n),category:s(e.token?.tokenId),nft:void 0}}}}export{y as V,p as e};
//# sourceMappingURL=vault.UqEITsNb.js.map
