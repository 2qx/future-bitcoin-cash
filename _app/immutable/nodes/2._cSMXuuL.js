import{s as he,o as me,n as D,a as ve}from"../chunks/scheduler.CoKJEDLV.js";import{S as be,i as ke,e as g,s as S,p as ge,c as w,d as m,f as B,a as C,o as A,m as k,h as d,g as $,r as I,u as le,v as F,w as se,x as ie,t as q,y as we,b as x,z as ze,A as ye,j as W,B as Ce,n as _e,C as Te}from"../chunks/index.BGGdVmBl.js";import{h as Ee,V as Se,e as ue,u as Be,o as $e}from"../chunks/vault.DNwpf8Gw.js";import{$ as Le,a as de}from"../chunks/index.CxPoTN4J.js";import{B as De,I as He,F as Me}from"../chunks/wallet.axTrGK5Z.js";import{t as Pe}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.8ep8mfxG.js";import{b as Ne}from"../chunks/bch.QnmS77Uw.js";import{S as qe}from"../chunks/SeriesIcon.BXBPivo_.js";const xe=!0,tt=Object.freeze(Object.defineProperty({__proto__:null,prerender:xe},Symbol.toStringTag,{value:"Module"}));function fe(v,e,t){const l=v.slice();return l[14]=e[t],l}function Ie(v){let e,t="loading coupons...";return{c(){e=g("p"),e.textContent=t},l(l){e=w(l,"P",{"data-svelte-h":!0}),A(e)!=="svelte-1frqwd1"&&(e.textContent=t)},m(l,o){$(l,e,o)},p:D,i:D,o:D,d(l){l&&m(e)}}}function Fe(v){let e,t,l,o;const i=[Oe,Ae],a=[];function _(s,c){return s[0].length>0?0:1}return e=_(v),t=a[e]=i[e](v),{c(){t.c(),l=ie()},l(s){t.l(s),l=ie()},m(s,c){a[e].m(s,c),$(s,l,c),o=!0},p(s,c){let b=e;e=_(s),e===b?a[e].p(s,c):(se(),I(a[b],1,1,()=>{a[b]=null}),le(),t=a[e],t?t.p(s,c):(t=a[e]=i[e](s),t.c()),F(t,1),t.m(l.parentNode,l))},i(s){o||(F(t),o=!0)},o(s){I(t),o=!1},d(s){s&&m(l),a[e].d(s)}}}function Ae(v){let e,t="no coupons available";return{c(){e=g("p"),e.textContent=t},l(l){e=w(l,"P",{"data-svelte-h":!0}),A(e)!=="svelte-r1zx0p"&&(e.textContent=t)},m(l,o){$(l,e,o)},p:D,i:D,o:D,d(l){l&&m(e)}}}function Oe(v){let e,t,l='<tr class="header svelte-1cp4wz0"><td class="svelte-1cp4wz0"><i>P</i></td> <td class="svelte-1cp4wz0">locktime</td> <td class="svelte-1cp4wz0">coupon</td> <td colspan="2" class="svelte-1cp4wz0">coupon rate</td> <td class="svelte-1cp4wz0">action</td></tr> <tr class="units svelte-1cp4wz0"><td class="svelte-1cp4wz0">BCH</td> <td class="svelte-1cp4wz0">series</td> <td class="r svelte-1cp4wz0">sats</td> <td class="r svelte-1cp4wz0">spb</td> <td class="svelte-1cp4wz0">per annum</td> <td class="svelte-1cp4wz0"></td></tr>',o,i,a=[],_=new Map,s,c=ue(v[0]);const b=r=>r[14].id;for(let r=0;r<c.length;r+=1){let n=fe(v,c,r),h=b(n);_.set(h,a[r]=pe(h,n))}return{c(){e=g("table"),t=g("thead"),t.innerHTML=l,o=S(),i=g("tbody");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=w(r,"TABLE",{class:!0});var n=C(e);t=w(n,"THEAD",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-1b3494d"&&(t.innerHTML=l),o=B(n),i=w(n,"TBODY",{class:!0});var h=C(i);for(let p=0;p<a.length;p+=1)a[p].l(h);h.forEach(m),n.forEach(m),this.h()},h(){k(t,"class","svelte-1cp4wz0"),k(i,"class","svelte-1cp4wz0"),k(e,"class","couponTable svelte-1cp4wz0")},m(r,n){$(r,e,n),d(e,t),d(e,o),d(e,i);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(i,null);s=!0},p(r,n){n&7&&(c=ue(r[0]),se(),a=Be(a,n,b,1,r,c,_,i,$e,pe,null,fe),le())},i(r){if(!s){for(let n=0;n<c.length;n+=1)F(a[n]);s=!0}},o(r){for(let n=0;n<a.length;n+=1)I(a[n]);s=!1},d(r){r&&m(e);for(let n=0;n<a.length;n+=1)a[n].d()}}}function je(v){let e,t='<button class="action svelte-1cp4wz0" disabled="" style="font-size:x-small;">low bal.</button>';return{c(){e=g("td"),e.innerHTML=t,this.h()},l(l){e=w(l,"TD",{style:!0,class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1q0aqj7"&&(e.innerHTML=t),this.h()},h(){_e(e,"text-align","center"),k(e,"class","svelte-1cp4wz0")},m(l,o){$(l,e,o)},p:D,d(l){l&&m(e)}}}function We(v){let e,t,l="claim",o,i;function a(){return v[3](v[14])}return{c(){e=g("td"),t=g("button"),t.textContent=l,this.h()},l(_){e=w(_,"TD",{style:!0,class:!0});var s=C(e);t=w(s,"BUTTON",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-19mciub"&&(t.textContent=l),s.forEach(m),this.h()},h(){k(t,"class","action svelte-1cp4wz0"),_e(e,"text-align","center"),k(e,"class","svelte-1cp4wz0")},m(_,s){$(_,e,s),d(e,t),o||(i=Te(t,"click",a),o=!0)},p(_,s){v=_},d(_){_&&m(e),o=!1,i()}}}function pe(v,e){let t,l,o=Number(e[14].placement/1e8)+"",i,a,_,s,c,b,r=e[14].locktime.toLocaleString()+"",n,h,p,u,z,L=Number(e[14].utxo.satoshis).toLocaleString()+"",V,Y,H,O=e[14].locale.spb+"",U,J,M,P,j=e[14].locale.ypa+"",G,X,Z,K,Q,E;h=new qe({props:{time:e[14].locktime,size:"15"}});function ae(y,f){return f&3&&(K=null),K==null&&(K=y[1]+Number(y[14].utxo.satoshis)>y[14].placement),K?We:je}let R=ae(e,-1),T=R(e);return{key:v,first:null,c(){t=g("tr"),l=g("td"),i=q(o),a=g("img"),s=S(),c=g("td"),b=g("a"),n=q(r),we(h.$$.fragment),u=S(),z=g("td"),V=q(L),Y=S(),H=g("td"),U=q(O),J=S(),M=g("td"),P=g("i"),G=q(j),X=q("%"),Z=S(),T.c(),Q=S(),this.h()},l(y){t=w(y,"TR",{class:!0});var f=C(t);l=w(f,"TD",{class:!0});var N=C(l);i=x(N,o),a=w(N,"IMG",{width:!0,src:!0,alt:!0}),N.forEach(m),s=B(f),c=w(f,"TD",{class:!0});var oe=C(c);b=w(oe,"A",{href:!0});var ee=C(b);n=x(ee,r),ze(h.$$.fragment,ee),ee.forEach(m),oe.forEach(m),u=B(f),z=w(f,"TD",{class:!0});var ne=C(z);V=x(ne,L),ne.forEach(m),Y=B(f),H=w(f,"TD",{class:!0});var ce=C(H);U=x(ce,O),ce.forEach(m),J=B(f),M=w(f,"TD",{class:!0});var re=C(M);P=w(re,"I",{});var te=C(P);G=x(te,j),X=x(te,"%"),te.forEach(m),re.forEach(m),Z=B(f),T.l(f),Q=B(f),f.forEach(m),this.h()},h(){k(a,"width","15"),ve(a.src,_=Ne)||k(a,"src",_),k(a,"alt","bchLogo"),k(l,"class","r svelte-1cp4wz0"),k(b,"href",p="/v?block="+e[14].locktime),k(c,"class","r svelte-1cp4wz0"),k(z,"class","sats svelte-1cp4wz0"),k(H,"class","sats svelte-1cp4wz0"),k(M,"class","r svelte-1cp4wz0"),k(t,"class","svelte-1cp4wz0"),this.first=t},m(y,f){$(y,t,f),d(t,l),d(l,i),d(l,a),d(t,s),d(t,c),d(c,b),d(b,n),ye(h,b,null),d(t,u),d(t,z),d(z,V),d(t,Y),d(t,H),d(H,U),d(t,J),d(t,M),d(M,P),d(P,G),d(P,X),d(t,Z),T.m(t,null),d(t,Q),E=!0},p(y,f){e=y,(!E||f&1)&&o!==(o=Number(e[14].placement/1e8)+"")&&W(i,o),(!E||f&1)&&r!==(r=e[14].locktime.toLocaleString()+"")&&W(n,r);const N={};f&1&&(N.time=e[14].locktime),h.$set(N),(!E||f&1&&p!==(p="/v?block="+e[14].locktime))&&k(b,"href",p),(!E||f&1)&&L!==(L=Number(e[14].utxo.satoshis).toLocaleString()+"")&&W(V,L),(!E||f&1)&&O!==(O=e[14].locale.spb+"")&&W(U,O),(!E||f&1)&&j!==(j=e[14].locale.ypa+"")&&W(G,j),R===(R=ae(e,f))&&T?T.p(e,f):(T.d(1),T=R(e),T&&(T.c(),T.m(t,Q)))},i(y){E||(F(h.$$.fragment,y),E=!0)},o(y){I(h.$$.fragment,y),E=!1},d(y){y&&m(t),Ce(h),T.d()}}}function Ve(v){let e,t,l,o,i,a=`FBCH are series of fungible tokens, with an incentive market for locking and unlocking Bitcoin
		Cash.`,_,s,c,b;const r=[Fe,Ie],n=[];function h(p,u){return p[0]?0:1}return s=h(v),c=n[s]=r[s](v),{c(){e=g("meta"),t=g("link"),l=S(),o=g("section"),i=g("p"),i.textContent=a,_=S(),c.c(),this.h()},l(p){const u=ge("svelte-hr4gqp",document.head);e=w(u,"META",{name:!0,content:!0}),t=w(u,"LINK",{rel:!0,type:!0,href:!0}),u.forEach(m),l=B(p),o=w(p,"SECTION",{class:!0});var z=C(o);i=w(z,"P",{"data-svelte-h":!0}),A(i)!=="svelte-1na0geu"&&(i.textContent=a),_=B(z),c.l(z),z.forEach(m),this.h()},h(){document.title="Future BCH",k(e,"name","description"),k(e,"content","Future Bitcoin Cash"),k(t,"rel","icon"),k(t,"type","image/svg"),k(t,"href","/FBCH.svg"),k(o,"class","svelte-1cp4wz0")},m(p,u){d(document.head,e),d(document.head,t),$(p,l,u),$(p,o,u),d(o,i),d(o,_),n[s].m(o,null),b=!0},p(p,[u]){let z=s;s=h(p),s===z?n[s].p(p,u):(se(),I(n[z],1,1,()=>{n[z]=null}),le(),c=n[s],c?c.p(p,u):(c=n[s]=r[s](p),c.c()),F(c,1),c.m(o,null))},i(p){b||(F(c),b=!0)},o(p){I(c),b=!1},d(p){p&&(m(l),m(o)),m(e),m(t),n[s].d()}}}function Ue(v,e=2e3){let t;return(...l)=>{clearTimeout(t),t=setTimeout(()=>{v.apply(this,l)},e)}}function Ge(v,e,t){let l="",o,i,a=[],_,s,c;Ee.subscribe(u=>{console.log(o),o=u,b()});async function b(){_&&o>1e3&&t(0,i=await Se.getAllCouponUtxos(_,o))}async function r(){console.log("processing que data"),console.log(a);try{await s.swap(a),l=""}catch(u){l=u,Pe.push(`Error: ${u}`,{classes:["warn"]})}a=[]}const n=Ue(()=>r()),h=async function(u,z){t(1,c-=u.placement),a.push({placement:BigInt(u.placement),coupon:u.utxo,locktime:u.locktime}),console.log(a),t(0,i=i.filter(L=>L.id!==z)),n()};return me(async()=>{try{De.StorageProvider=He,s=await Me.named("hot"),t(1,c=await s.getBalance("sats"))}catch(u){throw u}_=new Le("FBCH","1.4.1","bch.imaginary.cash",de.WSS.Port,de.WSS.Scheme),await _.connect().then(()=>{b()})}),[i,c,h,u=>h(u,u.id)]}class lt extends be{constructor(e){super(),ke(this,e,Ge,Ve,he,{})}}export{lt as component,tt as universal};
//# sourceMappingURL=2._cSMXuuL.js.map
