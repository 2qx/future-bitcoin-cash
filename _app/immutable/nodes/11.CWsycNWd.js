import{d as rt}from"../chunks/index.R8ovVqwX.js";import{s as ut,n as Ze,r as it,o as ct}from"../chunks/scheduler.C6iVHy88.js";import{S as ht,i as dt,e as i,s as _,t as f,p as pt,c as r,d as p,f as m,a as w,o as O,b as v,m as h,h as e,g as Z,D as re,E as W,j as Y,y as $e,F as ft,G as et}from"../chunks/index.CmoVQV1c.js";import{e as be,h as vt,V as tt}from"../chunks/vault.DXBSrgWr.js";const _t=rt,mt=!0,kt=Object.freeze(Object.defineProperty({__proto__:null,csr:_t,prerender:mt},Symbol.toStringTag,{value:"Module"}));function nt(a,s,o){const n=a.slice();return n[16]=s[o],n}function lt(a,s,o){const n=a.slice();return n[19]=s[o],n}function at(a){let s,o,n,c=a[19]+"",g,C,u=Math.pow(10,a[19]).toLocaleString()+"",b,F,k,P,A,V,G;return A=ft(a[13][0]),{c(){s=i("label"),o=i("input"),n=f(`
					V`),g=f(c),C=f(" Series - "),b=f(u),F=_(),k=i("br"),P=_(),this.h()},l(E){s=r(E,"LABEL",{});var d=w(s);o=r(d,"INPUT",{type:!0,name:!0}),n=v(d,`
					V`),g=v(d,c),C=v(d," Series - "),b=v(d,u),F=m(d),k=r(d,"BR",{}),P=m(d),d.forEach(p),this.h()},h(){h(o,"type","radio"),h(o,"name","s"),o.__value=a[19],re(o,o.__value),A.p(o)},m(E,d){Z(E,s,d),e(s,o),o.checked=o.__value===a[0],e(s,n),e(s,g),e(s,C),e(s,b),e(s,F),e(s,k),e(s,P),V||(G=[W(o,"change",a[12]),W(o,"change",a[14])],V=!0)},p(E,d){d&1&&(o.checked=o.__value===E[0])},d(E){E&&p(s),A.r(),V=!1,it(G)}}}function ot(a){let s=a[16].address+"",o,n,c=a[16].amount+"",g,C;return{c(){o=f(s),n=f(", "),g=f(c),C=i("br")},l(u){o=v(u,s),n=v(u,", "),g=v(u,c),C=r(u,"BR",{})},m(u,b){Z(u,o,b),Z(u,n,b),Z(u,g,b),Z(u,C,b)},p(u,b){b&2&&s!==(s=u[16].address+"")&&Y(o,s),b&2&&c!==(c=u[16].amount+"")&&Y(g,c)},d(u){u&&(p(o),p(n),p(g),p(C))}}}function bt(a){let s,o,n,c,g="Let's write some coupons!",C,u,b="<b>This is an advanced feature for power users. There is no way to undo writing a coupon.</b>",F,k,P=`Coupons incentivize money being spent 1) at a specific destination, 2) above some minimum
		amount, and 3) with restrictions like: limit one per customer.`,A,V,G=`Future vault coupons are plain bitcoin cash unspent transaction outputs (UTXOs) that have been
		sent to, and are then locked by a <a href="/contracts#coupon">simple contract</a> to incentivize
		spending money at a specific destination (a FBCH token vault). For example, an output of 100k sats
		can be sent to a coupon contract to be used for locking at least 1 BCH (min. value) into 1 FBCH at
		a vault contract (destination).`,E,d,ue=`Coupons values are denoted in BCH sats, where the value of the coupon is the value of the
		unspent output. A whole BCH could be split into 1000 coupons each offering 100k sats for
		placement, or 1 BCH coin could be sent to the coupon contract in one single output to let anyone
		lock a "free" FBCH.`,ce,R,$=`At this time, all coupons incentivize the same placement amount of 1 BCH (or 100M sats) into an
		FBCH vault. These &quot;C<sub>0</sub>&quot; series coupons are to lock 1 x 10^0 BCH, but there may be
		smaller and larger amounts later (i.e C<sub>2</sub> for 100 BCH placements and C<sub>-2</sub> for 0.01 BCH vault placements).`,z,y,Ne=`<b>Coupons are not refundable.</b>
		Money sent to a coupon holding contract can only be redeemed in a transaction that sends the required
		amount of value to a second predefined contract (i.e. a future vault).`,ge,ee,We=`Below is a simple tool for use with the <a href="https://electroncash.org/">Electron Cash</a> pay-to-many
		feature:`,Ce,M,K,Ge="Placement: 1 BCH",He,te,D,Be,he,Te,Q,ke,se=(a[3]/20).toPrecision(2)+"",de,ye,Le,Ee,I,Me,ne,j,Pe,pe,Ve,Ie,S,we,U,De,X,Se,fe,Fe,Re,q,qe,ve,Ae,ze,je,Oe,Ue,x,xe,Ke,le=be(a[6]),H=[];for(let l=0;l<le.length;l+=1)H[l]=at(lt(a,le,l));let ae=be(a[1]),B=[];for(let l=0;l<ae.length;l+=1)B[l]=ot(nt(a,ae,l));return{c(){s=i("meta"),o=_(),n=i("div"),c=i("h1"),c.textContent=g,C=_(),u=i("blockquote"),u.innerHTML=b,F=_(),k=i("p"),k.textContent=P,A=_(),V=i("p"),V.innerHTML=G,E=_(),d=i("p"),d.textContent=ue,ce=_(),R=i("p"),R.innerHTML=$,z=_(),y=i("p"),y.innerHTML=Ne,ge=_(),ee=i("p"),ee.innerHTML=We,Ce=_(),M=i("div"),K=i("div"),K.textContent=Ge,He=_(),te=i("div"),D=i("label"),Be=f("Rate: "),he=f(a[3]),Te=f(" spb , "),Q=i("i"),ke=f("~"),de=f(se),ye=f("% "),Le=i("br"),Ee=_(),I=i("input"),Me=_(),ne=i("div"),j=i("label"),Pe=f("Copies: "),pe=f(a[2]),Ve=i("br"),Ie=_(),S=i("input"),we=_(),U=i("div");for(let l=0;l<H.length;l+=1)H[l].c();De=_(),X=i("div"),Se=f("Lock up to "),fe=f(a[5]),Fe=f(" FBCH"),Re=_(),q=i("div"),qe=f("Total: "),ve=f(a[4]),Ae=f(" BCH"),ze=i("br"),je=_(),Oe=i("hr"),Ue=_(),x=i("div");for(let l=0;l<B.length;l+=1)B[l].c();this.h()},l(l){const T=pt("svelte-174kz84",document.head);s=r(T,"META",{name:!0,content:!0}),T.forEach(p),o=m(l),n=r(l,"DIV",{class:!0});var t=w(n);c=r(t,"H1",{"data-svelte-h":!0}),O(c)!=="svelte-bkv8ks"&&(c.textContent=g),C=m(t),u=r(t,"BLOCKQUOTE",{"data-svelte-h":!0}),O(u)!=="svelte-jqtl1o"&&(u.innerHTML=b),F=m(t),k=r(t,"P",{"data-svelte-h":!0}),O(k)!=="svelte-g3laio"&&(k.textContent=P),A=m(t),V=r(t,"P",{"data-svelte-h":!0}),O(V)!=="svelte-gaho0i"&&(V.innerHTML=G),E=m(t),d=r(t,"P",{"data-svelte-h":!0}),O(d)!=="svelte-1uz01x7"&&(d.textContent=ue),ce=m(t),R=r(t,"P",{"data-svelte-h":!0}),O(R)!=="svelte-1g8eu04"&&(R.innerHTML=$),z=m(t),y=r(t,"P",{"data-svelte-h":!0}),O(y)!=="svelte-17orl32"&&(y.innerHTML=Ne),ge=m(t),ee=r(t,"P",{"data-svelte-h":!0}),O(ee)!=="svelte-15bll3f"&&(ee.innerHTML=We),Ce=m(t),M=r(t,"DIV",{id:!0,class:!0});var L=w(M);K=r(L,"DIV",{class:!0,"data-svelte-h":!0}),O(K)!=="svelte-13h8hoj"&&(K.textContent=Ge),He=m(L),te=r(L,"DIV",{class:!0});var Qe=w(te);D=r(Qe,"LABEL",{});var N=w(D);Be=v(N,"Rate: "),he=v(N,a[3]),Te=v(N," spb , "),Q=r(N,"I",{});var _e=w(Q);ke=v(_e,"~"),de=v(_e,se),ye=v(_e,"% "),_e.forEach(p),Le=r(N,"BR",{}),Ee=m(N),I=r(N,"INPUT",{type:!0,min:!0,step:!0,max:!0}),N.forEach(p),Qe.forEach(p),Me=m(L),ne=r(L,"DIV",{class:!0});var Xe=w(ne);j=r(Xe,"LABEL",{});var oe=w(j);Pe=v(oe,"Copies: "),pe=v(oe,a[2]),Ve=r(oe,"BR",{}),Ie=m(oe),S=r(oe,"INPUT",{type:!0,min:!0,max:!0}),oe.forEach(p),Xe.forEach(p),we=m(L),U=r(L,"DIV",{id:!0,class:!0});var Je=w(U);for(let J=0;J<H.length;J+=1)H[J].l(Je);Je.forEach(p),L.forEach(p),De=m(t),X=r(t,"DIV",{});var me=w(X);Se=v(me,"Lock up to "),fe=v(me,a[5]),Fe=v(me," FBCH"),me.forEach(p),Re=m(t),q=r(t,"DIV",{id:!0,class:!0});var ie=w(q);qe=v(ie,"Total: "),ve=v(ie,a[4]),Ae=v(ie," BCH"),ze=r(ie,"BR",{}),ie.forEach(p),je=m(t),Oe=r(t,"HR",{}),Ue=m(t),x=r(t,"DIV",{id:!0,class:!0});var Ye=w(x);for(let J=0;J<B.length;J+=1)B[J].l(Ye);Ye.forEach(p),t.forEach(p),this.h()},h(){document.title="Write",h(s,"name","description"),h(s,"content","Write Coupons"),h(K,"class","svelte-vxd5yl"),h(I,"type","range"),h(I,"min","1"),h(I,"step","0.2"),h(I,"max","100"),h(te,"class","svelte-vxd5yl"),h(S,"type","range"),h(S,"min","1"),h(S,"max","40"),h(ne,"class","svelte-vxd5yl"),h(U,"id","dataTable"),h(U,"class","svelte-vxd5yl"),h(M,"id","control"),h(M,"class","svelte-vxd5yl"),h(q,"id","total"),h(q,"class","svelte-vxd5yl"),h(x,"id","mono"),h(x,"class","svelte-vxd5yl"),h(n,"class","text-column")},m(l,T){e(document.head,s),Z(l,o,T),Z(l,n,T),e(n,c),e(n,C),e(n,u),e(n,F),e(n,k),e(n,A),e(n,V),e(n,E),e(n,d),e(n,ce),e(n,R),e(n,z),e(n,y),e(n,ge),e(n,ee),e(n,Ce),e(n,M),e(M,K),e(M,He),e(M,te),e(te,D),e(D,Be),e(D,he),e(D,Te),e(D,Q),e(Q,ke),e(Q,de),e(Q,ye),e(D,Le),e(D,Ee),e(D,I),re(I,a[3]),e(M,Me),e(M,ne),e(ne,j),e(j,Pe),e(j,pe),e(j,Ve),e(j,Ie),e(j,S),re(S,a[2]),e(M,we),e(M,U);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(U,null);e(n,De),e(n,X),e(X,Se),e(X,fe),e(X,Fe),e(n,Re),e(n,q),e(q,qe),e(q,ve),e(q,Ae),e(q,ze),e(n,je),e(n,Oe),e(n,Ue),e(n,x);for(let t=0;t<B.length;t+=1)B[t]&&B[t].m(x,null);xe||(Ke=[W(I,"change",a[8]),W(I,"change",a[9]),W(I,"input",a[9]),W(S,"change",a[10]),W(S,"change",a[11]),W(S,"input",a[11])],xe=!0)},p(l,[T]){if(T&8&&Y(he,l[3]),T&8&&se!==(se=(l[3]/20).toPrecision(2)+"")&&Y(de,se),T&8&&re(I,l[3]),T&4&&Y(pe,l[2]),T&4&&re(S,l[2]),T&193){le=be(l[6]);let t;for(t=0;t<le.length;t+=1){const L=lt(l,le,t);H[t]?H[t].p(L,T):(H[t]=at(L),H[t].c(),H[t].m(U,null))}for(;t<H.length;t+=1)H[t].d(1);H.length=le.length}if(T&32&&Y(fe,l[5]),T&16&&Y(ve,l[4]),T&2){ae=be(l[1]);let t;for(t=0;t<ae.length;t+=1){const L=nt(l,ae,t);B[t]?B[t].p(L,T):(B[t]=ot(L),B[t].c(),B[t].m(x,null))}for(;t<B.length;t+=1)B[t].d(1);B.length=ae.length}},i:Ze,o:Ze,d(l){l&&(p(o),p(n)),p(s),$e(H,l),$e(B,l),xe=!1,it(Ke)}}}let st=1;function gt(a,s,o){const n=[3,4,5,6];let c=4,g=[],C=1,u=20,b=0,F=0,k=857e3;vt.subscribe(R=>{k=R});function P(){let R=tt.getCouponSeries(k,st*1e8,c,c==6?4:void 0),$=tt.getSeriesTimes(k,c,c==6?4:void 0);o(1,g=R.map(function(z,y){return($[y]-k)*u>543?[...Array(C).fill({time:$[y],address:z,placement:st,amount:Math.floor(($[y]-k)*u)/1e8})]:[]}).flat()),o(5,F=g.reduce(function(z,y){return z+y.placement},0)),o(4,b=g.reduce(function(z,y){return z+y.amount},0)),o(4,b=Math.floor(b*1e8)/1e8)}ct(async()=>{P()});const A=[[]],V=()=>P();function G(){u=et(this.value),o(3,u)}const E=()=>P();function d(){C=et(this.value),o(2,C)}function ue(){c=this.__value,o(0,c)}return[c,g,C,u,b,F,n,P,V,G,E,d,ue,A,()=>P()]}class yt extends ht{constructor(s){super(),dt(this,s,gt,bt,ut,{})}}export{yt as component,kt as universal};
//# sourceMappingURL=11.CWsycNWd.js.map
