import{s as re,o as ce,n as U}from"../chunks/scheduler.Ce_0Mfso.js";import{S as ue,i as fe,e as b,r as z,s as D,l as _e,c as C,d as f,f as H,a as B,n as E,h,g,u as K,v as Q,w as de,t as $,x as he,b as I,y as ve,k as j,z as pe,j as R,A as me,B as ke,C as ie}from"../chunks/index.B2XZWyz8.js";import{V as X,e as G}from"../chunks/vault.CqFh1qjg.js";import{S as be,g as J}from"../chunks/util.DkcDe-Q0.js";import{h as Ce}from"../chunks/store.BU4DPX2T.js";import{$ as ye,a as Y}from"../chunks/index.B9aZqkhv.js";const ge=!0;async function Te({url:c}){return{block:c.searchParams.get("block")||void 0}}const Ve=Object.freeze(Object.defineProperty({__proto__:null,load:Te,prerender:ge},Symbol.toStringTag,{value:"Module"}));function Z(c,e,s){const l=c.slice();return l[8]=e[s],l}function x(c,e,s){const l=c.slice();return l[8]=e[s],l}function ee(c){let e,s;return{c(){e=b("link"),this.h()},l(l){e=C(l,"LINK",{rel:!0,type:!0,href:!0}),this.h()},h(){E(e,"rel","icon"),E(e,"type","image/svg"),E(e,"href",s="/FBCH-"+c[3]+".svg")},m(l,r){g(l,e,r)},p(l,r){r&8&&s!==(s="/FBCH-"+l[3]+".svg")&&E(e,"href",s)},d(l){l&&f(e)}}}function te(c){let e,s,l=c[3].toLocaleString()+"",r,i,o,a,n,t,_,v,T,S="Coupons",k,p,m,d="Threads",w,P,V;o=new be({props:{time:c[3],size:"300"}});let F=c[4]&&le(c);function N(u,y){return u[1]?Se:Ee}let L=N(c),A=L(c);function O(u,y){return u[2]&&u[2].length?He:De}let M=O(c),q=M(c);return{c(){e=b("h2"),s=$("Vault "),r=$(l),i=D(),he(o.$$.fragment),a=D(),n=b("div"),t=$(c[0]),_=D(),F&&F.c(),v=D(),T=b("h2"),T.textContent=S,k=D(),A.c(),p=D(),m=b("h2"),m.textContent=d,w=D(),q.c(),P=z(),this.h()},l(u){e=C(u,"H2",{});var y=B(e);s=I(y,"Vault "),r=I(y,l),y.forEach(f),i=H(u),ve(o.$$.fragment,u),a=H(u),n=C(u,"DIV",{class:!0});var W=B(n);t=I(W,c[0]),W.forEach(f),_=H(u),F&&F.l(u),v=H(u),T=C(u,"H2",{"data-svelte-h":!0}),j(T)!=="svelte-12qyc53"&&(T.textContent=S),k=H(u),A.l(u),p=H(u),m=C(u,"H2",{"data-svelte-h":!0}),j(m)!=="svelte-xpix3l"&&(m.textContent=d),w=H(u),q.l(u),P=z(),this.h()},h(){E(n,"class","cashaddr svelte-a8ytuk")},m(u,y){g(u,e,y),h(e,s),h(e,r),g(u,i,y),pe(o,u,y),g(u,a,y),g(u,n,y),h(n,t),g(u,_,y),F&&F.m(u,y),g(u,v,y),g(u,T,y),g(u,k,y),A.m(u,y),g(u,p,y),g(u,m,y),g(u,w,y),q.m(u,y),g(u,P,y),V=!0},p(u,y){(!V||y&8)&&l!==(l=u[3].toLocaleString()+"")&&R(r,l);const W={};y&8&&(W.time=u[3]),o.$set(W),(!V||y&1)&&R(t,u[0]),u[4]?F?F.p(u,y):(F=le(u),F.c(),F.m(v.parentNode,v)):F&&(F.d(1),F=null),L===(L=N(u))&&A?A.p(u,y):(A.d(1),A=L(u),A&&(A.c(),A.m(p.parentNode,p))),M===(M=O(u))&&q?q.p(u,y):(q.d(1),q=M(u),q&&(q.c(),q.m(P.parentNode,P)))},i(u){V||(K(o.$$.fragment,u),V=!0)},o(u){Q(o.$$.fragment,u),V=!1},d(u){u&&(f(e),f(i),f(a),f(n),f(_),f(v),f(T),f(k),f(p),f(m),f(w),f(P)),me(o,u),F&&F.d(u),A.d(u),q.d(u)}}}function le(c){let e,s=J(c[4],c[3]).toLocaleDateString()+"",l,r,i,o,a=c[3]-c[4]<2e3&&se(c),n=c[3]-c[4]>0&&ae(c);return{c(){e=b("p"),l=$(s),r=D(),a&&a.c(),i=D(),n&&n.c(),o=z(),this.h()},l(t){e=C(t,"P",{class:!0});var _=B(e);l=I(_,s),_.forEach(f),r=H(t),a&&a.l(t),i=H(t),n&&n.l(t),o=z(),this.h()},h(){E(e,"class","svelte-a8ytuk")},m(t,_){g(t,e,_),h(e,l),g(t,r,_),a&&a.m(t,_),g(t,i,_),n&&n.m(t,_),g(t,o,_)},p(t,_){_&24&&s!==(s=J(t[4],t[3]).toLocaleDateString()+"")&&R(l,s),t[3]-t[4]<2e3?a?a.p(t,_):(a=se(t),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null),t[3]-t[4]>0?n?n.p(t,_):(n=ae(t),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(t){t&&(f(e),f(r),f(i),f(o)),a&&a.d(t),n&&n.d(t)}}}function se(c){let e,s=J(c[4],c[3]).toLocaleTimeString()+"",l;return{c(){e=b("p"),l=$(s),this.h()},l(r){e=C(r,"P",{class:!0});var i=B(e);l=I(i,s),i.forEach(f),this.h()},h(){E(e,"class","svelte-a8ytuk")},m(r,i){g(r,e,i),h(e,l)},p(r,i){i&24&&s!==(s=J(r[4],r[3]).toLocaleTimeString()+"")&&R(l,s)},d(r){r&&f(e)}}}function ae(c){let e,s,l=(c[3]-c[4]).toLocaleString()+"",r,i;return{c(){e=b("p"),s=$("T -"),r=$(l),i=$(" █"),this.h()},l(o){e=C(o,"P",{class:!0});var a=B(e);s=I(a,"T -"),r=I(a,l),i=I(a," █"),a.forEach(f),this.h()},h(){E(e,"class","svelte-a8ytuk")},m(o,a){g(o,e,a),h(e,s),h(e,r),h(e,i)},p(o,a){a&24&&l!==(l=(o[3]-o[4]).toLocaleString()+"")&&R(r,l)},d(o){o&&f(e)}}}function Ee(c){let e,s="loading coupons...";return{c(){e=b("p"),e.textContent=s,this.h()},l(l){e=C(l,"P",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1frqwd1"&&(e.textContent=s),this.h()},h(){E(e,"class","svelte-a8ytuk")},m(l,r){g(l,e,r)},p:U,d(l){l&&f(e)}}}function Se(c){let e;function s(i,o){return i[1].length>0?Le:Fe}let l=s(c),r=l(c);return{c(){r.c(),e=z()},l(i){r.l(i),e=z()},m(i,o){r.m(i,o),g(i,e,o)},p(i,o){l===(l=s(i))&&r?r.p(i,o):(r.d(1),r=l(i),r&&(r.c(),r.m(e.parentNode,e)))},d(i){i&&f(e),r.d(i)}}}function Fe(c){let e,s="no coupons available";return{c(){e=b("p"),e.textContent=s,this.h()},l(l){e=C(l,"P",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-r1zx0p"&&(e.textContent=s),this.h()},h(){E(e,"class","svelte-a8ytuk")},m(l,r){g(l,e,r)},p:U,d(l){l&&f(e)}}}function Le(c){let e,s,l='<td class="svelte-a8ytuk">series</td> <td class="svelte-a8ytuk">placement</td> <td class="svelte-a8ytuk">coupon</td> <td class="svelte-a8ytuk">spb</td> <td class="svelte-a8ytuk">apr</td>',r,i=G(c[1]),o=[];for(let a=0;a<i.length;a+=1)o[a]=ne(x(c,i,a));return{c(){e=b("table"),s=b("tr"),s.innerHTML=l,r=D();for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=C(a,"TABLE",{class:!0});var n=B(e);s=C(n,"TR",{class:!0,"data-svelte-h":!0}),j(s)!=="svelte-1dr887q"&&(s.innerHTML=l),r=H(n);for(let t=0;t<o.length;t+=1)o[t].l(n);n.forEach(f),this.h()},h(){E(s,"class","header svelte-a8ytuk"),E(e,"class","couponTable svelte-a8ytuk")},m(a,n){g(a,e,n),h(e,s),h(e,r);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null)},p(a,n){if(n&26){i=G(a[1]);let t;for(t=0;t<i.length;t+=1){const _=x(a,i,t);o[t]?o[t].p(_,n):(o[t]=ne(_),o[t].c(),o[t].m(e,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=i.length}},d(a){a&&f(e),ie(o,a)}}}function ne(c){let e,s,l="C0",r,i,o="1 BCH",a,n,t=c[8].value.toLocaleString()+"",_,v,T,S=(c[8].value/(c[3]-c[4])).toFixed(1)+"",k,p,m,d,w=(c[8].value/(c[3]-c[4])/(1e6/52596)).toFixed(2)+"",P,V,F;return{c(){e=b("tr"),s=b("td"),s.textContent=l,r=D(),i=b("td"),i.textContent=o,a=D(),n=b("td"),_=$(t),v=D(),T=b("td"),k=$(S),p=D(),m=b("td"),d=b("i"),P=$(w),V=$("%"),F=D(),this.h()},l(N){e=C(N,"TR",{});var L=B(e);s=C(L,"TD",{class:!0,"data-svelte-h":!0}),j(s)!=="svelte-162jlks"&&(s.textContent=l),r=H(L),i=C(L,"TD",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-evuot"&&(i.textContent=o),a=H(L),n=C(L,"TD",{class:!0});var A=B(n);_=I(A,t),A.forEach(f),v=H(L),T=C(L,"TD",{class:!0});var O=B(T);k=I(O,S),O.forEach(f),p=H(L),m=C(L,"TD",{class:!0});var M=B(m);d=C(M,"I",{});var q=B(d);P=I(q,w),V=I(q,"%"),q.forEach(f),M.forEach(f),F=H(L),L.forEach(f),this.h()},h(){E(s,"class","r svelte-a8ytuk"),E(i,"class","r svelte-a8ytuk"),E(n,"class","r svelte-a8ytuk"),E(T,"class","r svelte-a8ytuk"),E(m,"class","r svelte-a8ytuk")},m(N,L){g(N,e,L),h(e,s),h(e,r),h(e,i),h(e,a),h(e,n),h(n,_),h(e,v),h(e,T),h(T,k),h(e,p),h(e,m),h(m,d),h(d,P),h(d,V),h(e,F)},p(N,L){L&2&&t!==(t=N[8].value.toLocaleString()+"")&&R(_,t),L&26&&S!==(S=(N[8].value/(N[3]-N[4])).toFixed(1)+"")&&R(k,S),L&26&&w!==(w=(N[8].value/(N[3]-N[4])/(1e6/52596)).toFixed(2)+"")&&R(P,w)},d(N){N&&f(e)}}}function De(c){let e,s="loading threads...";return{c(){e=b("p"),e.textContent=s,this.h()},l(l){e=C(l,"P",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1njcfnz"&&(e.textContent=s),this.h()},h(){E(e,"class","svelte-a8ytuk")},m(l,r){g(l,e,r)},p:U,d(l){l&&f(e)}}}function He(c){let e,s,l,r="BCH",i,o,a,n,t,_,v="Token Id",T,S=G(c[2]),k=[];for(let p=0;p<S.length;p+=1)k[p]=oe(Z(c,S,p));return{c(){e=b("table"),s=b("tr"),l=b("td"),l.textContent=r,i=D(),o=b("td"),a=$("FBCH-"),n=$(c[3]),t=D(),_=b("td"),_.textContent=v,T=D();for(let p=0;p<k.length;p+=1)k[p].c();this.h()},l(p){e=C(p,"TABLE",{class:!0});var m=B(e);s=C(m,"TR",{class:!0});var d=B(s);l=C(d,"TD",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-eke3it"&&(l.textContent=r),i=H(d),o=C(d,"TD",{class:!0});var w=B(o);a=I(w,"FBCH-"),n=I(w,c[3]),w.forEach(f),t=H(d),_=C(d,"TD",{class:!0,"data-svelte-h":!0}),j(_)!=="svelte-ma4vn8"&&(_.textContent=v),d.forEach(f),T=H(m);for(let P=0;P<k.length;P+=1)k[P].l(m);m.forEach(f),this.h()},h(){E(l,"class","svelte-a8ytuk"),E(o,"class","svelte-a8ytuk"),E(_,"class","svelte-a8ytuk"),E(s,"class","header svelte-a8ytuk"),E(e,"class","couponTable svelte-a8ytuk")},m(p,m){g(p,e,m),h(e,s),h(s,l),h(s,i),h(s,o),h(o,a),h(o,n),h(s,t),h(s,_),h(e,T);for(let d=0;d<k.length;d+=1)k[d]&&k[d].m(e,null)},p(p,m){if(m&8&&R(n,p[3]),m&4){S=G(p[2]);let d;for(d=0;d<S.length;d+=1){const w=Z(p,S,d);k[d]?k[d].p(w,m):(k[d]=oe(w),k[d].c(),k[d].m(e,null))}for(;d<k.length;d+=1)k[d].d(1);k.length=S.length}},d(p){p&&f(e),ie(k,p)}}}function oe(c){let e,s,l=(c[8].value/1e8).toFixed(2)+"",r,i,o,a,n=(c[8].token_data.amount/1e8).toLocaleString()+"",t,_,v,T,S=c[8].token_data.category.substring(0,8)+"..."+c[8].token_data.category.slice(-4),k,p;return{c(){e=b("tr"),s=b("td"),r=$(l),i=D(),o=b("td"),a=b("i"),t=$(n),_=D(),v=b("td"),T=b("i"),k=$(S),p=D(),this.h()},l(m){e=C(m,"TR",{});var d=B(e);s=C(d,"TD",{class:!0});var w=B(s);r=I(w,l),w.forEach(f),i=H(d),o=C(d,"TD",{class:!0});var P=B(o);a=C(P,"I",{});var V=B(a);t=I(V,n),V.forEach(f),P.forEach(f),_=H(d),v=C(d,"TD",{class:!0});var F=B(v);T=C(F,"I",{});var N=B(T);k=I(N,S),N.forEach(f),F.forEach(f),p=H(d),d.forEach(f),this.h()},h(){E(s,"class","r svelte-a8ytuk"),E(o,"class","r svelte-a8ytuk"),E(v,"class","r svelte-a8ytuk")},m(m,d){g(m,e,d),h(e,s),h(s,r),h(e,i),h(e,o),h(o,a),h(a,t),h(e,_),h(e,v),h(v,T),h(T,k),h(e,p)},p(m,d){d&4&&l!==(l=(m[8].value/1e8).toFixed(2)+"")&&R(r,l),d&4&&n!==(n=(m[8].token_data.amount/1e8).toLocaleString()+"")&&R(t,n),d&4&&S!==(S=m[8].token_data.category.substring(0,8)+"..."+m[8].token_data.category.slice(-4))&&R(k,S)},d(m){m&&f(e)}}}function Be(c){let e,s,l,r,i,o;document.title=e="FBCH-"+c[3];let a=c[3]>857e3&&ee(c),n=c[3]&&te(c);return{c(){s=b("meta"),a&&a.c(),l=z(),r=D(),i=b("section"),n&&n.c(),this.h()},l(t){const _=_e("svelte-1tx4q8l",document.head);s=C(_,"META",{name:!0,content:!0}),a&&a.l(_),l=z(),_.forEach(f),r=H(t),i=C(t,"SECTION",{});var v=B(i);n&&n.l(v),v.forEach(f),this.h()},h(){E(s,"name","description"),E(s,"content","Future Vault Series")},m(t,_){h(document.head,s),a&&a.m(document.head,null),h(document.head,l),g(t,r,_),g(t,i,_),n&&n.m(i,null),o=!0},p(t,[_]){(!o||_&8)&&e!==(e="FBCH-"+t[3])&&(document.title=e),t[3]>857e3?a?a.p(t,_):(a=ee(t),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),t[3]?n?(n.p(t,_),_&8&&K(n,1)):(n=te(t),n.c(),K(n,1),n.m(i,null)):n&&(ke(),Q(n,1,1,()=>{n=null}),de())},i(t){o||(K(n),o=!0)},o(t){Q(n),o=!1},d(t){t&&(f(r),f(i)),f(s),a&&a.d(t),f(l),n&&n.d()}}}function we(c,e,s){let{data:l}=e,r,i,o,a,n;l.block&&(n=Number(l.block),r=X.getCoupon(1e8,n),i=X.getAddress(n));let t;Ce.subscribe(v=>{s(4,t=v)});const _=function(v){console.log("electrum: ",v)};return ce(async()=>{const v=new ye("FBCH","1.4.1","bch.imaginary.cash",Y.WSS.Port,Y.WSS.Scheme);await v.connect(),v.on("notification",_),await v.subscribe("blockchain.address.subscribe",r),await v.subscribe("blockchain.address.subscribe",i);const T=await v.request("blockchain.address.listunspent",i,"tokens_only");if(T instanceof Error)throw T;s(2,a=T);const S=await v.request("blockchain.address.listunspent",r);if(S instanceof Error)throw S;s(1,o=S),o.length>0&&o.sort((k,p)=>parseFloat(p.value)-parseFloat(k.value))}),c.$$set=v=>{"data"in v&&s(5,l=v.data)},[i,o,a,n,t,l]}class Re extends ue{constructor(e){super(),fe(this,e,we,Be,re,{data:5})}}export{Re as component,Ve as universal};
//# sourceMappingURL=6.Cteq-zvx.js.map
