import{d as ct}from"../chunks/index.R8ovVqwX.js";import{s as dt,b as pt,i as ht,n as $e,r as ut,o as ft}from"../chunks/scheduler.CoKJEDLV.js";import{S as _t,i as vt,e as r,s as m,t as f,p as mt,c as i,d as h,f as b,a as F,o as N,b as _,m as d,h as e,g as $,D as ue,E as j,j as Z,y as et,F as bt,G as tt}from"../chunks/index.PTRJg19q.js";import{e as Ce,h as gt,V as nt}from"../chunks/vault.I7tX0INA.js";import{c as Ct}from"../chunks/copy.CPFc3Dt_.js";import{t as lt}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.8ep8mfxG.js";const yt=ct,Ht=!0,wt=Object.freeze(Object.defineProperty({__proto__:null,csr:yt,prerender:Ht},Symbol.toStringTag,{value:"Module"}));function at(l,s,a){const n=l.slice();return n[19]=s[a],n}function ot(l,s,a){const n=l.slice();return n[22]=s[a],n}function st(l){let s,a,n,c=l[22]+"",g,B,u=Math.pow(10,l[22]).toLocaleString()+"",v,I,E,w,L,S,G;return L=bt(l[14][0]),{c(){s=r("label"),a=r("input"),n=f(`
					V`),g=f(c),B=f(" Series - "),v=f(u),I=m(),E=r("br"),w=m(),this.h()},l(M){s=i(M,"LABEL",{});var p=F(s);a=i(p,"INPUT",{type:!0,name:!0}),n=_(p,`
					V`),g=_(p,c),B=_(p," Series - "),v=_(p,u),I=b(p),E=i(p,"BR",{}),w=b(p),p.forEach(h),this.h()},h(){d(a,"type","radio"),d(a,"name","s"),a.__value=l[22],ue(a,a.__value),L.p(a)},m(M,p){$(M,s,p),e(s,a),a.checked=a.__value===l[0],e(s,n),e(s,g),e(s,B),e(s,v),e(s,I),e(s,E),e(s,w),S||(G=[j(a,"change",l[13]),j(a,"change",l[15])],S=!0)},p(M,p){p&1&&(a.checked=a.__value===M[0])},d(M){M&&h(s),L.r(),S=!1,ut(G)}}}function rt(l){let s=l[19].address+"",a,n,c=l[19].amount+"",g,B;return{c(){a=f(s),n=f(", "),g=f(c),B=r("br")},l(u){a=_(u,s),n=_(u,", "),g=_(u,c),B=i(u,"BR",{})},m(u,v){$(u,a,v),$(u,n,v),$(u,g,v),$(u,B,v)},p(u,v){v&2&&s!==(s=u[19].address+"")&&Z(a,s),v&2&&c!==(c=u[19].amount+"")&&Z(g,c)},d(u){u&&(h(a),h(n),h(g),h(B))}}}function Bt(l){let s,a,n,c,g="Let's write some coupons!",B,u,v="<b>This is an advanced feature for power users. There is no way to undo writing a coupon.</b>",I,E,w=`Coupons incentivize money being spent 1) at a specific destination, 2) above some minimum
		amount, and 3) with restrictions like: limit one per customer.`,L,S,G=`Future vault coupons are plain bitcoin cash unspent transaction outputs (UTXOs) that have been
		sent to, and are then locked by a <a href="/contracts#coupon">simple contract</a> to incentivize
		spending money at a specific destination (a FBCH token vault). For example, an output of 100k sats
		can be sent to a coupon contract to be used for locking at least 1 BCH (min. value) into 1 FBCH at
		a vault contract (destination).`,M,p,ce=`Coupons values are denoted in BCH sats, where the value of the coupon is the value of the
		unspent output. A whole BCH could be split into 1000 coupons each offering 100k sats for
		placement, or 1 BCH coin could be sent to the coupon contract in one single output to let anyone
		lock a "free" FBCH.`,se,K,ye=`At this time, all coupons incentivize the same placement amount of 1 BCH (or 100M sats) into an
		FBCH vault. These &quot;C<sub>0</sub>&quot; series coupons are to lock 1 x 10^0 BCH, but there may be
		smaller and larger amounts later (i.e C<sub>2</sub> for 100 BCH placements and C<sub>-2</sub> for
		0.01 BCH vault placements).`,de,P,ee=`<b>Coupons are not refundable.</b>
		Money sent to a coupon holding contract can only be redeemed in a transaction that sends the required
		amount of value to a second predefined contract (i.e. a future vault).`,O,T,Ge=`Below is a simple tool for use with the <a href="https://electroncash.org/">Electron Cash</a> pay-to-many
		feature:`,He,V,Q,Ke="Placement: 1 BCH",Be,te,R,Te,pe,ke,X,Ee,re=(l[4]/20).toPrecision(2)+"",he,Le,Me,Pe,D,Ve,ne,U,Ie,fe,we,Se,A,De,W,Fe,J,Re,_e,Ae,qe,z,ze,ve,je,Oe,Ue,Ne,We,q,me,xe,Qe,le=Ce(l[7]),y=[];for(let o=0;o<le.length;o+=1)y[o]=st(ot(l,le,o));let ae=Ce(l[1]),H=[];for(let o=0;o<ae.length;o+=1)H[o]=rt(at(l,ae,o));return{c(){s=r("meta"),a=m(),n=r("div"),c=r("h1"),c.textContent=g,B=m(),u=r("blockquote"),u.innerHTML=v,I=m(),E=r("p"),E.textContent=w,L=m(),S=r("p"),S.innerHTML=G,M=m(),p=r("p"),p.textContent=ce,se=m(),K=r("p"),K.innerHTML=ye,de=m(),P=r("p"),P.innerHTML=ee,O=m(),T=r("p"),T.innerHTML=Ge,He=m(),V=r("div"),Q=r("div"),Q.textContent=Ke,Be=m(),te=r("div"),R=r("label"),Te=f("Rate: "),pe=f(l[4]),ke=f(" spb , "),X=r("i"),Ee=f("~"),he=f(re),Le=f("% "),Me=r("br"),Pe=m(),D=r("input"),Ve=m(),ne=r("div"),U=r("label"),Ie=f("Copies: "),fe=f(l[3]),we=r("br"),Se=m(),A=r("input"),De=m(),W=r("div");for(let o=0;o<y.length;o+=1)y[o].c();Fe=m(),J=r("div"),Re=f("Lock up to "),_e=f(l[6]),Ae=f(" FBCH"),qe=m(),z=r("div"),ze=f("Total: "),ve=f(l[5]),je=f(" BCH"),Oe=r("br"),Ue=m(),Ne=r("hr"),We=m(),q=r("div");for(let o=0;o<H.length;o+=1)H[o].c();this.h()},l(o){const C=mt("svelte-174kz84",document.head);s=i(C,"META",{name:!0,content:!0}),C.forEach(h),a=b(o),n=i(o,"DIV",{class:!0});var t=F(n);c=i(t,"H1",{"data-svelte-h":!0}),N(c)!=="svelte-bkv8ks"&&(c.textContent=g),B=b(t),u=i(t,"BLOCKQUOTE",{"data-svelte-h":!0}),N(u)!=="svelte-1av7iv7"&&(u.innerHTML=v),I=b(t),E=i(t,"P",{"data-svelte-h":!0}),N(E)!=="svelte-g3laio"&&(E.textContent=w),L=b(t),S=i(t,"P",{"data-svelte-h":!0}),N(S)!=="svelte-gaho0i"&&(S.innerHTML=G),M=b(t),p=i(t,"P",{"data-svelte-h":!0}),N(p)!=="svelte-1uz01x7"&&(p.textContent=ce),se=b(t),K=i(t,"P",{"data-svelte-h":!0}),N(K)!=="svelte-1l8l0c"&&(K.innerHTML=ye),de=b(t),P=i(t,"P",{"data-svelte-h":!0}),N(P)!=="svelte-17orl32"&&(P.innerHTML=ee),O=b(t),T=i(t,"P",{"data-svelte-h":!0}),N(T)!=="svelte-15bll3f"&&(T.innerHTML=Ge),He=b(t),V=i(t,"DIV",{id:!0,class:!0});var k=F(V);Q=i(k,"DIV",{class:!0,"data-svelte-h":!0}),N(Q)!=="svelte-13h8hoj"&&(Q.textContent=Ke),Be=b(k),te=i(k,"DIV",{class:!0});var Xe=F(te);R=i(Xe,"LABEL",{});var x=F(R);Te=_(x,"Rate: "),pe=_(x,l[4]),ke=_(x," spb , "),X=i(x,"I",{});var be=F(X);Ee=_(be,"~"),he=_(be,re),Le=_(be,"% "),be.forEach(h),Me=i(x,"BR",{}),Pe=b(x),D=i(x,"INPUT",{type:!0,min:!0,step:!0,max:!0}),x.forEach(h),Xe.forEach(h),Ve=b(k),ne=i(k,"DIV",{class:!0});var Je=F(ne);U=i(Je,"LABEL",{});var oe=F(U);Ie=_(oe,"Copies: "),fe=_(oe,l[3]),we=i(oe,"BR",{}),Se=b(oe),A=i(oe,"INPUT",{type:!0,min:!0,max:!0}),oe.forEach(h),Je.forEach(h),De=b(k),W=i(k,"DIV",{id:!0,class:!0});var Ye=F(W);for(let Y=0;Y<y.length;Y+=1)y[Y].l(Ye);Ye.forEach(h),k.forEach(h),Fe=b(t),J=i(t,"DIV",{});var ge=F(J);Re=_(ge,"Lock up to "),_e=_(ge,l[6]),Ae=_(ge," FBCH"),ge.forEach(h),qe=b(t),z=i(t,"DIV",{id:!0,class:!0});var ie=F(z);ze=_(ie,"Total: "),ve=_(ie,l[5]),je=_(ie," BCH"),Oe=i(ie,"BR",{}),ie.forEach(h),Ue=b(t),Ne=i(t,"HR",{}),We=b(t),q=i(t,"DIV",{id:!0,class:!0});var Ze=F(q);for(let Y=0;Y<H.length;Y+=1)H[Y].l(Ze);Ze.forEach(h),t.forEach(h),this.h()},h(){document.title="Write",d(s,"name","description"),d(s,"content","Write Coupons"),d(Q,"class","svelte-vxd5yl"),d(D,"type","range"),d(D,"min","1"),d(D,"step","0.2"),d(D,"max","100"),d(te,"class","svelte-vxd5yl"),d(A,"type","range"),d(A,"min","1"),d(A,"max","40"),d(ne,"class","svelte-vxd5yl"),d(W,"id","dataTable"),d(W,"class","svelte-vxd5yl"),d(V,"id","control"),d(V,"class","svelte-vxd5yl"),d(z,"id","total"),d(z,"class","svelte-vxd5yl"),d(q,"id","mono"),d(q,"class","svelte-vxd5yl"),d(n,"class","text-column")},m(o,C){e(document.head,s),$(o,a,C),$(o,n,C),e(n,c),e(n,B),e(n,u),e(n,I),e(n,E),e(n,L),e(n,S),e(n,M),e(n,p),e(n,se),e(n,K),e(n,de),e(n,P),e(n,O),e(n,T),e(n,He),e(n,V),e(V,Q),e(V,Be),e(V,te),e(te,R),e(R,Te),e(R,pe),e(R,ke),e(R,X),e(X,Ee),e(X,he),e(X,Le),e(R,Me),e(R,Pe),e(R,D),ue(D,l[4]),e(V,Ve),e(V,ne),e(ne,U),e(U,Ie),e(U,fe),e(U,we),e(U,Se),e(U,A),ue(A,l[3]),e(V,De),e(V,W);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(W,null);e(n,Fe),e(n,J),e(J,Re),e(J,_e),e(J,Ae),e(n,qe),e(n,z),e(z,ze),e(z,ve),e(z,je),e(z,Oe),e(n,Ue),e(n,Ne),e(n,We),e(n,q);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(q,null);xe||(Qe=[j(D,"change",l[9]),j(D,"change",l[10]),j(D,"input",l[10]),j(A,"change",l[11]),j(A,"change",l[12]),j(A,"input",l[12]),pt(me=Ct.call(null,q,l[2])),j(q,"svelte-copy",l[16]),j(q,"svelte-copy:error",l[17])],xe=!0)},p(o,[C]){if(C&16&&Z(pe,o[4]),C&16&&re!==(re=(o[4]/20).toPrecision(2)+"")&&Z(he,re),C&16&&ue(D,o[4]),C&8&&Z(fe,o[3]),C&8&&ue(A,o[3]),C&385){le=Ce(o[7]);let t;for(t=0;t<le.length;t+=1){const k=ot(o,le,t);y[t]?y[t].p(k,C):(y[t]=st(k),y[t].c(),y[t].m(W,null))}for(;t<y.length;t+=1)y[t].d(1);y.length=le.length}if(C&64&&Z(_e,o[6]),C&32&&Z(ve,o[5]),C&2){ae=Ce(o[1]);let t;for(t=0;t<ae.length;t+=1){const k=at(o,ae,t);H[t]?H[t].p(k,C):(H[t]=rt(k),H[t].c(),H[t].m(q,null))}for(;t<H.length;t+=1)H[t].d(1);H.length=ae.length}me&&ht(me.update)&&C&4&&me.update.call(null,o[2])},i:$e,o:$e,d(o){o&&(h(a),h(n)),h(s),et(y,o),et(H,o),xe=!1,ut(Qe)}}}let it=1;function Tt(l){return l.map(a=>`${a.address}, ${a.amount}`).join(`\r
`)}function kt(l,s,a){const n=[3,4,5,6];let c=4,g=[],B="",u=1,v=20,I=0,E=0,w=857e3;gt.subscribe(P=>{w=P});function L(){let P=nt.getCouponSeries(w,it*1e8,c,c==6?4:void 0),ee=nt.getSeriesTimes(w,c,c==6?4:void 0);a(1,g=P.map(function(O,T){return(ee[T]-w)*v>543?[...Array(u).fill({time:ee[T],address:O,placement:it,amount:Math.floor((ee[T]-w)*v)/1e8})]:[]}).flat()),a(2,B=Tt(g)),a(6,E=g.reduce(function(O,T){return O+T.placement},0)),a(5,I=g.reduce(function(O,T){return O+T.amount},0)),a(5,I=Math.floor(I*1e8)/1e8)}ft(async()=>{L()});const S=[[]],G=()=>L();function M(){v=tt(this.value),a(4,v)}const p=()=>L();function ce(){u=tt(this.value),a(3,u)}function se(){c=this.__value,a(0,c)}return[c,g,B,u,v,I,E,n,L,G,M,p,ce,se,S,()=>L(),P=>lt.push("Coupons copied to clipboard"),P=>lt.push(`Error, no access to clipboard?: ${P.detail.message}`,{classes:["warn"]})]}class St extends _t{constructor(s){super(),vt(this,s,kt,Bt,dt,{})}}export{St as component,wt as universal};
//# sourceMappingURL=12.DwzbcAlw.js.map
