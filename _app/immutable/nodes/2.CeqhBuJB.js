import{s as Le,o as He,n as I,a as Me}from"../chunks/scheduler.CoKJEDLV.js";import{S as Pe,i as Ie,e as m,s as S,p as Ne,c as v,d as p,f as B,a as y,o as V,m as b,h as c,g as L,r as W,u as me,v as U,w as ve,x as Te,t as $,y as qe,b as D,z as Fe,A as Ae,j as P,B as Oe,n as De,C as je}from"../chunks/index.BGGdVmBl.js";import{h as xe,V as We,e as Ee,u as Ue,o as Ve}from"../chunks/vault.BmJjgdha.js";import{$ as Ge,a as Se}from"../chunks/index.CBUt9gsE.js";import{B as Ke,I as Qe,F as Re}from"../chunks/wallet.CIVR7toD.js";import{t as Ye}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.8ep8mfxG.js";import{b as Je}from"../chunks/bch.QnmS77Uw.js";import{S as Xe}from"../chunks/SeriesIcon.BXBPivo_.js";const Ze=!0,vt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ze},Symbol.toStringTag,{value:"Module"}));function Be(k,e,t){const l=k.slice();return l[14]=e[t],l}function et(k){let e,t="loading coupons...";return{c(){e=m("p"),e.textContent=t},l(l){e=v(l,"P",{"data-svelte-h":!0}),V(e)!=="svelte-1frqwd1"&&(e.textContent=t)},m(l,n){L(l,e,n)},p:I,i:I,o:I,d(l){l&&p(e)}}}function tt(k){let e,t,l,n;const d=[st,lt],o=[];function _(s,r){return s[0].length>0?0:1}return e=_(k),t=o[e]=d[e](k),{c(){t.c(),l=Te()},l(s){t.l(s),l=Te()},m(s,r){o[e].m(s,r),L(s,l,r),n=!0},p(s,r){let w=e;e=_(s),e===w?o[e].p(s,r):(ve(),W(o[w],1,1,()=>{o[w]=null}),me(),t=o[e],t?t.p(s,r):(t=o[e]=d[e](s),t.c()),U(t,1),t.m(l.parentNode,l))},i(s){n||(U(t),n=!0)},o(s){W(t),n=!1},d(s){s&&p(l),o[e].d(s)}}}function lt(k){let e,t="no coupons available";return{c(){e=m("p"),e.textContent=t},l(l){e=v(l,"P",{"data-svelte-h":!0}),V(e)!=="svelte-r1zx0p"&&(e.textContent=t)},m(l,n){L(l,e,n)},p:I,i:I,o:I,d(l){l&&p(e)}}}function st(k){let e,t,l='<tr class="header svelte-1cp4wz0"><td class="svelte-1cp4wz0"></td> <td class="svelte-1cp4wz0"><i>P</i></td> <td class="svelte-1cp4wz0">locktime</td> <td class="svelte-1cp4wz0">coupon</td> <td colspan="3" class="svelte-1cp4wz0">coupon rate</td> <td class="svelte-1cp4wz0">action</td></tr> <tr class="units svelte-1cp4wz0"><td class="svelte-1cp4wz0"></td> <td class="svelte-1cp4wz0">BCH</td> <td class="svelte-1cp4wz0">series</td> <td class="r svelte-1cp4wz0">sats</td> <td class="r svelte-1cp4wz0">spb</td> <td class="svelte-1cp4wz0">per annum</td> <td class="svelte-1cp4wz0">to maturity</td> <td class="svelte-1cp4wz0"></td></tr>',n,d,o=[],_=new Map,s,r=Ee(k[0]);const w=f=>f[14].id;for(let f=0;f<r.length;f+=1){let a=Be(k,r,f),g=w(a);_.set(g,o[f]=$e(g,a))}return{c(){e=m("table"),t=m("thead"),t.innerHTML=l,n=S(),d=m("tbody");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=v(f,"TABLE",{class:!0});var a=y(e);t=v(a,"THEAD",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-aanvdh"&&(t.innerHTML=l),n=B(a),d=v(a,"TBODY",{class:!0});var g=y(d);for(let h=0;h<o.length;h+=1)o[h].l(g);g.forEach(p),a.forEach(p),this.h()},h(){b(t,"class","svelte-1cp4wz0"),b(d,"class","svelte-1cp4wz0"),b(e,"class","couponTable svelte-1cp4wz0")},m(f,a){L(f,e,a),c(e,t),c(e,n),c(e,d);for(let g=0;g<o.length;g+=1)o[g]&&o[g].m(d,null);s=!0},p(f,a){a&7&&(r=Ee(f[0]),ve(),o=Ue(o,a,w,1,f,r,_,d,Ve,$e,null,Be),me())},i(f){if(!s){for(let a=0;a<r.length;a+=1)U(o[a]);s=!0}},o(f){for(let a=0;a<o.length;a+=1)W(o[a]);s=!1},d(f){f&&p(e);for(let a=0;a<o.length;a+=1)o[a].d()}}}function at(k){let e,t='<button class="action svelte-1cp4wz0" disabled="" style="font-size:x-small;">low bal.</button>';return{c(){e=m("td"),e.innerHTML=t,this.h()},l(l){e=v(l,"TD",{style:!0,class:!0,"data-svelte-h":!0}),V(e)!=="svelte-1q0aqj7"&&(e.innerHTML=t),this.h()},h(){De(e,"text-align","center"),b(e,"class","svelte-1cp4wz0")},m(l,n){L(l,e,n)},p:I,d(l){l&&p(e)}}}function ot(k){let e,t,l="claim",n,d;function o(){return k[3](k[14])}return{c(){e=m("td"),t=m("button"),t.textContent=l,this.h()},l(_){e=v(_,"TD",{style:!0,class:!0});var s=y(e);t=v(s,"BUTTON",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-19mciub"&&(t.textContent=l),s.forEach(p),this.h()},h(){b(t,"class","action svelte-1cp4wz0"),De(e,"text-align","center"),b(e,"class","svelte-1cp4wz0")},m(_,s){L(_,e,s),c(e,t),n||(d=je(t,"click",o),n=!0)},p(_,s){k=_},d(_){_&&p(e),n=!1,d()}}}function $e(k,e){let t,l,n,d,o=e[14].order+"",_,s,r,w=Number(e[14].placement/1e8)+"",f,a,g,h,u,z,M=e[14].locktime.toLocaleString()+"",Y,H,J,oe,N,G=Number(e[14].utxo.satoshis).toLocaleString()+"",X,ne,q,K=e[14].locale.spb+"",Z,ce,F,A,Q=e[14].locale.ypa+"",ee,re,ie,O,j,R=e[14].locale.ytm+"",te,ue,de,le,se,T;H=new Xe({props:{time:e[14].locktime,size:"15"}});function be(C,i){return i&3&&(le=null),le==null&&(le=C[1]+Number(C[14].utxo.satoshis)>C[14].placement),le?ot:at}let ae=be(e,-1),E=ae(e);return{key:k,first:null,c(){t=m("tr"),l=m("td"),n=$("C"),d=m("sub"),_=$(o),s=S(),r=m("td"),f=$(w),a=m("img"),h=S(),u=m("td"),z=m("a"),Y=$(M),qe(H.$$.fragment),oe=S(),N=m("td"),X=$(G),ne=S(),q=m("td"),Z=$(K),ce=S(),F=m("td"),A=m("i"),ee=$(Q),re=$("%"),ie=S(),O=m("td"),j=m("i"),te=$(R),ue=$("%"),de=S(),E.c(),se=S(),this.h()},l(C){t=v(C,"TR",{class:!0});var i=y(t);l=v(i,"TD",{class:!0});var x=y(l);n=D(x,"C"),d=v(x,"SUB",{});var ke=y(d);_=D(ke,o),ke.forEach(p),x.forEach(p),s=B(i),r=v(i,"TD",{class:!0});var fe=y(r);f=D(fe,w),a=v(fe,"IMG",{width:!0,src:!0,alt:!0}),fe.forEach(p),h=B(i),u=v(i,"TD",{class:!0});var we=y(u);z=v(we,"A",{href:!0});var pe=y(z);Y=D(pe,M),Fe(H.$$.fragment,pe),pe.forEach(p),we.forEach(p),oe=B(i),N=v(i,"TD",{class:!0});var ge=y(N);X=D(ge,G),ge.forEach(p),ne=B(i),q=v(i,"TD",{class:!0});var ze=y(q);Z=D(ze,K),ze.forEach(p),ce=B(i),F=v(i,"TD",{class:!0});var ye=y(F);A=v(ye,"I",{});var _e=y(A);ee=D(_e,Q),re=D(_e,"%"),_e.forEach(p),ye.forEach(p),ie=B(i),O=v(i,"TD",{class:!0});var Ce=y(O);j=v(Ce,"I",{});var he=y(j);te=D(he,R),ue=D(he,"%"),he.forEach(p),Ce.forEach(p),de=B(i),E.l(i),se=B(i),i.forEach(p),this.h()},h(){b(l,"class","svelte-1cp4wz0"),b(a,"width","15"),Me(a.src,g=Je)||b(a,"src",g),b(a,"alt","bchLogo"),b(r,"class","r svelte-1cp4wz0"),b(z,"href",J="/v?block="+e[14].locktime),b(u,"class","r svelte-1cp4wz0"),b(N,"class","sats svelte-1cp4wz0"),b(q,"class","sats svelte-1cp4wz0"),b(F,"class","r svelte-1cp4wz0"),b(O,"class","r svelte-1cp4wz0"),b(t,"class","svelte-1cp4wz0"),this.first=t},m(C,i){L(C,t,i),c(t,l),c(l,n),c(l,d),c(d,_),c(t,s),c(t,r),c(r,f),c(r,a),c(t,h),c(t,u),c(u,z),c(z,Y),Ae(H,z,null),c(t,oe),c(t,N),c(N,X),c(t,ne),c(t,q),c(q,Z),c(t,ce),c(t,F),c(F,A),c(A,ee),c(A,re),c(t,ie),c(t,O),c(O,j),c(j,te),c(j,ue),c(t,de),E.m(t,null),c(t,se),T=!0},p(C,i){e=C,(!T||i&1)&&o!==(o=e[14].order+"")&&P(_,o),(!T||i&1)&&w!==(w=Number(e[14].placement/1e8)+"")&&P(f,w),(!T||i&1)&&M!==(M=e[14].locktime.toLocaleString()+"")&&P(Y,M);const x={};i&1&&(x.time=e[14].locktime),H.$set(x),(!T||i&1&&J!==(J="/v?block="+e[14].locktime))&&b(z,"href",J),(!T||i&1)&&G!==(G=Number(e[14].utxo.satoshis).toLocaleString()+"")&&P(X,G),(!T||i&1)&&K!==(K=e[14].locale.spb+"")&&P(Z,K),(!T||i&1)&&Q!==(Q=e[14].locale.ypa+"")&&P(ee,Q),(!T||i&1)&&R!==(R=e[14].locale.ytm+"")&&P(te,R),ae===(ae=be(e,i))&&E?E.p(e,i):(E.d(1),E=ae(e),E&&(E.c(),E.m(t,se)))},i(C){T||(U(H.$$.fragment,C),T=!0)},o(C){W(H.$$.fragment,C),T=!1},d(C){C&&p(t),Oe(H),E.d()}}}function nt(k){let e,t,l,n,d,o=`FBCH are series of fungible tokens, with an incentive market for locking and unlocking Bitcoin
		Cash.`,_,s,r,w;const f=[tt,et],a=[];function g(h,u){return h[0]?0:1}return s=g(k),r=a[s]=f[s](k),{c(){e=m("meta"),t=m("link"),l=S(),n=m("section"),d=m("p"),d.textContent=o,_=S(),r.c(),this.h()},l(h){const u=Ne("svelte-hr4gqp",document.head);e=v(u,"META",{name:!0,content:!0}),t=v(u,"LINK",{rel:!0,type:!0,href:!0}),u.forEach(p),l=B(h),n=v(h,"SECTION",{class:!0});var z=y(n);d=v(z,"P",{"data-svelte-h":!0}),V(d)!=="svelte-1na0geu"&&(d.textContent=o),_=B(z),r.l(z),z.forEach(p),this.h()},h(){document.title="Future BCH",b(e,"name","description"),b(e,"content","Future Bitcoin Cash"),b(t,"rel","icon"),b(t,"type","image/svg"),b(t,"href","/FBCH.svg"),b(n,"class","svelte-1cp4wz0")},m(h,u){c(document.head,e),c(document.head,t),L(h,l,u),L(h,n,u),c(n,d),c(n,_),a[s].m(n,null),w=!0},p(h,[u]){let z=s;s=g(h),s===z?a[s].p(h,u):(ve(),W(a[z],1,1,()=>{a[z]=null}),me(),r=a[s],r?r.p(h,u):(r=a[s]=f[s](h),r.c()),U(r,1),r.m(n,null))},i(h){w||(U(r),w=!0)},o(h){W(r),w=!1},d(h){h&&(p(l),p(n)),p(e),p(t),a[s].d()}}}function ct(k,e=2e3){let t;return(...l)=>{clearTimeout(t),t=setTimeout(()=>{k.apply(this,l)},e)}}function rt(k,e,t){let l="",n,d,o=[],_,s,r;xe.subscribe(u=>{console.log(n),n=u,w()});async function w(){_&&n>1e3&&t(0,d=await We.getAllCouponUtxos(_,n))}async function f(){console.log("processing que data"),console.log(o);try{await s.swap(o),l=""}catch(u){l=u,Ye.push(`Error: ${u}`,{classes:["warn"]})}o=[]}const a=ct(()=>f()),g=async function(u,z){t(1,r-=u.placement),o.push({placement:BigInt(u.placement),coupon:u.utxo,locktime:u.locktime}),console.log(o),t(0,d=d.filter(M=>M.id!==z)),a()};return He(async()=>{try{Ke.StorageProvider=Qe,s=await Re.named("hot"),t(1,r=await s.getBalance("sats"))}catch(u){throw u}_=new Ge("FBCH","1.4.1","bch.imaginary.cash",Se.WSS.Port,Se.WSS.Scheme),await _.connect().then(()=>{w()})}),[d,r,g,u=>g(u,u.id)]}class bt extends Pe{constructor(e){super(),Ie(this,e,rt,nt,Le,{})}}export{bt as component,vt as universal};
//# sourceMappingURL=2.CeqhBuJB.js.map
