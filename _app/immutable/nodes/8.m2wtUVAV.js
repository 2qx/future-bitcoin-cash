import{s as oe,c as ne,o as ae,n as O}from"../chunks/scheduler.C6iVHy88.js";import{S as ce,i as re,e as g,v as R,s as A,r as ie,c as C,d,f as P,a as w,m as S,h,g as D,p as W,w as ue,o as Y,x as fe,q as V,t as q,y as _e,b as z,z as de,A as he,j as M,B as ve,C as se}from"../chunks/index.CjH48Mbr.js";import{e as $}from"../chunks/each.DdgUqDN3.js";import{p as pe}from"../chunks/stores.B1ahGZeK.js";import{V as K}from"../chunks/vault.CM8TiSFi.js";import{g as U}from"../chunks/util.CXoxrcmI.js";import{S as me}from"../chunks/SeriesIcon.BVUoW1bX.js";import{f as be}from"../chunks/push.C2uMDd7W.js";import{$ as ke,a as G}from"../chunks/index.CMH9iz4U.js";const ge=!0,je=Object.freeze(Object.defineProperty({__proto__:null,prerender:ge},Symbol.toStringTag,{value:"Module"}));function J(a,e,l){const t=a.slice();return t[10]=e[l],t}function Q(a,e,l){const t=a.slice();return t[10]=e[l],t}function X(a){let e,l;return{c(){e=g("link"),this.h()},l(t){e=C(t,"LINK",{rel:!0,type:!0,href:!0}),this.h()},h(){S(e,"rel","icon"),S(e,"type","image/svg"),S(e,"href",l="/FBCH-"+a[2]+".svg")},m(t,n){D(t,e,n)},p(t,n){n&4&&l!==(l="/FBCH-"+t[2]+".svg")&&S(e,"href",l)},d(t){t&&d(e)}}}function Ce(a){let e,l="loading...";return{c(){e=g("p"),e.textContent=l,this.h()},l(t){e=C(t,"P",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-qeejp2"&&(e.textContent=l),this.h()},h(){S(e,"class","svelte-9ecu6c")},m(t,n){D(t,e,n)},p:O,i:O,o:O,d(t){t&&d(e)}}}function Te(a){let e,l,t=a[2].toLocaleString()+"",n,r,i,s,c,o,u="Coupons",m,y,f,b="Vault Threads",E,p,v;i=new me({props:{time:a[2],size:"150"}});let k=a[3]&&Z(a);function T(_,H){return _[0]?Se:Ee}let N=T(a),F=N(a);function B(_,H){return _[1]&&_[1].length?De:Le}let L=B(a),I=L(a);return{c(){e=g("h1"),l=q("Vault "),n=q(t),r=A(),_e(i.$$.fragment),s=A(),k&&k.c(),c=A(),o=g("h4"),o.textContent=u,m=A(),F.c(),y=A(),f=g("h4"),f.textContent=b,E=A(),I.c(),p=R()},l(_){e=C(_,"H1",{});var H=w(e);l=z(H,"Vault "),n=z(H,t),H.forEach(d),r=P(_),de(i.$$.fragment,_),s=P(_),k&&k.l(_),c=P(_),o=C(_,"H4",{"data-svelte-h":!0}),V(o)!=="svelte-1donjrv"&&(o.textContent=u),m=P(_),F.l(_),y=P(_),f=C(_,"H4",{"data-svelte-h":!0}),V(f)!=="svelte-5lx8ud"&&(f.textContent=b),E=P(_),I.l(_),p=R()},m(_,H){D(_,e,H),h(e,l),h(e,n),D(_,r,H),he(i,_,H),D(_,s,H),k&&k.m(_,H),D(_,c,H),D(_,o,H),D(_,m,H),F.m(_,H),D(_,y,H),D(_,f,H),D(_,E,H),I.m(_,H),D(_,p,H),v=!0},p(_,H){(!v||H&4)&&t!==(t=_[2].toLocaleString()+"")&&M(n,t);const j={};H&4&&(j.time=_[2]),i.$set(j),_[3]?k?k.p(_,H):(k=Z(_),k.c(),k.m(c.parentNode,c)):k&&(k.d(1),k=null),N===(N=T(_))&&F?F.p(_,H):(F.d(1),F=N(_),F&&(F.c(),F.m(y.parentNode,y))),L===(L=B(_))&&I?I.p(_,H):(I.d(1),I=L(_),I&&(I.c(),I.m(p.parentNode,p)))},i(_){v||(Y(i.$$.fragment,_),v=!0)},o(_){W(i.$$.fragment,_),v=!1},d(_){_&&(d(e),d(r),d(s),d(c),d(o),d(m),d(y),d(f),d(E),d(p)),ve(i,_),k&&k.d(_),F.d(_),I.d(_)}}}function Z(a){let e,l,t,n=U(a[3],a[2]).toLocaleDateString()+"",r,i,s=a[2]-a[3]>0&&x(a),c=a[2]-a[3]<2e3&&ee(a);return{c(){s&&s.c(),e=A(),l=g("h3"),t=q(`Unlocks around
				`),r=q(n),i=A(),c&&c.c()},l(o){s&&s.l(o),e=P(o),l=C(o,"H3",{});var u=w(l);t=z(u,`Unlocks around
				`),r=z(u,n),i=P(u),c&&c.l(u),u.forEach(d)},m(o,u){s&&s.m(o,u),D(o,e,u),D(o,l,u),h(l,t),h(l,r),h(l,i),c&&c.m(l,null)},p(o,u){o[2]-o[3]>0?s?s.p(o,u):(s=x(o),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),u&12&&n!==(n=U(o[3],o[2]).toLocaleDateString()+"")&&M(r,n),o[2]-o[3]<2e3?c?c.p(o,u):(c=ee(o),c.c(),c.m(l,null)):c&&(c.d(1),c=null)},d(o){o&&(d(e),d(l)),s&&s.d(o),c&&c.d()}}}function x(a){let e,l,t=(a[2]-a[3]).toLocaleString()+"",n,r;return{c(){e=g("h2"),l=q("T  -"),n=q(t),r=q(" ■")},l(i){e=C(i,"H2",{});var s=w(e);l=z(s,"T  -"),n=z(s,t),r=z(s," ■"),s.forEach(d)},m(i,s){D(i,e,s),h(e,l),h(e,n),h(e,r)},p(i,s){s&12&&t!==(t=(i[2]-i[3]).toLocaleString()+"")&&M(n,t)},d(i){i&&d(e)}}}function ee(a){let e=U(a[3],a[2]).toLocaleTimeString()+"",l;return{c(){l=q(e)},l(t){l=z(t,e)},m(t,n){D(t,l,n)},p(t,n){n&12&&e!==(e=U(t[3],t[2]).toLocaleTimeString()+"")&&M(l,e)},d(t){t&&d(l)}}}function Ee(a){let e,l="loading coupons...";return{c(){e=g("p"),e.textContent=l,this.h()},l(t){e=C(t,"P",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-1frqwd1"&&(e.textContent=l),this.h()},h(){S(e,"class","svelte-9ecu6c")},m(t,n){D(t,e,n)},p:O,d(t){t&&d(e)}}}function Se(a){let e;function l(r,i){return r[0].length>0?He:ye}let t=l(a),n=t(a);return{c(){n.c(),e=R()},l(r){n.l(r),e=R()},m(r,i){n.m(r,i),D(r,e,i)},p(r,i){t===(t=l(r))&&n?n.p(r,i):(n.d(1),n=t(r),n&&(n.c(),n.m(e.parentNode,e)))},d(r){r&&d(e),n.d(r)}}}function ye(a){let e,l="no coupons available";return{c(){e=g("p"),e.textContent=l,this.h()},l(t){e=C(t,"P",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-r1zx0p"&&(e.textContent=l),this.h()},h(){S(e,"class","svelte-9ecu6c")},m(t,n){D(t,e,n)},p:O,d(t){t&&d(e)}}}function He(a){let e,l,t='<tr class="header svelte-9ecu6c"><td class="svelte-9ecu6c">Series</td> <td class="svelte-9ecu6c">Placement</td> <td class="svelte-9ecu6c">Coupon</td> <td class="svelte-9ecu6c">spb</td> <td class="svelte-9ecu6c">apr*</td></tr>',n,r,i=$(a[0]),s=[];for(let c=0;c<i.length;c+=1)s[c]=te(Q(a,i,c));return{c(){e=g("table"),l=g("thead"),l.innerHTML=t,n=A(),r=g("tbody");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){e=C(c,"TABLE",{class:!0});var o=w(e);l=C(o,"THEAD",{class:!0,"data-svelte-h":!0}),V(l)!=="svelte-1req6o2"&&(l.innerHTML=t),n=P(o),r=C(o,"TBODY",{class:!0});var u=w(r);for(let m=0;m<s.length;m+=1)s[m].l(u);u.forEach(d),o.forEach(d),this.h()},h(){S(l,"class","svelte-9ecu6c"),S(r,"class","svelte-9ecu6c"),S(e,"class","couponTable svelte-9ecu6c")},m(c,o){D(c,e,o),h(e,l),h(e,n),h(e,r);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(r,null)},p(c,o){if(o&13){i=$(c[0]);let u;for(u=0;u<i.length;u+=1){const m=Q(c,i,u);s[u]?s[u].p(m,o):(s[u]=te(m),s[u].c(),s[u].m(r,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=i.length}},d(c){c&&d(e),se(s,c)}}}function te(a){let e,l,t="C<sub>0</sub>",n,r,i="1 BCH",s,c,o=a[10].value.toLocaleString()+"",u,m,y,f=(a[10].value/(a[2]-a[3])).toFixed(1)+"",b,E,p,v,k=(a[10].value/(a[2]-a[3])/(1e6/52596)).toFixed(2)+"",T,N,F;return{c(){e=g("tr"),l=g("td"),l.innerHTML=t,n=A(),r=g("td"),r.textContent=i,s=A(),c=g("td"),u=q(o),m=A(),y=g("td"),b=q(f),E=A(),p=g("td"),v=g("i"),T=q(k),N=q("%"),F=A(),this.h()},l(B){e=C(B,"TR",{class:!0});var L=w(e);l=C(L,"TD",{class:!0,"data-svelte-h":!0}),V(l)!=="svelte-19mkn5i"&&(l.innerHTML=t),n=P(L),r=C(L,"TD",{class:!0,"data-svelte-h":!0}),V(r)!=="svelte-uzgb8o"&&(r.textContent=i),s=P(L),c=C(L,"TD",{class:!0});var I=w(c);u=z(I,o),I.forEach(d),m=P(L),y=C(L,"TD",{class:!0});var _=w(y);b=z(_,f),_.forEach(d),E=P(L),p=C(L,"TD",{class:!0});var H=w(p);v=C(H,"I",{});var j=w(v);T=z(j,k),N=z(j,"%"),j.forEach(d),H.forEach(d),F=P(L),L.forEach(d),this.h()},h(){S(l,"class","svelte-9ecu6c"),S(r,"class","svelte-9ecu6c"),S(c,"class","r svelte-9ecu6c"),S(y,"class","r svelte-9ecu6c"),S(p,"class","r svelte-9ecu6c"),S(e,"class","svelte-9ecu6c")},m(B,L){D(B,e,L),h(e,l),h(e,n),h(e,r),h(e,s),h(e,c),h(c,u),h(e,m),h(e,y),h(y,b),h(e,E),h(e,p),h(p,v),h(v,T),h(v,N),h(e,F)},p(B,L){L&1&&o!==(o=B[10].value.toLocaleString()+"")&&M(u,o),L&13&&f!==(f=(B[10].value/(B[2]-B[3])).toFixed(1)+"")&&M(b,f),L&13&&k!==(k=(B[10].value/(B[2]-B[3])/(1e6/52596)).toFixed(2)+"")&&M(T,k)},d(B){B&&d(e)}}}function Le(a){let e,l="loading threads...";return{c(){e=g("p"),e.textContent=l,this.h()},l(t){e=C(t,"P",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-1njcfnz"&&(e.textContent=l),this.h()},h(){S(e,"class","svelte-9ecu6c")},m(t,n){D(t,e,n)},p:O,d(t){t&&d(e)}}}function De(a){let e,l,t,n,r="Token Id",i,s,c="BCH",o,u,m,y,f,b,E=$(a[1]),p=[];for(let v=0;v<E.length;v+=1)p[v]=le(J(a,E,v));return{c(){e=g("table"),l=g("thead"),t=g("tr"),n=g("td"),n.textContent=r,i=A(),s=g("td"),s.textContent=c,o=A(),u=g("td"),m=q("FBCH-"),y=q(a[2]),f=A(),b=g("tbody");for(let v=0;v<p.length;v+=1)p[v].c();this.h()},l(v){e=C(v,"TABLE",{class:!0});var k=w(e);l=C(k,"THEAD",{class:!0});var T=w(l);t=C(T,"TR",{class:!0});var N=w(t);n=C(N,"TD",{class:!0,"data-svelte-h":!0}),V(n)!=="svelte-ma4vn8"&&(n.textContent=r),i=P(N),s=C(N,"TD",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-eke3it"&&(s.textContent=c),o=P(N),u=C(N,"TD",{class:!0});var F=w(u);m=z(F,"FBCH-"),y=z(F,a[2]),F.forEach(d),N.forEach(d),T.forEach(d),f=P(k),b=C(k,"TBODY",{class:!0});var B=w(b);for(let L=0;L<p.length;L+=1)p[L].l(B);B.forEach(d),k.forEach(d),this.h()},h(){S(n,"class","svelte-9ecu6c"),S(s,"class","svelte-9ecu6c"),S(u,"class","svelte-9ecu6c"),S(t,"class","svelte-9ecu6c"),S(l,"class","svelte-9ecu6c"),S(b,"class","svelte-9ecu6c"),S(e,"class","couponTable svelte-9ecu6c")},m(v,k){D(v,e,k),h(e,l),h(l,t),h(t,n),h(t,i),h(t,s),h(t,o),h(t,u),h(u,m),h(u,y),h(e,f),h(e,b);for(let T=0;T<p.length;T+=1)p[T]&&p[T].m(b,null)},p(v,k){if(k&4&&M(y,v[2]),k&2){E=$(v[1]);let T;for(T=0;T<E.length;T+=1){const N=J(v,E,T);p[T]?p[T].p(N,k):(p[T]=le(N),p[T].c(),p[T].m(b,null))}for(;T<p.length;T+=1)p[T].d(1);p.length=E.length}},d(v){v&&d(e),se(p,v)}}}function le(a){let e,l,t,n=a[10].token_data.category.substring(0,8)+"..."+a[10].token_data.category.slice(-8),r,i,s,c=(a[10].value/1e8).toFixed(2)+"",o,u,m,y,f=(a[10].token_data.amount/1e8).toLocaleString()+"",b,E;return{c(){e=g("tr"),l=g("td"),t=g("i"),r=q(n),i=A(),s=g("td"),o=q(c),u=A(),m=g("td"),y=g("i"),b=q(f),E=A(),this.h()},l(p){e=C(p,"TR",{class:!0});var v=w(e);l=C(v,"TD",{class:!0});var k=w(l);t=C(k,"I",{});var T=w(t);r=z(T,n),T.forEach(d),k.forEach(d),i=P(v),s=C(v,"TD",{class:!0});var N=w(s);o=z(N,c),N.forEach(d),u=P(v),m=C(v,"TD",{class:!0});var F=w(m);y=C(F,"I",{});var B=w(y);b=z(B,f),B.forEach(d),F.forEach(d),E=P(v),v.forEach(d),this.h()},h(){S(l,"class","svelte-9ecu6c"),S(s,"class","r svelte-9ecu6c"),S(m,"class","r svelte-9ecu6c"),S(e,"class","svelte-9ecu6c")},m(p,v){D(p,e,v),h(e,l),h(l,t),h(t,r),h(e,i),h(e,s),h(s,o),h(e,u),h(e,m),h(m,y),h(y,b),h(e,E)},p(p,v){v&2&&n!==(n=p[10].token_data.category.substring(0,8)+"..."+p[10].token_data.category.slice(-8))&&M(r,n),v&2&&c!==(c=(p[10].value/1e8).toFixed(2)+"")&&M(o,c),v&2&&f!==(f=(p[10].token_data.amount/1e8).toLocaleString()+"")&&M(b,f)},d(p){p&&d(e)}}}function Fe(a){let e,l,t,n,r,i,s,c;document.title=e="FBCH-"+a[2];let o=a[2]>857e3&&X(a);const u=[Te,Ce],m=[];function y(f,b){return f[2]?0:1}return i=y(a),s=m[i]=u[i](a),{c(){l=g("meta"),o&&o.c(),t=R(),n=A(),r=g("section"),s.c(),this.h()},l(f){const b=ie("svelte-hd2z9o",document.head);l=C(b,"META",{name:!0,content:!0}),o&&o.l(b),t=R(),b.forEach(d),n=P(f),r=C(f,"SECTION",{});var E=w(r);s.l(E),E.forEach(d),this.h()},h(){S(l,"name","description"),S(l,"content","Future Vault Series")},m(f,b){h(document.head,l),o&&o.m(document.head,null),h(document.head,t),D(f,n,b),D(f,r,b),m[i].m(r,null),c=!0},p(f,[b]){(!c||b&4)&&e!==(e="FBCH-"+f[2])&&(document.title=e),f[2]>857e3?o?o.p(f,b):(o=X(f),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null);let E=i;i=y(f),i===E?m[i].p(f,b):(fe(),W(m[E],1,1,()=>{m[E]=null}),ue(),s=m[i],s?s.p(f,b):(s=m[i]=u[i](f),s.c()),Y(s,1),s.m(r,null))},i(f){c||(Y(s),c=!0)},o(f){W(s),c=!1},d(f){f&&(d(n),d(r)),d(l),o&&o.d(f),d(t),m[i].d()}}}function Be(a,e,l){let t;ne(a,pe,f=>l(8,t=f));let{data:n}=e,r,i,s,c,o,u,m;be.subscribe(f=>{l(3,m=f)});const y=function(f){console.log("electrum: ",f)};return ae(async()=>{o=t.url.searchParams.get("block")||void 0,l(2,u=Number(o)),r=K.getCoupon(1e8,u),i=K.getAddress(u);const f=new ke("FBCH","1.4.1","bch.imaginary.cash",G.WSS.Port,G.WSS.Scheme);await f.connect(),f.on("notification",y),await f.subscribe("blockchain.address.subscribe",r),await f.subscribe("blockchain.address.subscribe",i);const b=await f.request("blockchain.address.listunspent",i,"tokens_only");if(b instanceof Error)throw b;l(1,c=b);const E=await f.request("blockchain.address.listunspent",r);if(E instanceof Error)throw E;l(0,s=E),s.length>0&&s.sort((p,v)=>parseFloat(v.value)-parseFloat(p.value))}),a.$$set=f=>{"data"in f&&l(4,n=f.data)},[s,c,u,m,n]}class Oe extends ce{constructor(e){super(),re(this,e,Be,Fe,oe,{data:4})}}export{Oe as component,je as universal};
//# sourceMappingURL=8.m2wtUVAV.js.map
