import{d as ot}from"../chunks/index.R8ovVqwX.js";import{s as st,n as Ke,r as at,o as it}from"../chunks/scheduler.Dw93JyHj.js";import{S as rt,i as ut,e as r,s as m,t as f,p as ct,c as u,d as p,f as b,a as S,o as O,b as v,m as h,h as e,g as Z,E as ie,F as W,j as Y,C as Qe,G as ht,I as Ye}from"../chunks/index.B3lM1vLa.js";import{e as me,V as Ze}from"../chunks/vault.UqEITsNb.js";import{h as dt}from"../chunks/push.Buv9URE0.js";const pt=ot,ft=!0,Bt=Object.freeze(Object.defineProperty({__proto__:null,csr:pt,prerender:ft},Symbol.toStringTag,{value:"Module"}));function $e(a,s,o){const n=a.slice();return n[16]=s[o],n}function et(a,s,o){const n=a.slice();return n[19]=s[o],n}function tt(a){let s,o,n,c=a[19]+"",g,C,i=Math.pow(10,a[19]).toLocaleString()+"",_,R,y,P,z,I,G;return z=ht(a[13][0]),{c(){s=r("label"),o=r("input"),n=f(`
					V`),g=f(c),C=f(" Series - "),_=f(i),R=m(),y=r("br"),P=m(),this.h()},l(L){s=u(L,"LABEL",{});var d=S(s);o=u(d,"INPUT",{type:!0,name:!0}),n=v(d,`
					V`),g=v(d,c),C=v(d," Series - "),_=v(d,i),R=b(d),y=u(d,"BR",{}),P=b(d),d.forEach(p),this.h()},h(){h(o,"type","radio"),h(o,"name","s"),o.__value=a[19],ie(o,o.__value),z.p(o)},m(L,d){Z(L,s,d),e(s,o),o.checked=o.__value===a[0],e(s,n),e(s,g),e(s,C),e(s,_),e(s,R),e(s,y),e(s,P),I||(G=[W(o,"change",a[12]),W(o,"change",a[14])],I=!0)},p(L,d){d&1&&(o.checked=o.__value===L[0])},d(L){L&&p(s),z.r(),I=!1,at(G)}}}function nt(a){let s=a[16].address+"",o,n,c=a[16].amount+"",g,C;return{c(){o=f(s),n=f(", "),g=f(c),C=r("br")},l(i){o=v(i,s),n=v(i,", "),g=v(i,c),C=u(i,"BR",{})},m(i,_){Z(i,o,_),Z(i,n,_),Z(i,g,_),Z(i,C,_)},p(i,_){_&2&&s!==(s=i[16].address+"")&&Y(o,s),_&2&&c!==(c=i[16].amount+"")&&Y(g,c)},d(i){i&&(p(o),p(n),p(g),p(C))}}}function vt(a){let s,o,n,c,g="Let's write some coupons!",C,i,_=`Coupons incentivize money being spent 1) at a specific destination, 2) above some minimum
		amount, and 3) with restrictions like: limit one per customer.`,R,y,P=`Future vault coupons are plain bitcoin cash unspent transaction outputs (UTXOs) that have been
		sent to, and are then locked by a <a href="/contracts#coupon">simple contract</a> to incentivize
		spending money at a specific destination (a FBCH token vault). For example, an output of 100k sats
		can be sent to a coupon contract to be used for locking at least 1 BCH (min. value) into 1 FBCH at
		a vault contract (destination).`,z,I,G=`Coupons values are denoted in BCH sats, where the value of the coupon is the value of the
		unspent output. A whole BCH could be split into 1000 coupons each offering 100k sats for
		placement, or 1 BCH coin could be sent to the coupon contract in one single output to let anyone
		lock a "free" FBCH.`,L,d,re=`At this time, all coupons incentivize the same placement amount of 1 BCH (or 100M sats) into an
		FBCH vault. These &quot;C<sub>0</sub>&quot; series coupons are to lock 1 x 10^0 BCH, but there may be
		smaller and larger amounts later (i.e C<sub>2</sub> for 100 BCH placements and C<sub>-2</sub> for 0.01 BCH vault placements).`,ue,w,$=`<b>Coupons are not refundable.</b>
		Money sent to a coupon holding contract can only be redeemed in a transaction that sends the required
		amount of value to a second predefined contract (i.e. a future vault).`,j,E,xe=`Below is a simple tool for use with the <a href="https://electroncash.org/">Electron Cash</a> pay-to-many
		feature:`,be,M,X,Ne="Placement: 1 BCH",ge,ee,D,Ce,ce,He,J,Be,oe=(a[3]/20).toPrecision(2)+"",he,ke,ye,Ee,V,Te,te,q,Le,de,Me,Pe,F,Ie,U,Ve,K,Se,pe,De,Fe,A,Re,fe,we,Ae,ze,je,qe,x,Ue,Oe,ne=me(a[6]),H=[];for(let l=0;l<ne.length;l+=1)H[l]=tt(et(a,ne,l));let le=me(a[1]),B=[];for(let l=0;l<le.length;l+=1)B[l]=nt($e(a,le,l));return{c(){s=r("meta"),o=m(),n=r("div"),c=r("h1"),c.textContent=g,C=m(),i=r("p"),i.textContent=_,R=m(),y=r("p"),y.innerHTML=P,z=m(),I=r("p"),I.textContent=G,L=m(),d=r("p"),d.innerHTML=re,ue=m(),w=r("p"),w.innerHTML=$,j=m(),E=r("p"),E.innerHTML=xe,be=m(),M=r("div"),X=r("div"),X.textContent=Ne,ge=m(),ee=r("div"),D=r("label"),Ce=f("Rate: "),ce=f(a[3]),He=f(" spb , "),J=r("i"),Be=f("~"),he=f(oe),ke=f("% "),ye=r("br"),Ee=m(),V=r("input"),Te=m(),te=r("div"),q=r("label"),Le=f("Copies: "),de=f(a[2]),Me=r("br"),Pe=m(),F=r("input"),Ie=m(),U=r("div");for(let l=0;l<H.length;l+=1)H[l].c();Ve=m(),K=r("div"),Se=f("Lock up to "),pe=f(a[5]),De=f(" FBCH"),Fe=m(),A=r("div"),Re=f("Total: "),fe=f(a[4]),we=f(" BCH"),Ae=r("br"),ze=m(),je=r("hr"),qe=m(),x=r("div");for(let l=0;l<B.length;l+=1)B[l].c();this.h()},l(l){const k=ct("svelte-174kz84",document.head);s=u(k,"META",{name:!0,content:!0}),k.forEach(p),o=b(l),n=u(l,"DIV",{class:!0});var t=S(n);c=u(t,"H1",{"data-svelte-h":!0}),O(c)!=="svelte-bkv8ks"&&(c.textContent=g),C=b(t),i=u(t,"P",{"data-svelte-h":!0}),O(i)!=="svelte-g3laio"&&(i.textContent=_),R=b(t),y=u(t,"P",{"data-svelte-h":!0}),O(y)!=="svelte-gaho0i"&&(y.innerHTML=P),z=b(t),I=u(t,"P",{"data-svelte-h":!0}),O(I)!=="svelte-1uz01x7"&&(I.textContent=G),L=b(t),d=u(t,"P",{"data-svelte-h":!0}),O(d)!=="svelte-1g8eu04"&&(d.innerHTML=re),ue=b(t),w=u(t,"P",{"data-svelte-h":!0}),O(w)!=="svelte-17orl32"&&(w.innerHTML=$),j=b(t),E=u(t,"P",{"data-svelte-h":!0}),O(E)!=="svelte-15bll3f"&&(E.innerHTML=xe),be=b(t),M=u(t,"DIV",{id:!0,class:!0});var T=S(M);X=u(T,"DIV",{class:!0,"data-svelte-h":!0}),O(X)!=="svelte-13h8hoj"&&(X.textContent=Ne),ge=b(T),ee=u(T,"DIV",{class:!0});var We=S(ee);D=u(We,"LABEL",{});var N=S(D);Ce=v(N,"Rate: "),ce=v(N,a[3]),He=v(N," spb , "),J=u(N,"I",{});var ve=S(J);Be=v(ve,"~"),he=v(ve,oe),ke=v(ve,"% "),ve.forEach(p),ye=u(N,"BR",{}),Ee=b(N),V=u(N,"INPUT",{type:!0,min:!0,step:!0,max:!0}),N.forEach(p),We.forEach(p),Te=b(T),te=u(T,"DIV",{class:!0});var Ge=S(te);q=u(Ge,"LABEL",{});var ae=S(q);Le=v(ae,"Copies: "),de=v(ae,a[2]),Me=u(ae,"BR",{}),Pe=b(ae),F=u(ae,"INPUT",{type:!0,min:!0,max:!0}),ae.forEach(p),Ge.forEach(p),Ie=b(T),U=u(T,"DIV",{id:!0,class:!0});var Xe=S(U);for(let Q=0;Q<H.length;Q+=1)H[Q].l(Xe);Xe.forEach(p),T.forEach(p),Ve=b(t),K=u(t,"DIV",{});var _e=S(K);Se=v(_e,"Lock up to "),pe=v(_e,a[5]),De=v(_e," FBCH"),_e.forEach(p),Fe=b(t),A=u(t,"DIV",{id:!0,class:!0});var se=S(A);Re=v(se,"Total: "),fe=v(se,a[4]),we=v(se," BCH"),Ae=u(se,"BR",{}),se.forEach(p),ze=b(t),je=u(t,"HR",{}),qe=b(t),x=u(t,"DIV",{id:!0,class:!0});var Je=S(x);for(let Q=0;Q<B.length;Q+=1)B[Q].l(Je);Je.forEach(p),t.forEach(p),this.h()},h(){document.title="Write",h(s,"name","description"),h(s,"content","Write Coupons"),h(X,"class","svelte-vxd5yl"),h(V,"type","range"),h(V,"min","1"),h(V,"step","0.2"),h(V,"max","100"),h(ee,"class","svelte-vxd5yl"),h(F,"type","range"),h(F,"min","1"),h(F,"max","40"),h(te,"class","svelte-vxd5yl"),h(U,"id","dataTable"),h(U,"class","svelte-vxd5yl"),h(M,"id","control"),h(M,"class","svelte-vxd5yl"),h(A,"id","total"),h(A,"class","svelte-vxd5yl"),h(x,"id","mono"),h(x,"class","svelte-vxd5yl"),h(n,"class","text-column")},m(l,k){e(document.head,s),Z(l,o,k),Z(l,n,k),e(n,c),e(n,C),e(n,i),e(n,R),e(n,y),e(n,z),e(n,I),e(n,L),e(n,d),e(n,ue),e(n,w),e(n,j),e(n,E),e(n,be),e(n,M),e(M,X),e(M,ge),e(M,ee),e(ee,D),e(D,Ce),e(D,ce),e(D,He),e(D,J),e(J,Be),e(J,he),e(J,ke),e(D,ye),e(D,Ee),e(D,V),ie(V,a[3]),e(M,Te),e(M,te),e(te,q),e(q,Le),e(q,de),e(q,Me),e(q,Pe),e(q,F),ie(F,a[2]),e(M,Ie),e(M,U);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(U,null);e(n,Ve),e(n,K),e(K,Se),e(K,pe),e(K,De),e(n,Fe),e(n,A),e(A,Re),e(A,fe),e(A,we),e(A,Ae),e(n,ze),e(n,je),e(n,qe),e(n,x);for(let t=0;t<B.length;t+=1)B[t]&&B[t].m(x,null);Ue||(Oe=[W(V,"change",a[8]),W(V,"change",a[9]),W(V,"input",a[9]),W(F,"change",a[10]),W(F,"change",a[11]),W(F,"input",a[11])],Ue=!0)},p(l,[k]){if(k&8&&Y(ce,l[3]),k&8&&oe!==(oe=(l[3]/20).toPrecision(2)+"")&&Y(he,oe),k&8&&ie(V,l[3]),k&4&&Y(de,l[2]),k&4&&ie(F,l[2]),k&193){ne=me(l[6]);let t;for(t=0;t<ne.length;t+=1){const T=et(l,ne,t);H[t]?H[t].p(T,k):(H[t]=tt(T),H[t].c(),H[t].m(U,null))}for(;t<H.length;t+=1)H[t].d(1);H.length=ne.length}if(k&32&&Y(pe,l[5]),k&16&&Y(fe,l[4]),k&2){le=me(l[1]);let t;for(t=0;t<le.length;t+=1){const T=$e(l,le,t);B[t]?B[t].p(T,k):(B[t]=nt(T),B[t].c(),B[t].m(x,null))}for(;t<B.length;t+=1)B[t].d(1);B.length=le.length}},i:Ke,o:Ke,d(l){l&&(p(o),p(n)),p(s),Qe(H,l),Qe(B,l),Ue=!1,at(Oe)}}}let lt=1;function _t(a,s,o){const n=[3,4,5,6];let c=4,g=[],C=1,i=20,_=0,R=0,y=857e3;dt.subscribe(w=>{y=w});function P(){let w=Ze.getCouponSeries(y,lt*1e8,c,c==6?4:void 0),$=Ze.getSeriesTimes(y,c,c==6?4:void 0);o(1,g=w.map(function(j,E){return($[E]-y)*i>543?[...Array(C).fill({time:$[E],address:j,placement:lt,amount:Math.floor(($[E]-y)*i)/1e8})]:[]}).flat()),o(5,R=g.reduce(function(j,E){return j+E.placement},0)),o(4,_=g.reduce(function(j,E){return j+E.amount},0)),o(4,_=Math.floor(_*1e8)/1e8)}it(async()=>{P()});const z=[[]],I=()=>P();function G(){i=Ye(this.value),o(3,i)}const L=()=>P();function d(){C=Ye(this.value),o(2,C)}function re(){c=this.__value,o(0,c)}return[c,g,C,i,_,R,n,P,I,G,L,d,re,z,()=>P()]}class kt extends rt{constructor(s){super(),ut(this,s,_t,vt,st,{})}}export{kt as component,Bt as universal};
//# sourceMappingURL=10.Cd5ExP6n.js.map
