import{s as Be,o as He,a as le,b as Se,i as Me,r as ne,n as K}from"../chunks/scheduler.CoKJEDLV.js";import{S as Ie,i as je,e as v,c as k,a as L,d as n,m as A,g as b,r as G,u as se,v as $,w as ie,s as I,t as ee,x as Z,o as P,f as j,b as te,J,n as Y,h as E,E as R,j as oe,D as me,z as xe,A as Ne,B as Le,C as qe}from"../chunks/index.PTRJg19q.js";import{r as be,h as Fe,i as Pe,e as ve,u as Oe,o as Ve}from"../chunks/vault.C_C7ibTf.js";import{h as ue}from"../chunks/hot.BU3uCGXT.js";import{$ as ze,a as $e,b as Re,c as We}from"../chunks/bch.D8TAaagz.js";import{S as Ue}from"../chunks/SeriesIcon.BZVYKSax.js";import{c as Ae}from"../chunks/copy.CPFc3Dt_.js";import{t as re}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.8ep8mfxG.js";import{E as Ge,B as Ye,I as Ke,F as Qe,C as U}from"../chunks/wallet.DN6wgq_j.js";const Je=!0,vt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Je},Symbol.toStringTag,{value:"Module"})),Xe=""+new URL("../assets/wallet.D7YPKv0S.svg",import.meta.url).href;function ke(c,e,t){const l=c.slice();return l[27]=e[t],l[29]=t,l}function Ze(c){let e,t="FBCH hot wallet",l,s,r,i,a,o,h,S,C,B,N,T,g,m=c[4].getTokenDepositAddress()+"",M,y,u,p,x="<p>This is your FBCH hot wallet deposit address.</p> <p>Send money here to swap futures, then sweep assets back to your wallet.</p>",D,F,O="Show/hide backup",V,w,_,f,z,W,ce,fe,q=c[3]&&ge(c);const _e=[lt,tt],Q=[];function de(d,H){return d[5]?0:1}return _=de(c),f=Q[_]=_e[_](c),{c(){e=v("h4"),e.textContent=t,l=I(),s=v("qr-code"),r=v("img"),o=I(),h=v("div"),S=v("div"),C=v("img"),N=I(),T=v("div"),g=v("button"),M=ee(m),u=I(),p=v("div"),p.innerHTML=x,D=I(),F=v("div"),F.textContent=O,V=I(),q&&q.c(),w=I(),f.c(),z=Z(),this.h()},l(d){e=k(d,"H4",{"data-svelte-h":!0}),P(e)!=="svelte-13kwq8l"&&(e.textContent=t),l=j(d),s=k(d,"QR-CODE",{id:!0,contents:!0,"module-color":!0,"position-ring-color":!0,"position-center-color":!0,"mask-x-to-y-ratio":!0,style:!0});var H=L(s);r=k(H,"IMG",{width:!0,src:!0,slot:!0}),H.forEach(n),o=j(d),h=k(d,"DIV",{});var X=L(h);S=k(X,"DIV",{style:!0});var ae=L(S);C=k(ae,"IMG",{width:!0,src:!0,alt:!0}),N=j(ae),T=k(ae,"DIV",{});var he=L(T);g=k(he,"BUTTON",{class:!0});var pe=L(g);M=te(pe,m),pe.forEach(n),he.forEach(n),ae.forEach(n),X.forEach(n),u=j(d),p=k(d,"DIV",{"data-svelte-h":!0}),P(p)!=="svelte-10bjkwa"&&(p.innerHTML=x),D=j(d),F=k(d,"DIV",{"data-svelte-h":!0}),P(F)!=="svelte-kev3b5"&&(F.textContent=O),V=j(d),q&&q.l(d),w=j(d),f.l(d),z=Z(),this.h()},h(){A(r,"width","52"),le(r.src,i=ue)||A(r,"src",i),A(r,"slot","icon"),J(s,"id","qr1"),J(s,"contents",a=c[4].getDepositAddress()),J(s,"module-color","#000"),J(s,"position-ring-color","#88338A"),J(s,"position-center-color","#FF00EA"),J(s,"mask-x-to-y-ratio","1.2"),Y(s,"width","250px"),Y(s,"height","250px"),Y(s,"margin","1em auto"),Y(s,"background-color","#fff"),A(C,"width","52px"),le(C.src,B=ue)||A(C,"src",B),A(C,"alt","hot wallet"),A(g,"class","styled svelte-1cuijhx"),Y(S,"display","flex")},m(d,H){b(d,e,H),b(d,l,H),b(d,s,H),E(s,r),b(d,o,H),b(d,h,H),E(h,S),E(S,C),E(S,N),E(S,T),E(T,g),E(g,M),b(d,u,H),b(d,p,H),b(d,D,H),b(d,F,H),b(d,V,H),q&&q.m(d,H),b(d,w,H),Q[_].m(d,H),b(d,z,H),W=!0,ce||(fe=[Se(y=Ae.call(null,h,c[4].getTokenDepositAddress())),R(h,"svelte-copy",c[13]),R(h,"svelte-copy:error",c[14]),R(F,"click",c[10])],ce=!0)},p(d,H){(!W||H&16&&a!==(a=d[4].getDepositAddress()))&&J(s,"contents",a),(!W||H&16)&&m!==(m=d[4].getTokenDepositAddress()+"")&&oe(M,m),y&&Me(y.update)&&H&16&&y.update.call(null,d[4].getTokenDepositAddress()),d[3]?q?q.p(d,H):(q=ge(d),q.c(),q.m(w.parentNode,w)):q&&(q.d(1),q=null);let X=_;_=de(d),_===X?Q[_].p(d,H):(ie(),G(Q[X],1,1,()=>{Q[X]=null}),se(),f=Q[_],f?f.p(d,H):(f=Q[_]=_e[_](d),f.c()),$(f,1),f.m(z.parentNode,z))},i(d){W||($(f),W=!0)},o(d){G(f),W=!1},d(d){d&&(n(e),n(l),n(s),n(o),n(h),n(u),n(p),n(D),n(F),n(V),n(w),n(z)),q&&q.d(d),Q[_].d(d),ce=!1,ne(fe)}}}function et(c){let e,t="This FBCH app uses a <b>temporary</b> hot web wallet to swap Future tokens and BCH.",l,s,r=`Please enter an external wallet address where your tokens and BCH change will be sent for long
			term storage:`,i,a,o,h,S,C,B,N,T,g=`<p>If you do not have a <a target="_blank" href="https://cashtokens.org">CashToken</a> wallet, select
				one below:</p> <h3>CashToken Wallets:</h3> <ul class="svelte-1cuijhx"><li>Desktop
					<ul class="svelte-1cuijhx"><li><a target="_blank" href="https://electroncash.org/">Electron Cash</a></li> <li><a target="_blank" href="https://github.com/cashonize/cashonize-quasar/releases">Cashonize Quasar</a></li></ul></li> <li>Web
					<ul class="svelte-1cuijhx"><li><a target="_blank" href="https://cashonize.com/">Cashonize</a></li> <li><a target="_blank" href="https://chromewebstore.google.com/detail/paytaca/pakphhpnneopheifihmjcjnbdbhaaiaa">Paytaca Chrome Extension</a></li></ul></li> <li>Mobile
					<ul class="svelte-1cuijhx"><li><a target="_blank" href="https://www.paytaca.com/#wallet">Paytaca</a></li> <li><a target="_blank" href="https://zapit.io/#/">Zapit</a></li></ul></li></ul>`,m,M,y=c[2]&&Ee();return{c(){e=v("p"),e.innerHTML=t,l=I(),s=v("p"),s.textContent=r,i=I(),y&&y.c(),a=I(),o=v("div"),h=v("img"),C=I(),B=v("textarea"),N=I(),T=v("div"),T.innerHTML=g,this.h()},l(u){e=k(u,"P",{"data-svelte-h":!0}),P(e)!=="svelte-1q39s1b"&&(e.innerHTML=t),l=j(u),s=k(u,"P",{"data-svelte-h":!0}),P(s)!=="svelte-1gp1kbs"&&(s.textContent=r),i=j(u),y&&y.l(u),a=j(u),o=k(u,"DIV",{style:!0});var p=L(o);h=k(p,"IMG",{src:!0,alt:!0}),C=j(p),B=k(p,"TEXTAREA",{id:!0,rows:!0,style:!0,placeholder:!0,class:!0}),L(B).forEach(n),p.forEach(n),N=j(u),T=k(u,"DIV",{"data-svelte-h":!0}),P(T)!=="svelte-1e1umuj"&&(T.innerHTML=g),this.h()},h(){le(h.src,S=Xe)||A(h,"src",S),A(h,"alt","wallet"),A(B,"id","addr"),A(B,"rows","3"),Y(B,"line-break","anywhere"),A(B,"placeholder","bitcoincash:zq... ..."),A(B,"class","svelte-1cuijhx"),Y(o,"display","flex")},m(u,p){b(u,e,p),b(u,l,p),b(u,s,p),b(u,i,p),y&&y.m(u,p),b(u,a,p),b(u,o,p),E(o,h),E(o,C),E(o,B),me(B,c[1]),b(u,N,p),b(u,T,p),m||(M=[R(B,"input",c[12]),R(B,"change",c[11])],m=!0)},p(u,p){u[2]?y||(y=Ee(),y.c(),y.m(a.parentNode,a)):y&&(y.d(1),y=null),p&2&&me(B,u[1])},i:K,o:K,d(u){u&&(n(e),n(l),n(s),n(i),n(a),n(o),n(N),n(T)),y&&y.d(u),m=!1,ne(M)}}}function ge(c){let e,t=c[4].toDbString()+"",l,s,r,i;return{c(){e=v("div"),l=ee(t)},l(a){e=k(a,"DIV",{});var o=L(e);l=te(o,t),o.forEach(n)},m(a,o){b(a,e,o),E(e,l),r||(i=[Se(s=Ae.call(null,e,c[4].toDbString())),R(e,"svelte-copy",c[15]),R(e,"svelte-copy:error",c[16])],r=!0)},p(a,o){o&16&&t!==(t=a[4].toDbString()+"")&&oe(l,t),s&&Me(s.update)&&o&16&&s.update.call(null,a[4].toDbString())},d(a){a&&n(e),r=!1,ne(i)}}}function tt(c){let e,t="loading wallet...";return{c(){e=v("p"),e.textContent=t},l(l){e=k(l,"P",{"data-svelte-h":!0}),P(e)!=="svelte-14wm895"&&(e.textContent=t)},m(l,s){b(l,e,s)},p:K,i:K,o:K,d(l){l&&n(e)}}}function lt(c){let e,t,l,s;const r=[it,st],i=[];function a(o,h){return o[5].length>0?0:1}return e=a(c),t=i[e]=r[e](c),{c(){t.c(),l=Z()},l(o){t.l(o),l=Z()},m(o,h){i[e].m(o,h),b(o,l,h),s=!0},p(o,h){let S=e;e=a(o),e===S?i[e].p(o,h):(ie(),G(i[S],1,1,()=>{i[S]=null}),se(),t=i[e],t?t.p(o,h):(t=i[e]=r[e](o),t.c()),$(t,1),t.m(l.parentNode,l))},i(o){s||($(t),s=!0)},o(o){G(t),s=!1},d(o){o&&n(l),i[e].d(o)}}}function st(c){let e,t="no wallet utxos available";return{c(){e=v("p"),e.textContent=t},l(l){e=k(l,"P",{"data-svelte-h":!0}),P(e)!=="svelte-9fop6y"&&(e.textContent=t)},m(l,s){b(l,e,s)},p:K,i:K,o:K,d(l){l&&n(e)}}}function it(c){let e,t,l,s,r,i="Shape",a,o,h="Sweep FBCH",S,C,B="Sweep BCH",N,T,g,m='<tr class="header svelte-1cuijhx"><td>BCH</td> <td>FBCH</td> <td>Series</td> <td>action</td></tr>',M,y,u=[],p=new Map,x,D,F,O=ve(c[5]);const V=w=>w[29];for(let w=0;w<O.length;w+=1){let _=ke(c,O,w),f=V(_);p.set(f,u[w]=De(f,_))}return{c(){e=v("div"),t=v("img"),s=I(),r=v("button"),r.textContent=i,a=I(),o=v("button"),o.textContent=h,S=I(),C=v("button"),C.textContent=B,N=I(),T=v("table"),g=v("thead"),g.innerHTML=m,M=I(),y=v("tbody");for(let w=0;w<u.length;w+=1)u[w].c();this.h()},l(w){e=k(w,"DIV",{class:!0});var _=L(e);t=k(_,"IMG",{width:!0,src:!0,alt:!0}),s=j(_),r=k(_,"BUTTON",{"data-svelte-h":!0}),P(r)!=="svelte-1ebowe6"&&(r.textContent=i),a=j(_),o=k(_,"BUTTON",{"data-svelte-h":!0}),P(o)!=="svelte-habgjc"&&(o.textContent=h),S=j(_),C=k(_,"BUTTON",{"data-svelte-h":!0}),P(C)!=="svelte-1cgin4a"&&(C.textContent=B),_.forEach(n),N=j(w),T=k(w,"TABLE",{class:!0});var f=L(T);g=k(f,"THEAD",{class:!0,"data-svelte-h":!0}),P(g)!=="svelte-1q406h5"&&(g.innerHTML=m),M=j(f),y=k(f,"TBODY",{class:!0});var z=L(y);for(let W=0;W<u.length;W+=1)u[W].l(z);z.forEach(n),f.forEach(n),this.h()},h(){A(t,"width","15"),le(t.src,l=ue)||A(t,"src",l),A(t,"alt","hotWallet"),A(e,"class","walletHead"),A(g,"class","svelte-1cuijhx"),A(y,"class","svelte-1cuijhx"),A(T,"class","wallet")},m(w,_){b(w,e,_),E(e,t),E(e,s),E(e,r),E(e,a),E(e,o),E(e,S),E(e,C),b(w,N,_),b(w,T,_),E(T,g),E(T,M),E(T,y);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(y,null);x=!0,D||(F=[R(r,"click",c[17]),R(o,"click",c[18]),R(C,"click",c[19])],D=!0)},p(w,_){_&112&&(O=ve(w[5]),ie(),u=Oe(u,_,V,1,w,O,p,y,Ve,De,null,ke),se())},i(w){if(!x){for(let _=0;_<O.length;_+=1)$(u[_]);x=!0}},o(w){for(let _=0;_<u.length;_+=1)G(u[_]);x=!1},d(w){w&&(n(e),n(N),n(T));for(let _=0;_<u.length;_+=1)u[_].d();D=!1,ne(F)}}}function we(c){let e=(Number(c[27].satoshis)/1e8).toLocaleString(void 0,{minimumFractionDigits:3})+"",t,l,s,r;return{c(){t=ee(e),l=I(),s=v("img"),this.h()},l(i){t=te(i,e),l=j(i),s=k(i,"IMG",{width:!0,src:!0,alt:!0}),this.h()},h(){A(s,"width","15"),le(s.src,r=We)||A(s,"src",r),A(s,"alt","bchLogo")},m(i,a){b(i,t,a),b(i,l,a),b(i,s,a)},p(i,a){a&32&&e!==(e=(Number(i[27].satoshis)/1e8).toLocaleString(void 0,{minimumFractionDigits:3})+"")&&oe(t,e)},d(i){i&&(n(t),n(l),n(s))}}}function ye(c){let e=(Number(c[27].token.amount)/1e8).toLocaleString(void 0,{minimumFractionDigits:3})+"",t,l,s,r;return s=new Ue({props:{time:U.get(c[27].token?.category),size:"15"}}),{c(){t=ee(e),l=I(),xe(s.$$.fragment)},l(i){t=te(i,e),l=j(i),Ne(s.$$.fragment,i)},m(i,a){b(i,t,a),b(i,l,a),Le(s,i,a),r=!0},p(i,a){(!r||a&32)&&e!==(e=(Number(i[27].token.amount)/1e8).toLocaleString(void 0,{minimumFractionDigits:3})+"")&&oe(t,e);const o={};a&32&&(o.time=U.get(i[27].token?.category)),s.$set(o)},i(i){r||($(s.$$.fragment,i),r=!0)},o(i){G(s.$$.fragment,i),r=!1},d(i){i&&(n(t),n(l)),qe(s,i)}}}function Ce(c){let e=U.has(c[27].token.category),t,l=e&&Te(c);return{c(){l&&l.c(),t=Z()},l(s){l&&l.l(s),t=Z()},m(s,r){l&&l.m(s,r),b(s,t,r)},p(s,r){r&32&&(e=U.has(s[27].token.category)),e?l?l.p(s,r):(l=Te(s),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(s){s&&n(t),l&&l.d(s)}}}function Te(c){let e,t=String(U.get(c[27].token?.category)).padStart(7,"0")+"",l,s;return{c(){e=v("a"),l=ee(t),this.h()},l(r){e=k(r,"A",{href:!0});var i=L(e);l=te(i,t),i.forEach(n),this.h()},h(){A(e,"href",s="/v?block="+U.get(c[27].token?.category))},m(r,i){b(r,e,i),E(e,l)},p(r,i){i&32&&t!==(t=String(U.get(r[27].token?.category)).padStart(7,"0")+"")&&oe(l,t),i&32&&s!==(s="/v?block="+U.get(r[27].token?.category))&&A(e,"href",s)},d(r){r&&n(e)}}}function ot(c){let e;return{c(){e=ee("-")},l(t){e=te(t,"-")},m(t,l){b(t,e,l)},p:K,d(t){t&&n(e)}}}function at(c){let e,t="redeem",l,s;function r(){return c[20](c[27])}return{c(){e=v("button"),e.textContent=t},l(i){e=k(i,"BUTTON",{"data-svelte-h":!0}),P(e)!=="svelte-1x848hq"&&(e.textContent=t)},m(i,a){b(i,e,a),l||(s=R(e,"click",r),l=!0)},p(i,a){c=i},d(i){i&&n(e),l=!1,s()}}}function De(c,e){let t,l,s=Number(e[27].satoshis)>800,r,i,a,o,h,S,C,B,N,T,g=s&&we(e),m=e[27].token&&ye(e),M=e[27].token&&Ce(e);function y(x,D){return D&96&&(B=null),B==null&&(B=U.get(x[27].token?.category)<Number(x[6])),B?at:ot}let u=y(e,-1),p=u(e);return{key:c,first:null,c(){t=v("tr"),l=v("td"),g&&g.c(),r=I(),i=v("td"),a=v("i"),m&&m.c(),o=I(),h=v("td"),M&&M.c(),S=I(),C=v("td"),p.c(),N=I(),this.h()},l(x){t=k(x,"TR",{class:!0});var D=L(t);l=k(D,"TD",{class:!0});var F=L(l);g&&g.l(F),F.forEach(n),r=j(D),i=k(D,"TD",{class:!0});var O=L(i);a=k(O,"I",{});var V=L(a);m&&m.l(V),V.forEach(n),O.forEach(n),o=j(D),h=k(D,"TD",{class:!0});var w=L(h);M&&M.l(w),w.forEach(n),S=j(D),C=k(D,"TD",{style:!0});var _=L(C);p.l(_),_.forEach(n),N=j(D),D.forEach(n),this.h()},h(){A(l,"class","r svelte-1cuijhx"),A(i,"class","r svelte-1cuijhx"),A(h,"class","r svelte-1cuijhx"),Y(C,"width","30px"),Y(C,"text-align","center"),A(t,"class","svelte-1cuijhx"),this.first=t},m(x,D){b(x,t,D),E(t,l),g&&g.m(l,null),E(t,r),E(t,i),E(i,a),m&&m.m(a,null),E(t,o),E(t,h),M&&M.m(h,null),E(t,S),E(t,C),p.m(C,null),E(t,N),T=!0},p(x,D){e=x,D&32&&(s=Number(e[27].satoshis)>800),s?g?g.p(e,D):(g=we(e),g.c(),g.m(l,null)):g&&(g.d(1),g=null),e[27].token?m?(m.p(e,D),D&32&&$(m,1)):(m=ye(e),m.c(),$(m,1),m.m(a,null)):m&&(ie(),G(m,1,1,()=>{m=null}),se()),e[27].token?M?M.p(e,D):(M=Ce(e),M.c(),M.m(h,null)):M&&(M.d(1),M=null),u===(u=y(e,D))&&p?p.p(e,D):(p.d(1),p=u(e),p&&(p.c(),p.m(C,null)))},i(x){T||($(m),T=!0)},o(x){G(m),T=!1},d(x){x&&n(t),g&&g.d(),m&&m.d(),M&&M.d(),p.d()}}}function Ee(c){let e,t=`Your long-term address must be a valid <i>CashToken</i> Bitcoin Cash (BCH) cash address―like
				&quot;bitcoincash:zq ...&quot;`;return{c(){e=v("b"),e.innerHTML=t},l(l){e=k(l,"B",{"data-svelte-h":!0}),P(e)!=="svelte-dp9e87"&&(e.innerHTML=t)},m(l,s){b(l,e,s)},d(l){l&&n(e)}}}function rt(c){let e,t,l,s;const r=[et,Ze],i=[];function a(o,h){return o[0]?o[4]?1:-1:0}return~(t=a(c))&&(l=i[t]=r[t](c)),{c(){e=v("div"),l&&l.c(),this.h()},l(o){e=k(o,"DIV",{class:!0});var h=L(e);l&&l.l(h),h.forEach(n),this.h()},h(){A(e,"class","text-column")},m(o,h){b(o,e,h),~t&&i[t].m(e,null),s=!0},p(o,[h]){let S=t;t=a(o),t===S?~t&&i[t].p(o,h):(l&&(ie(),G(i[S],1,1,()=>{i[S]=null}),se()),~t?(l=i[t],l?l.p(o,h):(l=i[t]=r[t](o),l.c()),$(l,1),l.m(e,null)):l=null)},i(o){s||($(l),s=!0)},o(o){G(l),s=!1},d(o){o&&n(e),~t&&i[t].d()}}}function nt(c,e,t){let l,s,r=!1,i=!1,a,o,h,S,C;be.subscribe(f=>{console.log(s),t(0,l=f)}),Fe.subscribe(f=>{console.log(C),t(6,C=f)});function B(f){console.log(l),be.set(f)}async function N(){await a.sendMaxFungibleTokens(l),await m()}async function T(){await a.sendMax(l),await m()}async function g(){await a.sendMax(a.getDepositAddress()),await m()}async function m(){await Promise.all([S.getUtxos(a.getDepositAddress()).then(f=>t(5,o=f))])}He(async()=>{try{let f=new ze("@fbch/app","1.4.3",1,1,$e.RANDOM,2e3);f.addServer("bch.imaginary.cash",50004,Re.WSS.Scheme,!1),S=new Ge("mainnet",f,!1),Ye.StorageProvider=Ke,t(4,a=await Qe.named("hot")),h=await a.getBalance("bch");let z=a.watchBalance(()=>{z(),m()});await m()}catch(f){throw f}});const M=()=>{t(3,i=!i)},y=async()=>{Pe(s)?(t(0,l=s),B(l)):t(2,r=!0)};function u(){s=this.value,t(1,s)}return[l,s,r,i,a,o,C,N,T,g,M,y,u,f=>re.push("OK 📋🗸: "+f.detail),f=>re.push(`Error, no access to clipboard?: ${f.detail.message}`,{classes:["warn"]}),f=>re.push("OK - backup copied"),f=>re.push(`Error, no access to clipboard?: ${f.detail.message}`,{classes:["warn"]}),()=>g(),()=>N(),()=>T(),f=>a.swap({future:f,locktime:U.get(f.token?.category)})]}class kt extends Ie{constructor(e){super(),je(this,e,nt,rt,Be,{})}}export{kt as component,vt as universal};
//# sourceMappingURL=10.IlIG5lFC.js.map
