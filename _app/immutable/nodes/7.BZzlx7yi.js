import{s as oe,o as ne,n as W}from"../chunks/scheduler.Dw93JyHj.js";import{S as re,i as ie,e as k,r as q,s as $,p as ce,c as b,d as _,f as A,a as F,m as w,h as d,g as H,u as O,v as U,w as fe,t as P,x as ue,b as z,y as de,o as V,z as _e,j as M,A as he,B as ve,C as ae}from"../chunks/index.B3lM1vLa.js";import{V as Y,e as R}from"../chunks/vault.UqEITsNb.js";import{g as x}from"../chunks/util.DVwxqpew.js";import{S as me}from"../chunks/SeriesIcon.DlMnEow2.js";import{h as pe}from"../chunks/push.Buv9URE0.js";import{$ as ke,a as K}from"../chunks/index.SNX99dmb.js";const be=!0;async function ge({url:i}){return{block:i.searchParams.get("block")||void 0}}const ze=Object.freeze(Object.defineProperty({__proto__:null,load:ge,prerender:be},Symbol.toStringTag,{value:"Module"}));function G(i,e,l){const t=i.slice();return t[8]=e[l],t}function J(i,e,l){const t=i.slice();return t[8]=e[l],t}function Q(i){let e,l;return{c(){e=k("link"),this.h()},l(t){e=b(t,"LINK",{rel:!0,type:!0,href:!0}),this.h()},h(){w(e,"rel","icon"),w(e,"type","image/svg"),w(e,"href",l="/FBCH-"+i[2]+".svg")},m(t,n){H(t,e,n)},p(t,n){n&4&&l!==(l="/FBCH-"+t[2]+".svg")&&w(e,"href",l)},d(t){t&&_(e)}}}function X(i){let e,l,t=i[2].toLocaleString()+"",n,c,u,s,a,o,r="Coupons",v,T,E,L="Vault Threads",B,m,h;u=new me({props:{time:i[2],size:"150"}});let p=i[3]&&Z(i);function g(f,C){return f[0]?we:Ce}let N=g(i),y=N(i);function D(f,C){return f[1]&&f[1].length?He:Se}let S=D(i),I=S(i);return{c(){e=k("h1"),l=P("Vault "),n=P(t),c=$(),ue(u.$$.fragment),s=$(),p&&p.c(),a=$(),o=k("h4"),o.textContent=r,v=$(),y.c(),T=$(),E=k("h4"),E.textContent=L,B=$(),I.c(),m=q()},l(f){e=b(f,"H1",{});var C=F(e);l=z(C,"Vault "),n=z(C,t),C.forEach(_),c=A(f),de(u.$$.fragment,f),s=A(f),p&&p.l(f),a=A(f),o=b(f,"H4",{"data-svelte-h":!0}),V(o)!=="svelte-1donjrv"&&(o.textContent=r),v=A(f),y.l(f),T=A(f),E=b(f,"H4",{"data-svelte-h":!0}),V(E)!=="svelte-5lx8ud"&&(E.textContent=L),B=A(f),I.l(f),m=q()},m(f,C){H(f,e,C),d(e,l),d(e,n),H(f,c,C),_e(u,f,C),H(f,s,C),p&&p.m(f,C),H(f,a,C),H(f,o,C),H(f,v,C),y.m(f,C),H(f,T,C),H(f,E,C),H(f,B,C),I.m(f,C),H(f,m,C),h=!0},p(f,C){(!h||C&4)&&t!==(t=f[2].toLocaleString()+"")&&M(n,t);const j={};C&4&&(j.time=f[2]),u.$set(j),f[3]?p?p.p(f,C):(p=Z(f),p.c(),p.m(a.parentNode,a)):p&&(p.d(1),p=null),N===(N=g(f))&&y?y.p(f,C):(y.d(1),y=N(f),y&&(y.c(),y.m(T.parentNode,T))),S===(S=D(f))&&I?I.p(f,C):(I.d(1),I=S(f),I&&(I.c(),I.m(m.parentNode,m)))},i(f){h||(O(u.$$.fragment,f),h=!0)},o(f){U(u.$$.fragment,f),h=!1},d(f){f&&(_(e),_(c),_(s),_(a),_(o),_(v),_(T),_(E),_(B),_(m)),he(u,f),p&&p.d(f),y.d(f),I.d(f)}}}function Z(i){let e,l,t,n=x(i[3],i[2]).toLocaleDateString()+"",c,u,s=i[2]-i[3]>0&&ee(i),a=i[2]-i[3]<2e3&&te(i);return{c(){s&&s.c(),e=$(),l=k("h3"),t=P(`Unlocks around
				`),c=P(n),u=$(),a&&a.c()},l(o){s&&s.l(o),e=A(o),l=b(o,"H3",{});var r=F(l);t=z(r,`Unlocks around
				`),c=z(r,n),u=A(r),a&&a.l(r),r.forEach(_)},m(o,r){s&&s.m(o,r),H(o,e,r),H(o,l,r),d(l,t),d(l,c),d(l,u),a&&a.m(l,null)},p(o,r){o[2]-o[3]>0?s?s.p(o,r):(s=ee(o),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),r&12&&n!==(n=x(o[3],o[2]).toLocaleDateString()+"")&&M(c,n),o[2]-o[3]<2e3?a?a.p(o,r):(a=te(o),a.c(),a.m(l,null)):a&&(a.d(1),a=null)},d(o){o&&(_(e),_(l)),s&&s.d(o),a&&a.d()}}}function ee(i){let e,l,t=(i[2]-i[3]).toLocaleString()+"",n,c;return{c(){e=k("h2"),l=P("T  -"),n=P(t),c=P(" ■")},l(u){e=b(u,"H2",{});var s=F(e);l=z(s,"T  -"),n=z(s,t),c=z(s," ■"),s.forEach(_)},m(u,s){H(u,e,s),d(e,l),d(e,n),d(e,c)},p(u,s){s&12&&t!==(t=(u[2]-u[3]).toLocaleString()+"")&&M(n,t)},d(u){u&&_(e)}}}function te(i){let e=x(i[3],i[2]).toLocaleTimeString()+"",l;return{c(){l=P(e)},l(t){l=z(t,e)},m(t,n){H(t,l,n)},p(t,n){n&12&&e!==(e=x(t[3],t[2]).toLocaleTimeString()+"")&&M(l,e)},d(t){t&&_(l)}}}function Ce(i){let e,l="loading coupons...";return{c(){e=k("p"),e.textContent=l,this.h()},l(t){e=b(t,"P",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-1frqwd1"&&(e.textContent=l),this.h()},h(){w(e,"class","svelte-12lwkx4")},m(t,n){H(t,e,n)},p:W,d(t){t&&_(e)}}}function we(i){let e;function l(c,u){return c[0].length>0?Ee:Te}let t=l(i),n=t(i);return{c(){n.c(),e=q()},l(c){n.l(c),e=q()},m(c,u){n.m(c,u),H(c,e,u)},p(c,u){t===(t=l(c))&&n?n.p(c,u):(n.d(1),n=t(c),n&&(n.c(),n.m(e.parentNode,e)))},d(c){c&&_(e),n.d(c)}}}function Te(i){let e,l="no coupons available";return{c(){e=k("p"),e.textContent=l,this.h()},l(t){e=b(t,"P",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-r1zx0p"&&(e.textContent=l),this.h()},h(){w(e,"class","svelte-12lwkx4")},m(t,n){H(t,e,n)},p:W,d(t){t&&_(e)}}}function Ee(i){let e,l,t='<tr class="header svelte-12lwkx4"><td class="svelte-12lwkx4">Series</td> <td class="svelte-12lwkx4">Placement</td> <td class="svelte-12lwkx4">Coupon</td> <td class="svelte-12lwkx4">spb</td> <td class="svelte-12lwkx4">apr*</td></tr>',n,c,u=R(i[0]),s=[];for(let a=0;a<u.length;a+=1)s[a]=le(J(i,u,a));return{c(){e=k("table"),l=k("thead"),l.innerHTML=t,n=$(),c=k("tbody");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=b(a,"TABLE",{class:!0});var o=F(e);l=b(o,"THEAD",{class:!0,"data-svelte-h":!0}),V(l)!=="svelte-1req6o2"&&(l.innerHTML=t),n=A(o),c=b(o,"TBODY",{class:!0});var r=F(c);for(let v=0;v<s.length;v+=1)s[v].l(r);r.forEach(_),o.forEach(_),this.h()},h(){w(l,"class","svelte-12lwkx4"),w(c,"class","svelte-12lwkx4"),w(e,"class","couponTable svelte-12lwkx4")},m(a,o){H(a,e,o),d(e,l),d(e,n),d(e,c);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(c,null)},p(a,o){if(o&13){u=R(a[0]);let r;for(r=0;r<u.length;r+=1){const v=J(a,u,r);s[r]?s[r].p(v,o):(s[r]=le(v),s[r].c(),s[r].m(c,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=u.length}},d(a){a&&_(e),ae(s,a)}}}function le(i){let e,l,t="C<sub>0</sub>",n,c,u="1 BCH",s,a,o=i[8].value.toLocaleString()+"",r,v,T,E=(i[8].value/(i[2]-i[3])).toFixed(1)+"",L,B,m,h,p=(i[8].value/(i[2]-i[3])/(1e6/52596)).toFixed(2)+"",g,N,y;return{c(){e=k("tr"),l=k("td"),l.innerHTML=t,n=$(),c=k("td"),c.textContent=u,s=$(),a=k("td"),r=P(o),v=$(),T=k("td"),L=P(E),B=$(),m=k("td"),h=k("i"),g=P(p),N=P("%"),y=$(),this.h()},l(D){e=b(D,"TR",{class:!0});var S=F(e);l=b(S,"TD",{class:!0,"data-svelte-h":!0}),V(l)!=="svelte-19mkn5i"&&(l.innerHTML=t),n=A(S),c=b(S,"TD",{class:!0,"data-svelte-h":!0}),V(c)!=="svelte-uzgb8o"&&(c.textContent=u),s=A(S),a=b(S,"TD",{class:!0});var I=F(a);r=z(I,o),I.forEach(_),v=A(S),T=b(S,"TD",{class:!0});var f=F(T);L=z(f,E),f.forEach(_),B=A(S),m=b(S,"TD",{class:!0});var C=F(m);h=b(C,"I",{});var j=F(h);g=z(j,p),N=z(j,"%"),j.forEach(_),C.forEach(_),y=A(S),S.forEach(_),this.h()},h(){w(l,"class","svelte-12lwkx4"),w(c,"class","svelte-12lwkx4"),w(a,"class","r svelte-12lwkx4"),w(T,"class","r svelte-12lwkx4"),w(m,"class","r svelte-12lwkx4"),w(e,"class","svelte-12lwkx4")},m(D,S){H(D,e,S),d(e,l),d(e,n),d(e,c),d(e,s),d(e,a),d(a,r),d(e,v),d(e,T),d(T,L),d(e,B),d(e,m),d(m,h),d(h,g),d(h,N),d(e,y)},p(D,S){S&1&&o!==(o=D[8].value.toLocaleString()+"")&&M(r,o),S&13&&E!==(E=(D[8].value/(D[2]-D[3])).toFixed(1)+"")&&M(L,E),S&13&&p!==(p=(D[8].value/(D[2]-D[3])/(1e6/52596)).toFixed(2)+"")&&M(g,p)},d(D){D&&_(e)}}}function Se(i){let e,l="loading threads...";return{c(){e=k("p"),e.textContent=l,this.h()},l(t){e=b(t,"P",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-1njcfnz"&&(e.textContent=l),this.h()},h(){w(e,"class","svelte-12lwkx4")},m(t,n){H(t,e,n)},p:W,d(t){t&&_(e)}}}function He(i){let e,l,t,n,c="Token Id",u,s,a="BCH",o,r,v,T,E,L,B=R(i[1]),m=[];for(let h=0;h<B.length;h+=1)m[h]=se(G(i,B,h));return{c(){e=k("table"),l=k("thead"),t=k("tr"),n=k("td"),n.textContent=c,u=$(),s=k("td"),s.textContent=a,o=$(),r=k("td"),v=P("FBCH-"),T=P(i[2]),E=$(),L=k("tbody");for(let h=0;h<m.length;h+=1)m[h].c();this.h()},l(h){e=b(h,"TABLE",{class:!0});var p=F(e);l=b(p,"THEAD",{class:!0});var g=F(l);t=b(g,"TR",{class:!0});var N=F(t);n=b(N,"TD",{class:!0,"data-svelte-h":!0}),V(n)!=="svelte-ma4vn8"&&(n.textContent=c),u=A(N),s=b(N,"TD",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-eke3it"&&(s.textContent=a),o=A(N),r=b(N,"TD",{class:!0});var y=F(r);v=z(y,"FBCH-"),T=z(y,i[2]),y.forEach(_),N.forEach(_),g.forEach(_),E=A(p),L=b(p,"TBODY",{class:!0});var D=F(L);for(let S=0;S<m.length;S+=1)m[S].l(D);D.forEach(_),p.forEach(_),this.h()},h(){w(n,"class","svelte-12lwkx4"),w(s,"class","svelte-12lwkx4"),w(r,"class","svelte-12lwkx4"),w(t,"class","svelte-12lwkx4"),w(l,"class","svelte-12lwkx4"),w(L,"class","svelte-12lwkx4"),w(e,"class","couponTable svelte-12lwkx4")},m(h,p){H(h,e,p),d(e,l),d(l,t),d(t,n),d(t,u),d(t,s),d(t,o),d(t,r),d(r,v),d(r,T),d(e,E),d(e,L);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(L,null)},p(h,p){if(p&4&&M(T,h[2]),p&2){B=R(h[1]);let g;for(g=0;g<B.length;g+=1){const N=G(h,B,g);m[g]?m[g].p(N,p):(m[g]=se(N),m[g].c(),m[g].m(L,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=B.length}},d(h){h&&_(e),ae(m,h)}}}function se(i){let e,l,t,n=i[8].token_data.category.substring(0,8)+"..."+i[8].token_data.category.slice(-8),c,u,s,a=(i[8].value/1e8).toFixed(2)+"",o,r,v,T,E=(i[8].token_data.amount/1e8).toLocaleString()+"",L,B;return{c(){e=k("tr"),l=k("td"),t=k("i"),c=P(n),u=$(),s=k("td"),o=P(a),r=$(),v=k("td"),T=k("i"),L=P(E),B=$(),this.h()},l(m){e=b(m,"TR",{class:!0});var h=F(e);l=b(h,"TD",{class:!0});var p=F(l);t=b(p,"I",{});var g=F(t);c=z(g,n),g.forEach(_),p.forEach(_),u=A(h),s=b(h,"TD",{class:!0});var N=F(s);o=z(N,a),N.forEach(_),r=A(h),v=b(h,"TD",{class:!0});var y=F(v);T=b(y,"I",{});var D=F(T);L=z(D,E),D.forEach(_),y.forEach(_),B=A(h),h.forEach(_),this.h()},h(){w(l,"class","svelte-12lwkx4"),w(s,"class","r svelte-12lwkx4"),w(v,"class","r svelte-12lwkx4"),w(e,"class","svelte-12lwkx4")},m(m,h){H(m,e,h),d(e,l),d(l,t),d(t,c),d(e,u),d(e,s),d(s,o),d(e,r),d(e,v),d(v,T),d(T,L),d(e,B)},p(m,h){h&2&&n!==(n=m[8].token_data.category.substring(0,8)+"..."+m[8].token_data.category.slice(-8))&&M(c,n),h&2&&a!==(a=(m[8].value/1e8).toFixed(2)+"")&&M(o,a),h&2&&E!==(E=(m[8].token_data.amount/1e8).toLocaleString()+"")&&M(L,E)},d(m){m&&_(e)}}}function Le(i){let e,l,t,n,c,u;document.title=e="FBCH-"+i[2];let s=i[2]>857e3&&Q(i),a=i[2]&&X(i);return{c(){l=k("meta"),s&&s.c(),t=q(),n=$(),c=k("section"),a&&a.c(),this.h()},l(o){const r=ce("svelte-hd2z9o",document.head);l=b(r,"META",{name:!0,content:!0}),s&&s.l(r),t=q(),r.forEach(_),n=A(o),c=b(o,"SECTION",{});var v=F(c);a&&a.l(v),v.forEach(_),this.h()},h(){w(l,"name","description"),w(l,"content","Future Vault Series")},m(o,r){d(document.head,l),s&&s.m(document.head,null),d(document.head,t),H(o,n,r),H(o,c,r),a&&a.m(c,null),u=!0},p(o,[r]){(!u||r&4)&&e!==(e="FBCH-"+o[2])&&(document.title=e),o[2]>857e3?s?s.p(o,r):(s=Q(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),o[2]?a?(a.p(o,r),r&4&&O(a,1)):(a=X(o),a.c(),O(a,1),a.m(c,null)):a&&(ve(),U(a,1,1,()=>{a=null}),fe())},i(o){u||(O(a),u=!0)},o(o){U(a),u=!1},d(o){o&&(_(n),_(c)),_(l),s&&s.d(o),_(t),a&&a.d()}}}function ye(i,e,l){let{data:t}=e,n,c,u,s,a;t.block&&(a=Number(t.block),n=Y.getCoupon(1e8,a),c=Y.getAddress(a));let o;pe.subscribe(v=>{l(3,o=v)});const r=function(v){console.log("electrum: ",v)};return ne(async()=>{const v=new ke("FBCH","1.4.1","bch.imaginary.cash",K.WSS.Port,K.WSS.Scheme);await v.connect(),v.on("notification",r),await v.subscribe("blockchain.address.subscribe",n),await v.subscribe("blockchain.address.subscribe",c);const T=await v.request("blockchain.address.listunspent",c,"tokens_only");if(T instanceof Error)throw T;l(1,s=T);const E=await v.request("blockchain.address.listunspent",n);if(E instanceof Error)throw E;l(0,u=E),u.length>0&&u.sort((L,B)=>parseFloat(B.value)-parseFloat(L.value))}),i.$$set=v=>{"data"in v&&l(4,t=v.data)},[u,s,a,o,t]}class Ie extends re{constructor(e){super(),ie(this,e,ye,Le,oe,{data:4})}}export{Ie as component,ze as universal};
//# sourceMappingURL=7.BZzlx7yi.js.map
