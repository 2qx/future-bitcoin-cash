import{n as K,g as Ie,s as Ne,c as He,o as $t,a as Pt,w as nt,i as Mt,x as Ee,r as kt,y as Bt,z as it,f as xt,A as qt,B as Ft,C as Gt,D as Vt}from"../chunks/scheduler.CoKJEDLV.js";import{K as Tt,L as It,M as Ut,N as Ht,S as Ae,i as Oe,e as E,s as P,k as we,c as C,o as J,f as M,a as T,d as b,l as be,m,n as st,g as O,h as _,t as ae,b as le,j as Pe,O as ge,E as Ce,w as je,r as X,u as We,v as z,H as jt,x as Se,q as Wt,I as ot,z as de,A as $e,B as pe,C as ve,P as Kt,Q as Xt}from"../chunks/index.PTRJg19q.js";import{p as zt}from"../chunks/stores.CarCn3-x.js";import{h as Zt}from"../chunks/hot.BU3uCGXT.js";import{h as ct,e as at,u as Qt,f as Jt}from"../chunks/vault.w6ZQi4e1.js";import{$ as ce,e as Ke,M as Yt,w as lt,B as er,I as tr,F as rr}from"../chunks/wallet.B6KGkTqs.js";import{t as Me}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.8ep8mfxG.js";import{w as nr}from"../chunks/index.Aeo1BJeT.js";function ir(t,e,r,n){if(!e)return K;const i=t.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return K;const{delay:c=0,duration:a=300,easing:o=Ie,start:s=Tt()+c,end:l=s+a,tick:p=K,css:h}=r(t,{from:e,to:i},n);let d=!0,f=!1,u;function v(){h&&(u=Ut(t,0,1,a,c,o,h)),c||(f=!0)}function g(){h&&Ht(t,u),d=!1}return It($=>{if(!f&&$>=s&&(f=!0),f&&$>=l&&(p(1,0),g()),!d)return!1;if(f){const S=$-s,B=0+1*o(S/a);p(B,1-B)}return!0}),v(),p(0,1),g}function sr(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:r,height:n}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=r,t.style.height=n,Nt(t,i)}}function Nt(t,e){const r=t.getBoundingClientRect();if(e.left!==r.left||e.top!==r.top){const n=getComputedStyle(t),i=n.transform==="none"?"":n.transform;t.style.transform=`${i} translate(${e.left-r.left}px, ${e.top-r.top}px)`}}function ut(t,e){const r={},n={},i={$$scope:1};let c=t.length;for(;c--;){const a=t[c],o=e[c];if(o){for(const s in a)s in o||(n[s]=1);for(const s in o)i[s]||(r[s]=o[s],i[s]=1);t[c]=o}else for(const s in a)i[s]=1}for(const a in n)a in r||(r[a]=void 0);return r}function ft(t){return typeof t=="object"&&t!==null?t:{}}const or="auto",xn=Object.freeze(Object.defineProperty({__proto__:null,prerender:or},Symbol.toStringTag,{value:"Module"}));function De(t){return cr.test(t)}var cr=/^-?[0-9]+$/;function ar(t){return lr.test(t)}var lr=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function ur(t,e){var r=parseFloat(t),n=String(r),i=ht(t),c=ht(n);if(i===c)return!0;if(e?.approx===!0){var a=14;if(!De(t)&&c.length>=a&&i.startsWith(c.substring(0,a)))return!0}return!1}var he=function(t){return t.underflow="underflow",t.overflow="overflow",t.truncate_integer="truncate_integer",t.truncate_float="truncate_float",t}({});function fr(t){if(!ur(t,{approx:!1})){if(De(t))return he.truncate_integer;var e=parseFloat(t);return isFinite(e)?e===0?he.underflow:he.truncate_float:he.overflow}}function ht(t){return t.replace(hr,"").replace(pr,"").replace(vr,"").replace(dr,"")}var hr=/[eE][+-]?\d+$/,dr=/^-?(0*)?/,pr=/\./,vr=/0+$/;function ue(t){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(t)}function mr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,At(n.key),n)}}function br(t,e,r){return e&&wr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gr(t,e,r){return e=At(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function At(t){var e=_r(t,"string");return ue(e)==="symbol"?e:String(e)}function _r(t,e){if(ue(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ue(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yr=function(){function t(e){if(mr(this,t),gr(this,"isLosslessNumber",!0),!ar(e))throw new Error('Invalid number (value: "'+e+'")');this.value=e}return br(t,[{key:"valueOf",value:function(){var r=fr(this.value);if(r===void 0||r===he.truncate_float)return parseFloat(this.value);if(De(this.value))return BigInt(this.value);throw new Error("Cannot safely convert to number: "+"the value '".concat(this.value,"' would ").concat(r," and become ").concat(parseFloat(this.value)))}},{key:"toString",value:function(){return this.value}}]),t}();function Er(t){return t&&ue(t)==="object"&&t.isLosslessNumber===!0||!1}function Cr(t){return new yr(t)}function Sr(t){return De(t)?BigInt(t):parseFloat(t)}function Be(t){"@babel/helpers - typeof";return Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(t)}function $r(t,e){return Xe({"":t},"",t,e)}function Xe(t,e,r,n){return Array.isArray(r)?n.call(t,e,Tr(r,n)):r&&Be(r)==="object"&&!Er(r)?n.call(t,e,kr(r,n)):n.call(t,e,r)}function kr(t,e){return Object.keys(t).forEach(function(r){var n=Xe(t,r,t[r],e);n!==void 0?t[r]=n:delete t[r]}),t}function Tr(t,e){for(var r=0;r<t.length;r++)t[r]=Xe(t,r+"",t[r],e);return t}function xe(t){"@babel/helpers - typeof";return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(t)}function Re(t){return Or(t)||Ar(t)||Nr(t)||Ir()}function Ir(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nr(t,e){if(t){if(typeof t=="string")return qe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qe(t,e)}}function Ar(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Or(t){if(Array.isArray(t))return qe(t)}function qe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dr(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cr,n=0,i=o();return u(i),g(),e?$r(i,e):i;function c(){if(t.charCodeAt(n)===xr){n++,l();for(var w={},y=!0;n<t.length&&t.charCodeAt(n)!==pt;){y?y=!1:(d(),l());var R=n,L=p();L===void 0&&B(),l(),f();var H=o();H===void 0&&j(),Object.prototype.hasOwnProperty.call(w,L)&&!Fe(H,w[L])&&V(L,R+1),w[L]=H}return t.charCodeAt(n)!==pt&&U(),n++,w}}function a(){if(t.charCodeAt(n)===qr){n++,l();for(var w=[],y=!0;n<t.length&&t.charCodeAt(n)!==vt;){y?y=!1:d();var R=o();v(R),w.push(R)}return t.charCodeAt(n)!==vt&&Y(),n++,w}}function o(){var w,y,R,L,H,N;l();var D=(w=(y=(R=(L=(H=(N=p())!==null&&N!==void 0?N:h())!==null&&H!==void 0?H:c())!==null&&L!==void 0?L:a())!==null&&R!==void 0?R:s("true",!0))!==null&&y!==void 0?y:s("false",!1))!==null&&w!==void 0?w:s("null",null);return l(),D}function s(w,y){if(t.slice(n,n+w.length)===w)return n+=w.length,y}function l(){for(;Rr(t.charCodeAt(n));)n++}function p(){if(t.charCodeAt(n)===Le){n++;for(var w="";n<t.length&&t.charCodeAt(n)!==Le;){if(t.charCodeAt(n)===Br){var y=t[n+1],R=Mr[y];R!==void 0?(w+=R,n++):y==="u"?_e(t.charCodeAt(n+2))&&_e(t.charCodeAt(n+3))&&_e(t.charCodeAt(n+4))&&_e(t.charCodeAt(n+5))?(w+=String.fromCharCode(parseInt(t.slice(n+2,n+6),16)),n+=5):W(n):fe(n)}else Pr(t.charCodeAt(n))?w+=t[n]:re(t[n]);n++}return S(),n++,w}}function h(){var w=n;if(t.charCodeAt(n)===mt&&(n++,$(w)),t.charCodeAt(n)===ze)n++;else if(Lr(t.charCodeAt(n)))for(n++;ye(t.charCodeAt(n));)n++;if(t.charCodeAt(n)===Kr)for(n++,$(w);ye(t.charCodeAt(n));)n++;if(t.charCodeAt(n)===Jr||t.charCodeAt(n)===Qr)for(n++,(t.charCodeAt(n)===mt||t.charCodeAt(n)===Hr)&&n++,$(w);ye(t.charCodeAt(n));)n++;if(n>w)return r(t.slice(w,n))}function d(){if(t.charCodeAt(n)!==Wr)throw new SyntaxError("Comma ',' expected after value ".concat(F()));n++}function f(){if(t.charCodeAt(n)!==Xr)throw new SyntaxError("Colon ':' expected after property name ".concat(F()));n++}function u(w){if(w===void 0)throw new SyntaxError("JSON value expected ".concat(F()))}function v(w){if(w===void 0)throw new SyntaxError("Array item expected ".concat(F()))}function g(){if(n<t.length)throw new SyntaxError("Expected end of input ".concat(F()))}function $(w){if(!ye(t.charCodeAt(n))){var y=t.slice(w,n);throw new SyntaxError("Invalid number '".concat(y,"', expecting a digit ").concat(F()))}}function S(){if(t.charCodeAt(n)!==Le)throw new SyntaxError(`End of string '"' expected `.concat(F()))}function B(){throw new SyntaxError("Quoted object key expected ".concat(F()))}function V(w,y){throw new SyntaxError("Duplicate key '".concat(w,"' encountered at position ").concat(y))}function U(){throw new SyntaxError("Quoted object key or end of object '}' expected ".concat(F()))}function Y(){throw new SyntaxError("Array item or end of array ']' expected ".concat(F()))}function re(w){throw new SyntaxError("Invalid character '".concat(w,"' ").concat(Q()))}function fe(w){var y=t.slice(w,w+2);throw new SyntaxError("Invalid escape character '".concat(y,"' ").concat(Q()))}function j(){throw new SyntaxError("Object value expected after ':' ".concat(Q()))}function W(w){for(var y=w+2;/\w/.test(t[y]);)y++;var R=t.slice(w,y);throw new SyntaxError("Invalid unicode character '".concat(R,"' ").concat(Q()))}function Q(){return"at position ".concat(n)}function ne(){return n<t.length?"but got '".concat(t[n],"'"):"but reached end of input"}function F(){return ne()+" "+Q()}}function Rr(t){return t===Fr||t===Gr||t===Vr||t===Ur}function _e(t){return t>=ze&&t<=Ze||t>=zr&&t<=Yr||t>=Zr&&t<=en}function ye(t){return t>=ze&&t<=Ze}function Lr(t){return t>=jr&&t<=Ze}function Pr(t){return t>=32&&t<=1114111}function Fe(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every(function(n,i){return Fe(n,e[i])});if(dt(t)&&dt(e)){var r=Re(new Set([].concat(Re(Object.keys(t)),Re(Object.keys(e)))));return r.every(function(n){return Fe(t[n],e[n])})}return!1}function dt(t){return xe(t)==="object"&&t!==null}var Mr={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Br=92,xr=123,pt=125,qr=91,vt=93,Fr=32,Gr=10,Vr=9,Ur=13,Le=34,Hr=43,mt=45,ze=48,jr=49,Ze=57,Wr=44,Kr=46,Xr=58,zr=65,Zr=97,Qr=69,Jr=101,Yr=70,en=102;function Z(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}const te={client:ce("electrum-cash:client "),cluster:ce("electrum-cash:cluster"),errors:ce("electrum-cash:error  "),warning:ce("electrum-cash:warning"),network:ce("electrum-cash:network"),ping:ce("electrum-cash:pulses ")};te.client.color="2";te.cluster.color="3";te.errors.color="9";te.warning.color="13";te.network.color="4";te.ping.color="8";var I=te;class tn{static buildRequestObject(e,r,n){return JSON.stringify({method:e,params:r,id:n})}static get versionRegexp(){return/^\d+(\.\d+)+$/}static get statementDelimiter(){return`
`}}var ee=tn,Ot={};Z(Ot,"isVersionRejected",()=>Dt);Z(Ot,"isVersionNegotiated",()=>rn);const Dt=function(t){return"error"in t},rn=function(t){return"software"in t&&"protocol"in t};var Rt={};Z(Rt,"ElectrumTransport",()=>q);Z(Rt,"DefaultParameters",()=>G);var me={};Z(me,"ClusterOrder",()=>ke);Z(me,"ClusterDistribution",()=>Te);Z(me,"ClusterStatus",()=>Ge);Z(me,"ClientState",()=>Ve);Z(me,"ConnectionStatus",()=>A);var ke;(function(t){t[t.RANDOM=0]="RANDOM",t[t.PRIORITY=1]="PRIORITY"})(ke||(ke={}));var Te;(function(t){t[t.ALL=0]="ALL"})(Te||(Te={}));var Ge;(function(t){t[t.DISABLED=0]="DISABLED",t[t.DEGRADED=1]="DEGRADED",t[t.READY=2]="READY"})(Ge||(Ge={}));var Ve;(function(t){t[t.UNAVAILABLE=0]="UNAVAILABLE",t[t.AVAILABLE=1]="AVAILABLE"})(Ve||(Ve={}));var A;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTED=1]="CONNECTED",t[t.DISCONNECTING=2]="DISCONNECTING",t[t.CONNECTING=3]="CONNECTING",t[t.RECONNECTING=4]="RECONNECTING"})(A||(A={}));const q={TCP:{Port:50001,Scheme:"tcp"},TCP_TLS:{Port:50002,Scheme:"tcp_tls"},WS:{Port:50003,Scheme:"ws"},WSS:{Port:50004,Scheme:"wss"}},G={PORT:q.TCP_TLS.Port,TRANSPORT_SCHEME:q.TCP_TLS.Scheme,RECONNECT:5e3,TIMEOUT:3e4,PING_INTERVAL:1e3,CLUSTER_CONFIDENCE:1,CLUSTER_DISTRIBUTION:Te.ALL,CLUSTER_ORDER:ke.RANDOM,USE_BIG_INT:!1};class nn extends Ke.EventEmitter{connect(e,r,n,i){if(this.tcpSocket||this.webSocket)throw new Error("Cannot initiate a new socket connection when an existing connection exists");this.timers.disconnect=setTimeout(()=>this.disconnectOnTimeout(e,r,i),i),this.once("connect",this.clearDisconnectTimerOnTimeout);const c={[q.TCP.Scheme]:"a TCP Socket",[q.TCP_TLS.Scheme]:"an encrypted TCP socket",[q.WS.Scheme]:"a WebSocket",[q.WSS.Scheme]:"an encrypted WebSocket"};if(I.network(`Initiating ${c[n]} connection to '${e}:${r}'.`),n===q.TCP.Scheme||n===q.TCP_TLS.Scheme){if(n===q.TCP_TLS.Scheme){const a={rejectUnauthorized:!1};$4QiMX$isIP(e)||(a.serverName=e),this.tcpSocket=$4QiMX$connect(r,e,a),this.tcpSocket.once("secureConnect",()=>{if(!(this.tcpSocket instanceof $4QiMX$TLSSocket))return;this.tcpSocket.authorizationError==="DEPTH_ZERO_SELF_SIGNED_CERT"&&I.warning(`Connection to ${e}:${r} uses a self-signed certificate`)}),this.tcpSocket.on("secureConnect",this.onConnect.bind(this,c[n],e,r))}else this.tcpSocket=$4QiMX$connect1({host:e,port:r}),this.tcpSocket.on("connect",this.onConnect.bind(this,c[n],e,r));this.tcpSocket.setEncoding("utf8"),this.tcpSocket.setKeepAlive(!0,0),this.tcpSocket.setNoDelay(!0),this.tcpSocket.on("error",this.eventForwarders.tcpError)}else if(n===q.WS.Scheme||n===q.WSS.Scheme)n===q.WSS.Scheme?this.webSocket=new lt(`wss://${e}:${r}`):this.webSocket=new lt(`ws://${e}:${r}`),this.webSocket.addEventListener("open",this.onConnect.bind(this,c[n],e,r)),this.webSocket.addEventListener("error",this.eventForwarders.wsError);else throw new Error("Incorrect transport specified")}onConnect(e,r,n){this.onConnectHasRun||(I.network(`Established ${e} connection with '${r}:${n}'.`),typeof this.tcpSocket<"u"?(this.tcpSocket.addListener("close",this.eventForwarders.disconnect),this.tcpSocket.addListener("data",this.eventForwarders.tcpData)):typeof this.webSocket<"u"&&(this.webSocket.addEventListener("close",this.eventForwarders.disconnect),this.webSocket.addEventListener("message",this.eventForwarders.wsData)),this.onConnectHasRun=!0,this.emit("connect"))}clearDisconnectTimerOnTimeout(){this.timers.disconnect&&clearTimeout(this.timers.disconnect)}disconnect(){if(this.clearDisconnectTimerOnTimeout(),this.tcpSocket)this.tcpSocket.removeListener("close",this.eventForwarders.disconnect),this.tcpSocket.removeListener("data",this.eventForwarders.tcpData),this.tcpSocket.removeListener("error",this.eventForwarders.tcpError),this.tcpSocket.destroy(),this.tcpSocket=void 0;else if(this.webSocket)try{this.webSocket.removeEventListener("close",this.eventForwarders.disconnect),this.webSocket.removeEventListener("message",this.eventForwarders.wsData),this.webSocket.removeEventListener("error",this.eventForwarders.wsError),this.webSocket.close()}catch{}finally{this.webSocket=void 0}this.onConnectHasRun=!1,this.emit("disconnect")}write(e,r){if(this.tcpSocket)return this.tcpSocket.write(e,r);if(this.webSocket)return this.webSocket.send(e,r),!0;throw new Error("Cannot write to socket when there is no active connection")}disconnectOnTimeout(e,r,n){this.removeListener("connect",this.clearDisconnectTimerOnTimeout);const i={code:"ETIMEDOUT",message:`Connection to '${e}:${r}' timed out after ${n} milliseconds`};this.emit("error",i),this.disconnect()}constructor(...e){super(...e),this.timers={},this.onConnectHasRun=!1,this.eventForwarders={disconnect:()=>this.emit("disconnect"),tcpData:r=>this.emit("data",r),wsData:r=>this.emit("data",`${r.data}
`),tcpError:r=>this.emit("error",r),wsError:r=>this.emit("error",r.error)}}}var sn=nn;class on extends Ke.EventEmitter{constructor(e,r,n,i=G.PORT,c=G.TRANSPORT_SCHEME,a=G.TIMEOUT,o=G.PING_INTERVAL,s=G.RECONNECT,l=G.USE_BIG_INT){if(super(),this.application=e,this.version=r,this.host=n,this.port=i,this.scheme=c,this.timeout=a,this.pingInterval=o,this.reconnectInterval=s,this.useBigInt=l,this.timers={},this.verifications=[],this.status=A.DISCONNECTED,this.messageBuffer="",!ee.versionRegexp.test(r))throw new Error(`Provided version string (${r}) is not a valid protocol version number.`);this.createSocket(),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this))}get hostIdentifier(){return`${this.host}:${this.port}`}createSocket(){this.socket=new sn,this.socket.on("connect",this.onSocketConnect.bind(this)),this.socket.on("disconnect",this.onSocketDisconnect.bind(this)),this.socket.on("data",this.parseMessageChunk.bind(this))}destroySocket(){this.socket.disconnect()}parseMessageChunk(e){for(this.lastReceivedTimestamp=Date.now(),this.verifications.forEach(r=>clearTimeout(r)),this.verifications.length=0,this.messageBuffer+=e;this.messageBuffer.includes(ee.statementDelimiter);){const r=this.messageBuffer.split(ee.statementDelimiter);for(;r.length>1;){const n=String(r.shift());let i=Dr(n,null,this.useBigInt?Sr:parseFloat);for(Array.isArray(i)||(i=[i]);i.length>0;){const c=i.shift();if(c.id==="versionNegotiation"){c.error?this.emit("version",{error:c.error}):this.emit("version",{software:c.result[0],protocol:c.result[1]});continue}c.id!=="keepAlive"&&this.emit("statement",c)}}this.messageBuffer=r.shift()||""}}ping(){I.ping(`Sending keep-alive ping to '${this.hostIdentifier}'`);const e=ee.buildRequestObject("server.ping",[],"keepAlive");return this.send(e)}async connect(){if(this.status===A.CONNECTED)return;this.status=A.CONNECTING;const e=(r,n)=>{const i=a=>{this.status=A.DISCONNECTED,n(a)};this.socket.removeAllListeners("error"),this.socket.once("error",i);const c=()=>{I.network(`Requesting protocol version ${this.version} with '${this.hostIdentifier}'.`),this.socket.removeListener("error",i);const a=ee.buildRequestObject("server.version",[this.application,this.version],"versionNegotiation"),o=s=>{if(Dt(s)){this.disconnect(!0);const l="unsupported protocol version.";I.errors(`Failed to connect with ${this.hostIdentifier} due to ${l}`),n(l)}else if(s.protocol!==this.version&&`${s.protocol}.0`!==this.version&&`${s.protocol}.0.0`!==this.version){this.disconnect(!0);const l=`incompatible protocol version negotiated (${s.protocol} !== ${this.version}).`;I.errors(`Failed to connect with ${this.hostIdentifier} due to ${l}`),n(l)}else I.network(`Negotiated protocol version ${s.protocol} with '${this.hostIdentifier}', powered by ${s.software}.`),this.status=A.CONNECTED,this.emit("connect"),r()};this.once("version",o),this.send(a)};this.socket.once("connect",c),this.socket.on("error",this.onSocketError.bind(this)),this.socket.connect(this.host,this.port,this.scheme,this.timeout)};await new Promise(e)}async reconnect(){await this.clearReconnectTimer(),I.network(`Trying to reconnect to '${this.hostIdentifier}'..`),this.status=A.RECONNECTING,this.destroySocket(),this.createSocket();try{await this.connect()}catch{}}clearReconnectTimer(){this.timers.reconnect&&clearTimeout(this.timers.reconnect),this.timers.reconnect=void 0}clearKeepAliveTimer(){this.timers.keepAlive&&clearTimeout(this.timers.keepAlive),this.timers.keepAlive=void 0}setupKeepAliveTimer(){this.timers.keepAlive||(this.timers.keepAlive=setTimeout(this.ping.bind(this),this.pingInterval))}async disconnect(e=!1,r=!0){if(this.status===A.DISCONNECTED&&!e)return!1;r&&(this.status=A.DISCONNECTING),await this.clearKeepAliveTimer(),await this.clearReconnectTimer();const n=i=>{this.once("disconnect",()=>i(!0)),this.destroySocket()};return new Promise(n)}async handleVisibilityChange(){document.visibilityState==="hidden"&&this.disconnect(!0,!1),document.visibilityState==="visible"&&this.reconnect()}send(e){this.clearKeepAliveTimer();const r=Date.now(),n=setTimeout(this.verifySend.bind(this,r),this.timeout);return this.verifications.push(n),this.setupKeepAliveTimer(),this.socket.write(e+ee.statementDelimiter)}verifySend(e){if(Number(this.lastReceivedTimestamp)<e){if(this.status===A.DISCONNECTED||this.status===A.DISCONNECTING){I.errors(`Tried to verify already disconnected connection to '${this.hostIdentifier}'`);return}this.clearKeepAliveTimer(),I.network(`Connection to '${this.hostIdentifier}' timed out.`),this.socket.disconnect()}}onSocketConnect(){this.clearReconnectTimer(),this.lastReceivedTimestamp=Date.now(),this.setupKeepAliveTimer(),this.socket.removeAllListeners("error"),this.socket.on("error",this.onSocketError.bind(this))}onSocketDisconnect(){this.emit("disconnect"),this.clearKeepAliveTimer(),this.status===A.DISCONNECTING?(this.clearReconnectTimer(),this.removeAllListeners(),this.status=A.DISCONNECTED,I.network(`Disconnected from '${this.hostIdentifier}'.`)):(this.status===A.CONNECTED&&I.errors(`Connection with '${this.hostIdentifier}' was closed, trying to reconnect in ${this.reconnectInterval/1e3} seconds.`),this.status=A.DISCONNECTED,this.timers.reconnect||(this.timers.reconnect=setTimeout(this.reconnect.bind(this),this.reconnectInterval)))}onSocketError(e){if(!(typeof e>"u")){if(e.code==="EAI_AGAIN"){I.errors(`Failed to look up DNS records for '${this.host}'.`);return}if(e.code==="ETIMEDOUT"){I.errors(e.message);return}I.errors(`Unknown network error ('${this.hostIdentifier}'): `,e)}}}var cn=on;const an=function(t){return"id"in t&&"error"in t},ln=function(t){return!("id"in t)&&"method"in t};class un extends Ke.EventEmitter{constructor(e,r,n,i=G.PORT,c=G.TRANSPORT_SCHEME,a=G.TIMEOUT,o=G.PING_INTERVAL,s=G.RECONNECT,l=G.USE_BIG_INT){super(),this.subscriptionMethods={},this.requestId=0,this.requestResolvers={},this.connectionLock=new Yt,this.connection=new cn(e,r,n,i,c,a,o,s,l)}async connect(){const e=await this.connectionLock.acquire();try{if(this.connection.status===A.CONNECTED)return;this.connection.on("statement",this.response.bind(this)),this.connection.on("connect",this.resubscribeOnConnect.bind(this)),this.connection.on("connect",this.emit.bind(this,"connected")),this.connection.on("disconnect",this.onConnectionDisconnect.bind(this)),this.connection.on("error",this.emit.bind(this,"error")),await this.connection.connect()}finally{e()}}async disconnect(e=!1,r=!1){const n=await this.connectionLock.acquire();try{r||(this.removeAllListeners(),this.subscriptionMethods={});for(const i in this.requestResolvers){const c=this.requestResolvers[i];c(new Error("Manual disconnection")),delete this.requestResolvers[i]}return await this.connection.disconnect(e)}finally{n()}}async request(e,...r){if(this.connection.status!==A.CONNECTED)throw new Error(`Unable to send request to a disconnected server '${this.connection.host}'.`);this.requestId+=1;const n=this.requestId,i=ee.buildRequestObject(e,r,n),c=a=>{this.requestResolvers[n]=(o,s)=>{a(o||s)},this.connection.send(i)};return I.network(`Sending request '${e}' to '${this.connection.host}'`),new Promise(c)}async subscribe(e,...r){this.subscriptionMethods[e]||(this.subscriptionMethods[e]=new Set),this.subscriptionMethods[e].add(JSON.stringify(r));const n=await this.request(e,...r),i={jsonrpc:"2.0",method:e,params:[...r,n]};this.emit("notification",i)}async unsubscribe(e,...r){if(this.connection.status!==A.CONNECTED)throw new Error(`Unable to send unsubscribe request to a disconnected server '${this.connection.host}'.`);if(!this.subscriptionMethods[e])throw new Error(`Cannot unsubscribe from '${e}' since the method has no subscriptions.`);const n=JSON.stringify(r);if(!this.subscriptionMethods[e].has(n))throw new Error(`Cannot unsubscribe from '${e}' since it has no subscription with the given parameters.`);this.subscriptionMethods[e].delete(n),await this.request(e.replace(".subscribe",".unsubscribe"),...r),I.client(`Unsubscribed from '${String(e)}' for the '${n}' parameters.`)}async resubscribeOnConnect(){I.client(`Connected to '${this.connection.hostIdentifier}'.`);const e=[];for(const r in this.subscriptionMethods){for(const n of this.subscriptionMethods[r].values()){const i=JSON.parse(n);e.push(this.subscribe(r,...i))}await Promise.all(e)}e.length>0&&I.client(`Restored ${e.length} previous subscriptions for '${this.connection.hostIdentifier}'`)}response(e){if(ln(e)){I.client(`Received notification for '${e.method}' from '${this.connection.host}'`),this.emit("notification",e);return}if(e.id===null)throw new Error("Internal error: Received an RPC response with ID null.");const r=this.requestResolvers[e.id];if(!r)throw new Error("Internal error: Callback for response not available.");delete this.requestResolvers[e.id],an(e)?r(new Error(e.error.message)):r(void 0,e.result)}onConnectionDisconnect(){this.emit("disconnected");for(const e in this.requestResolvers){const r=this.requestResolvers[e];r(new Error("Connection lost")),delete this.requestResolvers[e]}}}var fn=un;function wt(t){let e,r,n,i,c,a=t[1]&&bt(),o=typeof t[3]<"u"&&gt(t);return{c(){a&&a.c(),e=P(),r=E("a"),n=E("img"),c=P(),o&&o.c(),this.h()},l(s){a&&a.l(s),e=M(s),r=C(s,"A",{href:!0,class:!0});var l=T(r);n=C(l,"IMG",{width:!0,src:!0,alt:!0}),c=M(l),o&&o.l(l),l.forEach(b),this.h()},h(){m(n,"width","30"),Pt(n.src,i=Zt)||m(n,"src",i),m(n,"alt","wallet"),m(r,"href","/wallet"),m(r,"class","svelte-wavrw1")},m(s,l){a&&a.m(s,l),O(s,e,l),O(s,r,l),_(r,n),_(r,c),o&&o.m(r,null)},p(s,l){s[1]?a||(a=bt(),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),typeof s[3]<"u"?o?o.p(s,l):(o=gt(s),o.c(),o.m(r,null)):o&&(o.d(1),o=null)},d(s){s&&(b(e),b(r)),a&&a.d(s),o&&o.d()}}}function bt(t){let e;return{c(){e=ae("⚠️")},l(r){e=le(r,"⚠️")},m(r,n){O(r,e,n)},d(r){r&&b(e)}}}function gt(t){let e,r;return{c(){e=ae(t[3]),r=ae(" BCH")},l(n){e=le(n,t[3]),r=le(n," BCH")},m(n,i){O(n,e,i),O(n,r,i)},p(n,i){i&8&&Pe(e,n[3])},d(n){n&&(b(e),b(r))}}}function _t(t){let e,r=t[0].toLocaleString()+"",n,i,c="■",a,o,s,l=(1e3-t[0]%1e3).toLocaleString()+"",p,h,d="■";return{c(){e=E("div"),n=ae(r),i=E("sub"),i.textContent=c,a=P(),o=E("div"),s=ae("T -"),p=ae(l),h=E("sub"),h.textContent=d},l(f){e=C(f,"DIV",{});var u=T(e);n=le(u,r),i=C(u,"SUB",{"data-svelte-h":!0}),J(i)!=="svelte-e09y70"&&(i.textContent=c),u.forEach(b),a=M(f),o=C(f,"DIV",{});var v=T(o);s=le(v,"T -"),p=le(v,l),h=C(v,"SUB",{"data-svelte-h":!0}),J(h)!=="svelte-e09y70"&&(h.textContent=d),v.forEach(b)},m(f,u){O(f,e,u),_(e,n),_(e,i),O(f,a,u),O(f,o,u),_(o,s),_(o,p),_(o,h)},p(f,u){u&1&&r!==(r=f[0].toLocaleString()+"")&&Pe(n,r),u&1&&l!==(l=(1e3-f[0]%1e3).toLocaleString()+"")&&Pe(p,l)},d(f){f&&(b(e),b(a),b(o))}}}function hn(t){let e,r=`Pre-alpha pre-release. Use at your own risk.<br/>
	Bugs and usability issues may result in loss of funds.`,n,i,c,a,o,s='<a href="/" class="svelte-wavrw1"><img src="/FBCH.svg" alt="Home" class="svelte-wavrw1"/></a>',l,p,h,d,f,u,v,g,$="<b>ⓘ</b>",S,B,V,U,Y="Vaults",re,fe,j,W,Q="Write",ne,F,w,y,R,L,H=Number(t[0])>0,N=t[2]&&wt(t),D=H&&_t(t);return{c(){e=E("div"),e.innerHTML=r,n=P(),i=E("div"),N&&N.c(),c=P(),a=E("header"),o=E("div"),o.innerHTML=s,l=P(),p=E("nav"),h=we("svg"),d=we("path"),f=P(),u=E("ul"),v=E("li"),g=E("a"),g.innerHTML=$,B=P(),V=E("li"),U=E("a"),U.textContent=Y,fe=P(),j=E("li"),W=E("a"),W.textContent=Q,F=P(),w=we("svg"),y=we("path"),R=P(),L=E("div"),D&&D.c(),this.h()},l(k){e=C(k,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-wuhrry"&&(e.innerHTML=r),n=M(k),i=C(k,"DIV",{class:!0});var x=T(i);N&&N.l(x),x.forEach(b),c=M(k),a=C(k,"HEADER",{class:!0});var ie=T(a);o=C(ie,"DIV",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-9hijgq"&&(o.innerHTML=s),l=M(ie),p=C(ie,"NAV",{class:!0});var se=T(p);h=be(se,"svg",{viewBox:!0,"aria-hidden":!0,class:!0});var Qe=T(h);d=be(Qe,"path",{d:!0,class:!0}),T(d).forEach(b),Qe.forEach(b),f=M(se),u=C(se,"UL",{class:!0});var oe=T(u);v=C(oe,"LI",{style:!0,"aria-current":!0,class:!0});var Je=T(v);g=C(Je,"A",{style:!0,href:!0,class:!0,"data-svelte-h":!0}),J(g)!=="svelte-xqmuyf"&&(g.innerHTML=$),Je.forEach(b),B=M(oe),V=C(oe,"LI",{"aria-current":!0,class:!0});var Ye=T(V);U=C(Ye,"A",{href:!0,class:!0,"data-svelte-h":!0}),J(U)!=="svelte-18ikwbv"&&(U.textContent=Y),Ye.forEach(b),fe=M(oe),j=C(oe,"LI",{"aria-current":!0,class:!0});var et=T(j);W=C(et,"A",{href:!0,class:!0,"data-svelte-h":!0}),J(W)!=="svelte-1rwkpbp"&&(W.textContent=Q),et.forEach(b),oe.forEach(b),F=M(se),w=be(se,"svg",{viewBox:!0,"aria-hidden":!0,class:!0});var tt=T(w);y=be(tt,"path",{d:!0,class:!0}),T(y).forEach(b),tt.forEach(b),se.forEach(b),R=M(ie),L=C(ie,"DIV",{class:!0});var rt=T(L);D&&D.l(rt),rt.forEach(b),ie.forEach(b),this.h()},h(){m(e,"class","warn svelte-wavrw1"),m(i,"class","wallet svelte-wavrw1"),m(o,"class","corner svelte-wavrw1"),m(d,"d","M0,0 L1,2 C1.5,3 1.5,3 2,3 L2,0 Z"),m(d,"class","svelte-wavrw1"),m(h,"viewBox","0 0 2 3"),m(h,"aria-hidden","true"),m(h,"class","svelte-wavrw1"),st(g,"font-size","larger"),m(g,"href","/"),m(g,"class","svelte-wavrw1"),st(v,"font-weight","900"),m(v,"aria-current",S=t[4].url.pathname==="/"?"page":void 0),m(v,"class","svelte-wavrw1"),m(U,"href","/vaults"),m(U,"class","svelte-wavrw1"),m(V,"aria-current",re=t[4].url.pathname==="/vaults"?"page":void 0),m(V,"class","svelte-wavrw1"),m(W,"href","/write"),m(W,"class","svelte-wavrw1"),m(j,"aria-current",ne=t[4].url.pathname==="/write"?"page":void 0),m(j,"class","svelte-wavrw1"),m(u,"class","svelte-wavrw1"),m(y,"d","M0,0 L0,3 C0.5,3 0.5,3 1,2 L2,0 Z"),m(y,"class","svelte-wavrw1"),m(w,"viewBox","0 0 2 3"),m(w,"aria-hidden","true"),m(w,"class","svelte-wavrw1"),m(p,"class","svelte-wavrw1"),m(L,"class","status svelte-wavrw1"),m(a,"class","svelte-wavrw1")},m(k,x){O(k,e,x),O(k,n,x),O(k,i,x),N&&N.m(i,null),O(k,c,x),O(k,a,x),_(a,o),_(a,l),_(a,p),_(p,h),_(h,d),_(p,f),_(p,u),_(u,v),_(v,g),_(u,B),_(u,V),_(V,U),_(u,fe),_(u,j),_(j,W),_(p,F),_(p,w),_(w,y),_(a,R),_(a,L),D&&D.m(L,null)},p(k,[x]){k[2]?N?N.p(k,x):(N=wt(k),N.c(),N.m(i,null)):N&&(N.d(1),N=null),x&16&&S!==(S=k[4].url.pathname==="/"?"page":void 0)&&m(v,"aria-current",S),x&16&&re!==(re=k[4].url.pathname==="/vaults"?"page":void 0)&&m(V,"aria-current",re),x&16&&ne!==(ne=k[4].url.pathname==="/write"?"page":void 0)&&m(j,"aria-current",ne),x&1&&(H=Number(k[0])>0),H?D?D.p(k,x):(D=_t(k),D.c(),D.m(L,null)):D&&(D.d(1),D=null)},i:K,o:K,d(k){k&&(b(e),b(n),b(i),b(c),b(a)),N&&N.d(),D&&D.d()}}}function dn(t,e,r){let n;He(t,zt,h=>r(4,n=h));let i,c=!1,a,o;ct.subscribe(h=>{console.log(i),r(0,i=h)});function s(h){console.log(i),ct.set(h)}const l=function(h){if(h.method==="blockchain.headers.subscribe"){let d=h.params[0];d.height&&d.height>1&&s(d.height)}else h.method==="blockchain.address.subscribe"&&p()};async function p(){r(3,o=await a.getBalance("bch"))}return $t(async()=>{try{er.StorageProvider=tr,r(2,a=await rr.named("hot")),r(3,o=await a.getBalance("bch"))}catch(d){throw r(1,c=!0),d}const h=new fn("FBCH","1.4.1","bch.imaginary.cash",q.WSS.Port,q.WSS.Scheme);await h.connect().then(()=>{h.on("notification",l),h.subscribe("blockchain.headers.subscribe"),h.subscribe("blockchain.address.subscribe",a.getTokenDepositAddress())})}),[i,c,a,o,n]}class pn extends Ae{constructor(e){super(),Oe(this,e,dn,hn,Ne,{})}}function Lt(t){const e=t-1;return e*e*e+1}function vn(t,{delay:e=0,duration:r=400,easing:n=Ie}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:n,css:c=>`opacity: ${c*i}`}}function mn(t,{delay:e=0,duration:r=400,easing:n=Lt,x:i=0,y:c=0,opacity:a=0}={}){const o=getComputedStyle(t),s=+o.opacity,l=o.transform==="none"?"":o.transform,p=s*(1-a),[h,d]=nt(i),[f,u]=nt(c);return{delay:e,duration:r,easing:n,css:(v,g)=>`
			transform: ${l} translate(${(1-v)*h}${d}, ${(1-v)*f}${u});
			opacity: ${s-p*g}`}}function wn(t,{from:e,to:r},n={}){const i=getComputedStyle(t),c=i.transform==="none"?"":i.transform,[a,o]=i.transformOrigin.split(" ").map(parseFloat),s=e.left+e.width*a/r.width-(r.left+a),l=e.top+e.height*o/r.height-(r.top+o),{delay:p=0,duration:h=f=>Math.sqrt(f)*120,easing:d=Lt}=n;return{delay:p,duration:Mt(h)?h(Math.sqrt(s*s+l*l)):h,easing:d,css:(f,u)=>{const v=u*s,g=u*l,$=f+u*e.width/r.width,S=f+u*e.height/r.height;return`transform: ${c} translate(${v}px, ${g}px) scale(${$}, ${S});`}}}function yt(t){return Object.prototype.toString.call(t)==="[object Date]"}function Ue(t,e){if(t===e||t!==t)return()=>t;const r=typeof t;if(r!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map((i,c)=>Ue(t[c],i));return i=>n.map(c=>c(i))}if(r==="object"){if(!t||!e)throw new Error("Object cannot be null");if(yt(t)&&yt(e)){t=t.getTime(),e=e.getTime();const c=e-t;return a=>new Date(t+a*c)}const n=Object.keys(e),i={};return n.forEach(c=>{i[c]=Ue(t[c],e[c])}),c=>{const a={};return n.forEach(o=>{a[o]=i[o](c)}),a}}if(r==="number"){const n=e-t;return i=>t+i*n}throw new Error(`Cannot interpolate ${r} values`)}function bn(t,e={}){const r=nr(t);let n,i=t;function c(a,o){if(t==null)return r.set(t=a),Promise.resolve();i=a;let s=n,l=!1,{delay:p=0,duration:h=400,easing:d=Ie,interpolate:f=Ue}=Ee(Ee({},e),o);if(h===0)return s&&(s.abort(),s=null),r.set(t=i),Promise.resolve();const u=Tt()+p;let v;return n=It(g=>{if(g<u)return!0;l||(v=f(t,a),typeof h=="function"&&(h=h(t,a)),l=!0),s&&(s.abort(),s=null);const $=g-u;return $>h?(r.set(t=a),!1):(r.set(t=v(d($/h))),!0)}),n.promise}return{set:c,update:(a,o)=>c(a(i,t),o),subscribe:r.subscribe}}function gn(t){let e,r=t[0].msg+"",n;return{c(){e=new jt(!1),n=Se(),this.h()},l(i){e=Wt(i,!1),n=Se(),this.h()},h(){e.a=n},m(i,c){e.m(r,i,c),O(i,n,c)},p(i,c){c&1&&r!==(r=i[0].msg+"")&&e.p(r)},i:K,o:K,d(i){i&&(b(n),e.d())}}}function _n(t){let e,r,n;const i=[t[2]];var c=t[0].component.src;function a(o,s){let l={};for(let p=0;p<i.length;p+=1)l=Ee(l,i[p]);return s!==void 0&&s&4&&(l=Ee(l,ut(i,[ft(o[2])]))),{props:l}}return c&&(e=ot(c,a(t))),{c(){e&&de(e.$$.fragment),r=Se()},l(o){e&&$e(e.$$.fragment,o),r=Se()},m(o,s){e&&pe(e,o,s),O(o,r,s),n=!0},p(o,s){if(s&1&&c!==(c=o[0].component.src)){if(e){je();const l=e;X(l.$$.fragment,1,0,()=>{ve(l,1)}),We()}c?(e=ot(c,a(o,s)),de(e.$$.fragment),z(e.$$.fragment,1),pe(e,r.parentNode,r)):e=null}else if(c){const l=s&4?ut(i,[ft(o[2])]):{};e.$set(l)}},i(o){n||(e&&z(e.$$.fragment,o),n=!0)},o(o){e&&X(e.$$.fragment,o),n=!1},d(o){o&&b(r),e&&ve(e,o)}}}function Et(t){let e,r,n;return{c(){e=E("div"),this.h()},l(i){e=C(i,"DIV",{class:!0,role:!0,tabindex:!0}),T(e).forEach(b),this.h()},h(){m(e,"class","_toastBtn pe svelte-10l0ogd"),m(e,"role","button"),m(e,"tabindex","0")},m(i,c){O(i,e,c),r||(n=[Ce(e,"click",t[4]),Ce(e,"keydown",t[8])],r=!0)},p:K,d(i){i&&b(e),r=!1,kt(n)}}}function yn(t){let e,r,n,i,c,a,o,s,l,p;const h=[_n,gn],d=[];function f(v,g){return v[0].component?0:1}n=f(t),i=d[n]=h[n](t);let u=t[0].dismissable&&Et(t);return{c(){e=E("div"),r=E("div"),i.c(),c=P(),u&&u.c(),a=P(),o=E("progress"),this.h()},l(v){e=C(v,"DIV",{class:!0});var g=T(e);r=C(g,"DIV",{role:!0,class:!0});var $=T(r);i.l($),$.forEach(b),c=M(g),u&&u.l(g),a=M(g),o=C(g,"PROGRESS",{class:!0}),T(o).forEach(b),g.forEach(b),this.h()},h(){m(r,"role","status"),m(r,"class","_toastMsg svelte-10l0ogd"),ge(r,"pe",t[0].component),m(o,"class","_toastBar svelte-10l0ogd"),o.value=t[1],m(e,"class","_toastItem svelte-10l0ogd"),ge(e,"pe",t[0].pausable)},m(v,g){O(v,e,g),_(e,r),d[n].m(r,null),_(e,c),u&&u.m(e,null),_(e,a),_(e,o),s=!0,l||(p=[Ce(e,"mouseenter",t[9]),Ce(e,"mouseleave",t[6])],l=!0)},p(v,[g]){let $=n;n=f(v),n===$?d[n].p(v,g):(je(),X(d[$],1,1,()=>{d[$]=null}),We(),i=d[n],i?i.p(v,g):(i=d[n]=h[n](v),i.c()),z(i,1),i.m(r,null)),(!s||g&1)&&ge(r,"pe",v[0].component),v[0].dismissable?u?u.p(v,g):(u=Et(v),u.c(),u.m(e,a)):u&&(u.d(1),u=null),(!s||g&2)&&(o.value=v[1]),(!s||g&1)&&ge(e,"pe",v[0].pausable)},i(v){s||(z(i),s=!0)},o(v){X(i),s=!1},d(v){v&&b(e),d[n].d(),u&&u.d(),l=!1,kt(p)}}}function En(t,e,r){let n,{item:i}=e;const c=bn(i.initial,{duration:i.duration,easing:Ie});He(t,c,S=>r(1,n=S));const a=()=>Me.pop(i.id),o=()=>{(n===1||n===0)&&a()};let s=i.initial,l=s,p=!1;const h=()=>{!p&&n!==s&&(c.set(n,{duration:0}),p=!0)},d=()=>{if(p){const S=i.duration,B=S-S*((n-l)/(s-l));c.set(s,{duration:B}).then(o),p=!1}};let f={};const u=()=>document.hidden?h():d(),v=S=>{const{hidden:B,addEventListener:V,removeEventListener:U}=document;if(typeof B>"u")return;const Y="visibilitychange";return S?V(Y,u):U(Y,u),!0};$t(()=>v(!0)&&u()),Bt(()=>{typeof i.onpop=="function"&&i.onpop(i.id),v(!1)});const g=S=>{S instanceof KeyboardEvent&&["Enter"," "].includes(S.key)&&a()},$=()=>{i.pausable&&h()};return t.$$set=S=>{"item"in S&&r(0,i=S.item)},t.$$.update=()=>{if(t.$$.dirty&1&&typeof i.progress<"u"&&r(0,i.next=i.progress,i),t.$$.dirty&131&&s!==i.next&&(r(7,s=i.next),l=n,p=!1,c.set(s).then(o)),t.$$.dirty&1&&i.component){const{props:S={},sendIdTo:B}=i.component;r(2,f={...S,...B&&{[B]:i.id}})}},[i,n,f,c,a,h,d,s,g,$]}class Cn extends Ae{constructor(e){super(),Oe(this,e,En,yn,Ne,{item:0})}}function Ct(t,e,r){const n=t.slice();return n[5]=e[r],n}function St(t,e){let r,n,i,c,a,o,s,l,p=K,h;return n=new Cn({props:{item:e[5]}}),{key:t,first:null,c(){r=E("li"),de(n.$$.fragment),i=P(),this.h()},l(d){r=C(d,"LI",{class:!0,style:!0});var f=T(r);$e(n.$$.fragment,f),i=M(f),f.forEach(b),this.h()},h(){m(r,"class",c=it(e[5].classes.join(" "))+" svelte-yh90az"),m(r,"style",a=e[1](e[5].theme)),this.first=r},m(d,f){O(d,r,f),pe(n,r,null),_(r,i),h=!0},p(d,f){e=d;const u={};f&1&&(u.item=e[5]),n.$set(u),(!h||f&1&&c!==(c=it(e[5].classes.join(" "))+" svelte-yh90az"))&&m(r,"class",c),(!h||f&1&&a!==(a=e[1](e[5].theme)))&&m(r,"style",a)},r(){l=r.getBoundingClientRect()},f(){sr(r),p(),Nt(r,l)},a(){p(),p=ir(r,l,wn,{duration:200})},i(d){h||(z(n.$$.fragment,d),d&&xt(()=>{h&&(s&&s.end(1),o=Kt(r,mn,e[5].intro),o.start())}),h=!0)},o(d){X(n.$$.fragment,d),o&&o.invalidate(),d&&(s=Xt(r,vn,{})),h=!1},d(d){d&&b(r),ve(n),d&&s&&s.end()}}}function Sn(t){let e,r=[],n=new Map,i,c=at(t[0]);const a=o=>o[5].id;for(let o=0;o<c.length;o+=1){let s=Ct(t,c,o),l=a(s);n.set(l,r[o]=St(l,s))}return{c(){e=E("ul");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=C(o,"UL",{class:!0});var s=T(e);for(let l=0;l<r.length;l+=1)r[l].l(s);s.forEach(b),this.h()},h(){m(e,"class","_toastContainer svelte-yh90az")},m(o,s){O(o,e,s);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);i=!0},p(o,[s]){if(s&3){c=at(o[0]),je();for(let l=0;l<r.length;l+=1)r[l].r();r=Qt(r,s,a,1,o,c,n,e,Jt,St,null,Ct);for(let l=0;l<r.length;l+=1)r[l].a();We()}},i(o){if(!i){for(let s=0;s<c.length;s+=1)z(r[s]);i=!0}},o(o){for(let s=0;s<r.length;s+=1)X(r[s]);i=!1},d(o){o&&b(e);for(let s=0;s<r.length;s+=1)r[s].d()}}}function $n(t,e,r){let n;He(t,Me,s=>r(4,n=s));let{options:i={}}=e,{target:c="default"}=e,a;const o=s=>Object.keys(s).reduce((l,p)=>`${l}${p}:${s[p]};`,"");return t.$$set=s=>{"options"in s&&r(2,i=s.options),"target"in s&&r(3,c=s.target)},t.$$.update=()=>{t.$$.dirty&12&&Me._init(c,i),t.$$.dirty&24&&r(0,a=n.filter(s=>s.target===c))},[a,o,i,c,n]}class kn extends Ae{constructor(e){super(),Oe(this,e,$n,Sn,Ne,{options:2,target:3})}}const Tn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-3%20-3%2030%2030'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%202C6.47715%202%202%206.47715%202%2012C2%2017.5229%206.47715%2022%2012%2022C17.5229%2022%2022%2017.5229%2022%2012C22%206.47715%2017.5229%202%2012%202ZM0%2012C0%205.3726%205.3726%200%2012%200C18.6274%200%2024%205.3726%2024%2012C24%2018.6274%2018.6274%2024%2012%2024C5.3726%2024%200%2018.6274%200%2012Z'%20fill='rgba(0,0,0,0.7)'%20stroke='none'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.59162%2022.7357C9.49492%2022.6109%209.49492%2021.4986%209.59162%2019.399C8.55572%2019.4347%207.90122%2019.3628%207.62812%2019.1833C7.21852%2018.9139%206.80842%2018.0833%206.44457%2017.4979C6.08072%2016.9125%205.27312%2016.8199%204.94702%2016.6891C4.62091%2016.5582%204.53905%2016.0247%205.84562%2016.4282C7.15222%2016.8316%207.21592%2017.9303%207.62812%2018.1872C8.04032%2018.4441%209.02572%2018.3317%209.47242%2018.1259C9.91907%2017.9201%209.88622%2017.1538%209.96587%2016.8503C10.0666%2016.5669%209.71162%2016.5041%209.70382%2016.5018C9.26777%2016.5018%206.97697%2016.0036%206.34772%2013.7852C5.71852%2011.5669%206.52907%2010.117%206.96147%209.49369C7.24972%209.07814%207.22422%208.19254%206.88497%206.83679C8.11677%206.67939%209.06732%207.06709%209.73672%207.99999C9.73737%208.00534%2010.6143%207.47854%2012.0001%207.47854C13.386%207.47854%2013.8777%207.90764%2014.2571%207.99999C14.6365%208.09234%2014.94%206.36699%2017.2834%206.83679C16.7942%207.79839%2016.3844%208.99999%2016.6972%209.49369C17.0099%209.98739%2018.2372%2011.5573%2017.4833%2013.7852C16.9807%2015.2706%2015.9927%2016.1761%2014.5192%2016.5018C14.3502%2016.5557%2014.2658%2016.6427%2014.2658%2016.7627C14.2658%2016.9427%2014.4942%2016.9624%2014.8233%2017.8058C15.0426%2018.368%2015.0585%2019.9739%2014.8708%2022.6234C14.3953%2022.7445%2014.0254%2022.8257%2013.7611%2022.8673C13.2924%2022.9409%2012.7835%2022.9822%2012.2834%2022.9982C11.7834%2023.0141%2011.6098%2023.0123%2010.9185%2022.948C10.4577%2022.9051%2010.0154%2022.8343%209.59162%2022.7357Z'%20fill='rgba(0,0,0,0.7)'%20stroke='none'%20/%3e%3c/svg%3e";function In(t){let e,r,n,i,c,a,o,s,l=`<p><a href="/audit" class="svelte-8o1gnw">audit</a>
			■
			<a href="/code" class="svelte-8o1gnw">code of conduct</a>
			■

			<a href="/contracts" class="svelte-8o1gnw">contracts</a>
			■
			<a href="/flipstarter" class="svelte-8o1gnw">flipstarter</a>
			■
			<a target="_blank" href="https://github.com/2qx/future-bitcoin-cash" class="svelte-8o1gnw">source
				<img width="20px" src="${Tn}" alt="GitHub"/></a></p>`,p;r=new pn({}),i=new kn({});const h=t[1].default,d=qt(h,t,t[0],null);return{c(){e=E("div"),de(r.$$.fragment),n=P(),de(i.$$.fragment),c=P(),a=E("main"),d&&d.c(),o=P(),s=E("footer"),s.innerHTML=l,this.h()},l(f){e=C(f,"DIV",{class:!0});var u=T(e);$e(r.$$.fragment,u),n=M(u),$e(i.$$.fragment,u),c=M(u),a=C(u,"MAIN",{class:!0});var v=T(a);d&&d.l(v),v.forEach(b),o=M(u),s=C(u,"FOOTER",{class:!0,"data-svelte-h":!0}),J(s)!=="svelte-d8bde3"&&(s.innerHTML=l),u.forEach(b),this.h()},h(){m(a,"class","svelte-8o1gnw"),m(s,"class","svelte-8o1gnw"),m(e,"class","app svelte-8o1gnw")},m(f,u){O(f,e,u),pe(r,e,null),_(e,n),pe(i,e,null),_(e,c),_(e,a),d&&d.m(a,null),_(e,o),_(e,s),p=!0},p(f,[u]){d&&d.p&&(!p||u&1)&&Ft(d,h,f,f[0],p?Vt(h,f[0],u,null):Gt(f[0]),null)},i(f){p||(z(r.$$.fragment,f),z(i.$$.fragment,f),z(d,f),p=!0)},o(f){X(r.$$.fragment,f),X(i.$$.fragment,f),X(d,f),p=!1},d(f){f&&b(e),ve(r),ve(i),d&&d.d(f)}}}function Nn(t,e,r){let{$$slots:n={},$$scope:i}=e;return t.$$set=c=>{"$$scope"in c&&r(0,i=c.$$scope)},[i,n]}class qn extends Ae{constructor(e){super(),Oe(this,e,Nn,In,Ne,{})}}export{qn as component,xn as universal};
//# sourceMappingURL=0.6BNpqVMD.js.map
