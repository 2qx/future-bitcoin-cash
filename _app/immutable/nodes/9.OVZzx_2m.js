import{d as ot}from"../chunks/index.R8ovVqwX.js";import{s as st,n as Ke,r as at,o as rt}from"../chunks/scheduler.Dw93JyHj.js";import{S as it,i as ut,e as i,s as m,t as f,l as ct,c as u,d as p,f as g,a as D,k as O,b as v,n as d,h as e,g as Z,D as re,E as W,j as Y,C as Qe,F as dt,G as Ye}from"../chunks/index.B9C0U9bf.js";import{e as me,V as Ze}from"../chunks/vault.CqFh1qjg.js";import{h as ht}from"../chunks/store.DiFBw5J8.js";const pt=ot,ft=!0,Ht=Object.freeze(Object.defineProperty({__proto__:null,csr:pt,prerender:ft},Symbol.toStringTag,{value:"Module"}));function $e(a,s,o){const n=a.slice();return n[16]=s[o],n}function et(a,s,o){const n=a.slice();return n[19]=s[o],n}function tt(a){let s,o,n,c=a[19]+"",b,C,r=Math.pow(10,a[19]).toLocaleString()+"",_,A,y,M,j,V,G;return j=dt(a[13][0]),{c(){s=i("label"),o=i("input"),n=f(`
					V`),b=f(c),C=f(" Series - "),_=f(r),A=m(),y=i("br"),M=m(),this.h()},l(T){s=u(T,"LABEL",{});var h=D(s);o=u(h,"INPUT",{type:!0,name:!0}),n=v(h,`
					V`),b=v(h,c),C=v(h," Series - "),_=v(h,r),A=g(h),y=u(h,"BR",{}),M=g(h),h.forEach(p),this.h()},h(){d(o,"type","radio"),d(o,"name","s"),o.__value=a[19],re(o,o.__value),j.p(o)},m(T,h){Z(T,s,h),e(s,o),o.checked=o.__value===a[0],e(s,n),e(s,b),e(s,C),e(s,_),e(s,A),e(s,y),e(s,M),V||(G=[W(o,"change",a[12]),W(o,"change",a[14])],V=!0)},p(T,h){h&1&&(o.checked=o.__value===T[0])},d(T){T&&p(s),j.r(),V=!1,at(G)}}}function nt(a){let s=a[16].address+"",o,n,c=a[16].amount+"",b,C;return{c(){o=f(s),n=f(", "),b=f(c),C=i("br")},l(r){o=v(r,s),n=v(r,", "),b=v(r,c),C=u(r,"BR",{})},m(r,_){Z(r,o,_),Z(r,n,_),Z(r,b,_),Z(r,C,_)},p(r,_){_&2&&s!==(s=r[16].address+"")&&Y(o,s),_&2&&c!==(c=r[16].amount+"")&&Y(b,c)},d(r){r&&(p(o),p(n),p(b),p(C))}}}function vt(a){let s,o,n,c,b="Let's write some coupons!",C,r,_=`Coupons incentivize money being spent 1) at a specific destination, 2) above some minimum
		amount, and 3) with restrictions like: limit one per customer.`,A,y,M=`Future vault coupons are plain bitcoin cash unspent transaction outputs (UTXOs) that have been
		sent to, and are then locked by a <a href="/contracts#coupon">simple contract</a> to incentivize
		spending money at a specific destination (a FBCH token vault). For example, an output of 100k sats
		can be sent to a coupon contract to be used for locking at least 1 BCH (min. value) into 1 FBCH at
		a vault contract (destination).`,j,V,G=`Coupons values are denoted in BCH sats, where the value of the coupon is the value of the unspent output. A whole BCH could be split into
		1000 coupons each offering 100k sats for placement, or 1 BCH coin could be sent to the
		coupon contract in one single output to let anyone lock a "free" FBCH.`,T,h,ie=`At this time, all coupon values are for locking 1 whole BCH or 100M sats. All "C0" Coupon series
		require at least 1^0 BCH is needed to spend the coupon, but there may be smaller and larger
		series later.`,ue,F,$=`<b>Coupons are not refundable.</b>
		Money sent to a coupon holding contract can only be redeemed in a transaction that sends the required
		amount of value to a second predefined contract (i.e. a future vault).`,q,E,xe=`Below is a simple tool for use with the <a href="https://electroncash.org/">Electron Cash</a> pay-to-many
		feature:`,ge,P,X,Ne="Placement: 1 BCH",be,ee,S,Ce,ce,Be,J,He,oe=(a[3]/20).toPrecision(2)+"",de,ke,ye,Ee,I,Le,te,z,Te,he,Pe,Me,w,Ve,U,Ie,K,De,pe,Se,we,R,Ae,fe,Fe,Re,je,qe,ze,x,Ue,Oe,ne=me(a[6]),B=[];for(let l=0;l<ne.length;l+=1)B[l]=tt(et(a,ne,l));let le=me(a[1]),H=[];for(let l=0;l<le.length;l+=1)H[l]=nt($e(a,le,l));return{c(){s=i("meta"),o=m(),n=i("div"),c=i("h1"),c.textContent=b,C=m(),r=i("p"),r.textContent=_,A=m(),y=i("p"),y.innerHTML=M,j=m(),V=i("p"),V.textContent=G,T=m(),h=i("p"),h.textContent=ie,ue=m(),F=i("p"),F.innerHTML=$,q=m(),E=i("p"),E.innerHTML=xe,ge=m(),P=i("div"),X=i("div"),X.textContent=Ne,be=m(),ee=i("div"),S=i("label"),Ce=f("Rate: "),ce=f(a[3]),Be=f(" spb , "),J=i("i"),He=f("~"),de=f(oe),ke=f("% "),ye=i("br"),Ee=m(),I=i("input"),Le=m(),te=i("div"),z=i("label"),Te=f("Copies: "),he=f(a[2]),Pe=i("br"),Me=m(),w=i("input"),Ve=m(),U=i("div");for(let l=0;l<B.length;l+=1)B[l].c();Ie=m(),K=i("div"),De=f("Lock up to "),pe=f(a[5]),Se=f(" FBCH"),we=m(),R=i("div"),Ae=f("Total: "),fe=f(a[4]),Fe=f(" BCH"),Re=i("br"),je=m(),qe=i("hr"),ze=m(),x=i("div");for(let l=0;l<H.length;l+=1)H[l].c();this.h()},l(l){const k=ct("svelte-174kz84",document.head);s=u(k,"META",{name:!0,content:!0}),k.forEach(p),o=g(l),n=u(l,"DIV",{class:!0});var t=D(n);c=u(t,"H1",{"data-svelte-h":!0}),O(c)!=="svelte-bkv8ks"&&(c.textContent=b),C=g(t),r=u(t,"P",{"data-svelte-h":!0}),O(r)!=="svelte-g3laio"&&(r.textContent=_),A=g(t),y=u(t,"P",{"data-svelte-h":!0}),O(y)!=="svelte-gaho0i"&&(y.innerHTML=M),j=g(t),V=u(t,"P",{"data-svelte-h":!0}),O(V)!=="svelte-8ydqdr"&&(V.textContent=G),T=g(t),h=u(t,"P",{"data-svelte-h":!0}),O(h)!=="svelte-m661lg"&&(h.textContent=ie),ue=g(t),F=u(t,"P",{"data-svelte-h":!0}),O(F)!=="svelte-17orl32"&&(F.innerHTML=$),q=g(t),E=u(t,"P",{"data-svelte-h":!0}),O(E)!=="svelte-15bll3f"&&(E.innerHTML=xe),ge=g(t),P=u(t,"DIV",{id:!0,class:!0});var L=D(P);X=u(L,"DIV",{class:!0,"data-svelte-h":!0}),O(X)!=="svelte-13h8hoj"&&(X.textContent=Ne),be=g(L),ee=u(L,"DIV",{class:!0});var We=D(ee);S=u(We,"LABEL",{});var N=D(S);Ce=v(N,"Rate: "),ce=v(N,a[3]),Be=v(N," spb , "),J=u(N,"I",{});var ve=D(J);He=v(ve,"~"),de=v(ve,oe),ke=v(ve,"% "),ve.forEach(p),ye=u(N,"BR",{}),Ee=g(N),I=u(N,"INPUT",{type:!0,min:!0,step:!0,max:!0}),N.forEach(p),We.forEach(p),Le=g(L),te=u(L,"DIV",{class:!0});var Ge=D(te);z=u(Ge,"LABEL",{});var ae=D(z);Te=v(ae,"Copies: "),he=v(ae,a[2]),Pe=u(ae,"BR",{}),Me=g(ae),w=u(ae,"INPUT",{type:!0,min:!0,max:!0}),ae.forEach(p),Ge.forEach(p),Ve=g(L),U=u(L,"DIV",{id:!0,class:!0});var Xe=D(U);for(let Q=0;Q<B.length;Q+=1)B[Q].l(Xe);Xe.forEach(p),L.forEach(p),Ie=g(t),K=u(t,"DIV",{});var _e=D(K);De=v(_e,"Lock up to "),pe=v(_e,a[5]),Se=v(_e," FBCH"),_e.forEach(p),we=g(t),R=u(t,"DIV",{id:!0,class:!0});var se=D(R);Ae=v(se,"Total: "),fe=v(se,a[4]),Fe=v(se," BCH"),Re=u(se,"BR",{}),se.forEach(p),je=g(t),qe=u(t,"HR",{}),ze=g(t),x=u(t,"DIV",{id:!0,class:!0});var Je=D(x);for(let Q=0;Q<H.length;Q+=1)H[Q].l(Je);Je.forEach(p),t.forEach(p),this.h()},h(){document.title="Write",d(s,"name","description"),d(s,"content","Write Coupons"),d(X,"class","svelte-vxd5yl"),d(I,"type","range"),d(I,"min","1"),d(I,"step","0.2"),d(I,"max","50"),d(ee,"class","svelte-vxd5yl"),d(w,"type","range"),d(w,"min","1"),d(w,"max","40"),d(te,"class","svelte-vxd5yl"),d(U,"id","dataTable"),d(U,"class","svelte-vxd5yl"),d(P,"id","control"),d(P,"class","svelte-vxd5yl"),d(R,"id","total"),d(R,"class","svelte-vxd5yl"),d(x,"id","mono"),d(x,"class","svelte-vxd5yl"),d(n,"class","text-column")},m(l,k){e(document.head,s),Z(l,o,k),Z(l,n,k),e(n,c),e(n,C),e(n,r),e(n,A),e(n,y),e(n,j),e(n,V),e(n,T),e(n,h),e(n,ue),e(n,F),e(n,q),e(n,E),e(n,ge),e(n,P),e(P,X),e(P,be),e(P,ee),e(ee,S),e(S,Ce),e(S,ce),e(S,Be),e(S,J),e(J,He),e(J,de),e(J,ke),e(S,ye),e(S,Ee),e(S,I),re(I,a[3]),e(P,Le),e(P,te),e(te,z),e(z,Te),e(z,he),e(z,Pe),e(z,Me),e(z,w),re(w,a[2]),e(P,Ve),e(P,U);for(let t=0;t<B.length;t+=1)B[t]&&B[t].m(U,null);e(n,Ie),e(n,K),e(K,De),e(K,pe),e(K,Se),e(n,we),e(n,R),e(R,Ae),e(R,fe),e(R,Fe),e(R,Re),e(n,je),e(n,qe),e(n,ze),e(n,x);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(x,null);Ue||(Oe=[W(I,"change",a[8]),W(I,"change",a[9]),W(I,"input",a[9]),W(w,"change",a[10]),W(w,"change",a[11]),W(w,"input",a[11])],Ue=!0)},p(l,[k]){if(k&8&&Y(ce,l[3]),k&8&&oe!==(oe=(l[3]/20).toPrecision(2)+"")&&Y(de,oe),k&8&&re(I,l[3]),k&4&&Y(he,l[2]),k&4&&re(w,l[2]),k&193){ne=me(l[6]);let t;for(t=0;t<ne.length;t+=1){const L=et(l,ne,t);B[t]?B[t].p(L,k):(B[t]=tt(L),B[t].c(),B[t].m(U,null))}for(;t<B.length;t+=1)B[t].d(1);B.length=ne.length}if(k&32&&Y(pe,l[5]),k&16&&Y(fe,l[4]),k&2){le=me(l[1]);let t;for(t=0;t<le.length;t+=1){const L=$e(l,le,t);H[t]?H[t].p(L,k):(H[t]=nt(L),H[t].c(),H[t].m(x,null))}for(;t<H.length;t+=1)H[t].d(1);H.length=le.length}},i:Ke,o:Ke,d(l){l&&(p(o),p(n)),p(s),Qe(B,l),Qe(H,l),Ue=!1,at(Oe)}}}let lt=1;function _t(a,s,o){const n=[3,4,5,6];let c=4,b=[],C=1,r=20,_=0,A=0,y=857e3;ht.subscribe(F=>{y=F});function M(){let F=Ze.getCouponSeries(y,lt*1e8,c,c==6?4:void 0),$=Ze.getSeriesTimes(y,c,c==6?4:void 0);o(1,b=F.map(function(q,E){return($[E]-y)*r>543?[...Array(C).fill({time:$[E],address:q,placement:lt,amount:Math.floor(($[E]-y)*r)/1e8})]:[]}).flat()),o(5,A=b.reduce(function(q,E){return q+E.placement},0)),o(4,_=b.reduce(function(q,E){return q+E.amount},0)),o(4,_=Math.floor(_*1e8)/1e8)}rt(async()=>{M()});const j=[[]],V=()=>M();function G(){r=Ye(this.value),o(3,r)}const T=()=>M();function h(){C=Ye(this.value),o(2,C)}function ie(){c=this.__value,o(0,c)}return[c,b,C,r,_,A,n,M,V,G,T,h,ie,j,()=>M()]}class kt extends it{constructor(s){super(),ut(this,s,_t,vt,st,{})}}export{kt as component,Ht as universal};
//# sourceMappingURL=9.OVZzx_2m.js.map
