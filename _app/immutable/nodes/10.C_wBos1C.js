import{s as He,o as je,a as se,b as Be,i as Ae,r as ce,n as Q}from"../chunks/scheduler.CoKJEDLV.js";import{S as Ie,i as Ne,e as v,c as k,a as L,d as c,m as A,g as b,u as G,v as ie,w as $,x as oe,s as I,t as te,r as ee,o as O,f as N,b as le,J as X,n as K,h as E,B as R,j as ae,E as be,y as qe,z as xe,A as Le,C as Pe}from"../chunks/index.BVNDwmo2.js";import{r as ve,h as Fe,i as Oe,e as ke,u as Ve,o as ze}from"../chunks/vault.Cjxl-TLN.js";import{h as fe}from"../chunks/hot.BU3uCGXT.js";import{$ as $e,a as Re,b as We,C as U,c as Me,d as Ue}from"../chunks/bch.1-C-_X8e.js";import{S as Ge}from"../chunks/SeriesIcon.DXcP56hA.js";import{E as Ye,B as Ke,I as Qe,F as Je,t as ne}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.DE3h4bHZ.js";const Xe=!0,bt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Xe},Symbol.toStringTag,{value:"Module"})),Ze=""+new URL("../assets/wallet.D7YPKv0S.svg",import.meta.url).href;function ge(f,e,t){const l=f.slice();return l[26]=e[t],l[28]=t,l}function et(f){let e,t="FBCH hot wallet",l,s,r,i,a,o,p,S,y,M,x,C,g,w=f[4].getTokenDepositAddress()+"",B,T,_,m,q="<p>This is your FBCH hot wallet deposit address.</p> <p>Send money here to swap futures, then sweep assets back to your wallet.</p>",D,F,V="Show/hide backup",z,n,d,H,Y,W,ue,_e,P=f[3]&&we(f);const de=[st,lt],J=[];function he(h,j){return h[5]?0:1}return d=he(f),H=J[d]=de[d](f),{c(){e=v("h4"),e.textContent=t,l=I(),s=v("qr-code"),r=v("img"),o=I(),p=v("div"),S=v("div"),y=v("img"),x=I(),C=v("div"),g=v("button"),B=te(w),_=I(),m=v("div"),m.innerHTML=q,D=I(),F=v("div"),F.textContent=V,z=I(),P&&P.c(),n=I(),H.c(),Y=ee(),this.h()},l(h){e=k(h,"H4",{"data-svelte-h":!0}),O(e)!=="svelte-13kwq8l"&&(e.textContent=t),l=N(h),s=k(h,"QR-CODE",{id:!0,contents:!0,"module-color":!0,"position-ring-color":!0,"position-center-color":!0,"mask-x-to-y-ratio":!0,style:!0});var j=L(s);r=k(j,"IMG",{width:!0,src:!0,slot:!0}),j.forEach(c),o=N(h),p=k(h,"DIV",{});var Z=L(p);S=k(Z,"DIV",{style:!0});var re=L(S);y=k(re,"IMG",{width:!0,src:!0,alt:!0}),x=N(re),C=k(re,"DIV",{});var pe=L(C);g=k(pe,"BUTTON",{class:!0});var me=L(g);B=le(me,w),me.forEach(c),pe.forEach(c),re.forEach(c),Z.forEach(c),_=N(h),m=k(h,"DIV",{"data-svelte-h":!0}),O(m)!=="svelte-10bjkwa"&&(m.innerHTML=q),D=N(h),F=k(h,"DIV",{"data-svelte-h":!0}),O(F)!=="svelte-kev3b5"&&(F.textContent=V),z=N(h),P&&P.l(h),n=N(h),H.l(h),Y=ee(),this.h()},h(){A(r,"width","52"),se(r.src,i=fe)||A(r,"src",i),A(r,"slot","icon"),X(s,"id","qr1"),X(s,"contents",a=f[4].getDepositAddress()),X(s,"module-color","#000"),X(s,"position-ring-color","#88338A"),X(s,"position-center-color","#FF00EA"),X(s,"mask-x-to-y-ratio","1.2"),K(s,"width","250px"),K(s,"height","250px"),K(s,"margin","1em auto"),K(s,"background-color","#fff"),A(y,"width","52px"),se(y.src,M=fe)||A(y,"src",M),A(y,"alt","hot wallet"),A(g,"class","styled svelte-1cuijhx"),K(S,"display","flex")},m(h,j){b(h,e,j),b(h,l,j),b(h,s,j),E(s,r),b(h,o,j),b(h,p,j),E(p,S),E(S,y),E(S,x),E(S,C),E(C,g),E(g,B),b(h,_,j),b(h,m,j),b(h,D,j),b(h,F,j),b(h,z,j),P&&P.m(h,j),b(h,n,j),J[d].m(h,j),b(h,Y,j),W=!0,ue||(_e=[Be(T=Me.call(null,p,f[4].getTokenDepositAddress())),R(p,"svelte-copy",f[11]),R(p,"svelte-copy:error",f[12]),R(F,"click",f[8])],ue=!0)},p(h,j){(!W||j&16&&a!==(a=h[4].getDepositAddress()))&&X(s,"contents",a),(!W||j&16)&&w!==(w=h[4].getTokenDepositAddress()+"")&&ae(B,w),T&&Ae(T.update)&&j&16&&T.update.call(null,h[4].getTokenDepositAddress()),h[3]?P?P.p(h,j):(P=we(h),P.c(),P.m(n.parentNode,n)):P&&(P.d(1),P=null);let Z=d;d=he(h),d===Z?J[d].p(h,j):(oe(),G(J[Z],1,1,()=>{J[Z]=null}),ie(),H=J[d],H?H.p(h,j):(H=J[d]=de[d](h),H.c()),$(H,1),H.m(Y.parentNode,Y))},i(h){W||($(H),W=!0)},o(h){G(H),W=!1},d(h){h&&(c(e),c(l),c(s),c(o),c(p),c(_),c(m),c(D),c(F),c(z),c(n),c(Y)),P&&P.d(h),J[d].d(h),ue=!1,ce(_e)}}}function tt(f){let e,t="This FBCH app uses a <b>temporary</b> hot web wallet to swap Future tokens and BCH.",l,s,r=`Please enter an external wallet address where your tokens and BCH change will be sent for long
			term storage:`,i,a,o,p,S,y,M,x,C,g=`<p>If you do not have a <a target="_blank" href="https://cashtokens.org">CashToken</a> wallet, select
				one below:</p> <h3>CashToken Wallets:</h3> <ul class="svelte-1cuijhx"><li>Desktop
					<ul class="svelte-1cuijhx"><li><a target="_blank" href="https://electroncash.org/">Electron Cash</a></li> <li><a target="_blank" href="https://github.com/cashonize/cashonize-quasar/releases">Cashonize Quasar</a></li></ul></li> <li>Web
					<ul class="svelte-1cuijhx"><li><a target="_blank" href="https://cashonize.com/">Cashonize</a></li> <li><a target="_blank" href="https://chromewebstore.google.com/detail/paytaca/pakphhpnneopheifihmjcjnbdbhaaiaa">Paytaca Chrome Extension</a></li></ul></li> <li>Mobile
					<ul class="svelte-1cuijhx"><li><a target="_blank" href="https://www.paytaca.com/#wallet">Paytaca</a></li> <li><a target="_blank" href="https://zapit.io/#/">Zapit</a></li></ul></li></ul>`,w,B,T=f[2]&&Se();return{c(){e=v("p"),e.innerHTML=t,l=I(),s=v("p"),s.textContent=r,i=I(),T&&T.c(),a=I(),o=v("div"),p=v("img"),y=I(),M=v("textarea"),x=I(),C=v("div"),C.innerHTML=g,this.h()},l(_){e=k(_,"P",{"data-svelte-h":!0}),O(e)!=="svelte-1q39s1b"&&(e.innerHTML=t),l=N(_),s=k(_,"P",{"data-svelte-h":!0}),O(s)!=="svelte-1gp1kbs"&&(s.textContent=r),i=N(_),T&&T.l(_),a=N(_),o=k(_,"DIV",{style:!0});var m=L(o);p=k(m,"IMG",{src:!0,alt:!0}),y=N(m),M=k(m,"TEXTAREA",{id:!0,rows:!0,style:!0,placeholder:!0,class:!0}),L(M).forEach(c),m.forEach(c),x=N(_),C=k(_,"DIV",{"data-svelte-h":!0}),O(C)!=="svelte-1e1umuj"&&(C.innerHTML=g),this.h()},h(){se(p.src,S=Ze)||A(p,"src",S),A(p,"alt","wallet"),A(M,"id","addr"),A(M,"rows","3"),K(M,"line-break","anywhere"),A(M,"placeholder","bitcoincash:zq... ..."),A(M,"class","svelte-1cuijhx"),K(o,"display","flex")},m(_,m){b(_,e,m),b(_,l,m),b(_,s,m),b(_,i,m),T&&T.m(_,m),b(_,a,m),b(_,o,m),E(o,p),E(o,y),E(o,M),be(M,f[1]),b(_,x,m),b(_,C,m),w||(B=[R(M,"input",f[10]),R(M,"change",f[9])],w=!0)},p(_,m){_[2]?T||(T=Se(),T.c(),T.m(a.parentNode,a)):T&&(T.d(1),T=null),m&2&&be(M,_[1])},i:Q,o:Q,d(_){_&&(c(e),c(l),c(s),c(i),c(a),c(o),c(x),c(C)),T&&T.d(_),w=!1,ce(B)}}}function we(f){let e,t=f[4].toDbString()+"",l,s,r,i;return{c(){e=v("div"),l=te(t)},l(a){e=k(a,"DIV",{});var o=L(e);l=le(o,t),o.forEach(c)},m(a,o){b(a,e,o),E(e,l),r||(i=[Be(s=Me.call(null,e,f[4].toDbString())),R(e,"svelte-copy",f[13]),R(e,"svelte-copy:error",f[14])],r=!0)},p(a,o){o&16&&t!==(t=a[4].toDbString()+"")&&ae(l,t),s&&Ae(s.update)&&o&16&&s.update.call(null,a[4].toDbString())},d(a){a&&c(e),r=!1,ce(i)}}}function lt(f){let e,t="loading wallet...";return{c(){e=v("p"),e.textContent=t},l(l){e=k(l,"P",{"data-svelte-h":!0}),O(e)!=="svelte-14wm895"&&(e.textContent=t)},m(l,s){b(l,e,s)},p:Q,i:Q,o:Q,d(l){l&&c(e)}}}function st(f){let e,t,l,s;const r=[ot,it],i=[];function a(o,p){return o[5].length>0?0:1}return e=a(f),t=i[e]=r[e](f),{c(){t.c(),l=ee()},l(o){t.l(o),l=ee()},m(o,p){i[e].m(o,p),b(o,l,p),s=!0},p(o,p){let S=e;e=a(o),e===S?i[e].p(o,p):(oe(),G(i[S],1,1,()=>{i[S]=null}),ie(),t=i[e],t?t.p(o,p):(t=i[e]=r[e](o),t.c()),$(t,1),t.m(l.parentNode,l))},i(o){s||($(t),s=!0)},o(o){G(t),s=!1},d(o){o&&c(l),i[e].d(o)}}}function it(f){let e,t="no wallet utxos available";return{c(){e=v("p"),e.textContent=t},l(l){e=k(l,"P",{"data-svelte-h":!0}),O(e)!=="svelte-9fop6y"&&(e.textContent=t)},m(l,s){b(l,e,s)},p:Q,i:Q,o:Q,d(l){l&&c(e)}}}function ot(f){let e,t,l,s,r,i="Shape",a,o,p="Sweep FBCH",S,y,M="Sweep BCH",x,C,g,w='<tr class="header svelte-1cuijhx"><td>BCH</td> <td>FBCH</td> <td>Series</td> <td>action</td></tr>',B,T,_=[],m=new Map,q,D,F,V=ke(f[5]);const z=n=>n[28];for(let n=0;n<V.length;n+=1){let d=ge(f,V,n),H=z(d);m.set(H,_[n]=Ee(H,d))}return{c(){e=v("div"),t=v("img"),s=I(),r=v("button"),r.textContent=i,a=I(),o=v("button"),o.textContent=p,S=I(),y=v("button"),y.textContent=M,x=I(),C=v("table"),g=v("thead"),g.innerHTML=w,B=I(),T=v("tbody");for(let n=0;n<_.length;n+=1)_[n].c();this.h()},l(n){e=k(n,"DIV",{class:!0});var d=L(e);t=k(d,"IMG",{width:!0,src:!0,alt:!0}),s=N(d),r=k(d,"BUTTON",{"data-svelte-h":!0}),O(r)!=="svelte-qlsjq"&&(r.textContent=i),a=N(d),o=k(d,"BUTTON",{"data-svelte-h":!0}),O(o)!=="svelte-habgjc"&&(o.textContent=p),S=N(d),y=k(d,"BUTTON",{"data-svelte-h":!0}),O(y)!=="svelte-us39yg"&&(y.textContent=M),d.forEach(c),x=N(n),C=k(n,"TABLE",{class:!0});var H=L(C);g=k(H,"THEAD",{class:!0,"data-svelte-h":!0}),O(g)!=="svelte-1q406h5"&&(g.innerHTML=w),B=N(H),T=k(H,"TBODY",{class:!0});var Y=L(T);for(let W=0;W<_.length;W+=1)_[W].l(Y);Y.forEach(c),H.forEach(c),this.h()},h(){A(t,"width","15"),se(t.src,l=fe)||A(t,"src",l),A(t,"alt","hotWallet"),A(e,"class","walletHead"),A(g,"class","svelte-1cuijhx"),A(T,"class","svelte-1cuijhx"),A(C,"class","wallet")},m(n,d){b(n,e,d),E(e,t),E(e,s),E(e,r),E(e,a),E(e,o),E(e,S),E(e,y),b(n,x,d),b(n,C,d),E(C,g),E(C,B),E(C,T);for(let H=0;H<_.length;H+=1)_[H]&&_[H].m(T,null);q=!0,D||(F=[R(r,"click",f[15]),R(o,"click",f[16]),R(y,"click",f[17])],D=!0)},p(n,d){d&112&&(V=ke(n[5]),oe(),_=Ve(_,d,z,1,n,V,m,T,ze,Ee,null,ge),ie())},i(n){if(!q){for(let d=0;d<V.length;d+=1)$(_[d]);q=!0}},o(n){for(let d=0;d<_.length;d+=1)G(_[d]);q=!1},d(n){n&&(c(e),c(x),c(C));for(let d=0;d<_.length;d+=1)_[d].d();D=!1,ce(F)}}}function ye(f){let e=(Number(f[26].satoshis)/1e8).toLocaleString(void 0,{minimumFractionDigits:3})+"",t,l,s,r;return{c(){t=te(e),l=I(),s=v("img"),this.h()},l(i){t=le(i,e),l=N(i),s=k(i,"IMG",{width:!0,src:!0,alt:!0}),this.h()},h(){A(s,"width","15"),se(s.src,r=Ue)||A(s,"src",r),A(s,"alt","bchLogo")},m(i,a){b(i,t,a),b(i,l,a),b(i,s,a)},p(i,a){a&32&&e!==(e=(Number(i[26].satoshis)/1e8).toLocaleString(void 0,{minimumFractionDigits:3})+"")&&ae(t,e)},d(i){i&&(c(t),c(l),c(s))}}}function Ce(f){let e=(Number(f[26].token.amount)/1e8).toLocaleString(void 0,{minimumFractionDigits:3})+"",t,l,s,r;return s=new Ge({props:{time:U.get(f[26].token?.category),size:"15"}}),{c(){t=te(e),l=I(),qe(s.$$.fragment)},l(i){t=le(i,e),l=N(i),xe(s.$$.fragment,i)},m(i,a){b(i,t,a),b(i,l,a),Le(s,i,a),r=!0},p(i,a){(!r||a&32)&&e!==(e=(Number(i[26].token.amount)/1e8).toLocaleString(void 0,{minimumFractionDigits:3})+"")&&ae(t,e);const o={};a&32&&(o.time=U.get(i[26].token?.category)),s.$set(o)},i(i){r||($(s.$$.fragment,i),r=!0)},o(i){G(s.$$.fragment,i),r=!1},d(i){i&&(c(t),c(l)),Pe(s,i)}}}function Te(f){let e=U.has(f[26].token.category),t,l=e&&De(f);return{c(){l&&l.c(),t=ee()},l(s){l&&l.l(s),t=ee()},m(s,r){l&&l.m(s,r),b(s,t,r)},p(s,r){r&32&&(e=U.has(s[26].token.category)),e?l?l.p(s,r):(l=De(s),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(s){s&&c(t),l&&l.d(s)}}}function De(f){let e,t=String(U.get(f[26].token?.category)).padStart(7,"0")+"",l,s;return{c(){e=v("a"),l=te(t),this.h()},l(r){e=k(r,"A",{href:!0});var i=L(e);l=le(i,t),i.forEach(c),this.h()},h(){A(e,"href",s="/v?block="+U.get(f[26].token?.category))},m(r,i){b(r,e,i),E(e,l)},p(r,i){i&32&&t!==(t=String(U.get(r[26].token?.category)).padStart(7,"0")+"")&&ae(l,t),i&32&&s!==(s="/v?block="+U.get(r[26].token?.category))&&A(e,"href",s)},d(r){r&&c(e)}}}function at(f){let e;return{c(){e=te("-")},l(t){e=le(t,"-")},m(t,l){b(t,e,l)},p:Q,d(t){t&&c(e)}}}function rt(f){let e,t="redeem",l,s;function r(){return f[18](f[26])}return{c(){e=v("button"),e.textContent=t},l(i){e=k(i,"BUTTON",{"data-svelte-h":!0}),O(e)!=="svelte-1x848hq"&&(e.textContent=t)},m(i,a){b(i,e,a),l||(s=R(e,"click",r),l=!0)},p(i,a){f=i},d(i){i&&c(e),l=!1,s()}}}function Ee(f,e){let t,l,s=Number(e[26].satoshis)>800,r,i,a,o,p,S,y,M,x,C,g=s&&ye(e),w=e[26].token&&Ce(e),B=e[26].token&&Te(e);function T(q,D){return D&96&&(M=null),M==null&&(M=U.get(q[26].token?.category)<Number(q[6])),M?rt:at}let _=T(e,-1),m=_(e);return{key:f,first:null,c(){t=v("tr"),l=v("td"),g&&g.c(),r=I(),i=v("td"),a=v("i"),w&&w.c(),o=I(),p=v("td"),B&&B.c(),S=I(),y=v("td"),m.c(),x=I(),this.h()},l(q){t=k(q,"TR",{class:!0});var D=L(t);l=k(D,"TD",{class:!0});var F=L(l);g&&g.l(F),F.forEach(c),r=N(D),i=k(D,"TD",{class:!0});var V=L(i);a=k(V,"I",{});var z=L(a);w&&w.l(z),z.forEach(c),V.forEach(c),o=N(D),p=k(D,"TD",{class:!0});var n=L(p);B&&B.l(n),n.forEach(c),S=N(D),y=k(D,"TD",{style:!0});var d=L(y);m.l(d),d.forEach(c),x=N(D),D.forEach(c),this.h()},h(){A(l,"class","r svelte-1cuijhx"),A(i,"class","r svelte-1cuijhx"),A(p,"class","r svelte-1cuijhx"),K(y,"width","30px"),K(y,"text-align","center"),A(t,"class","svelte-1cuijhx"),this.first=t},m(q,D){b(q,t,D),E(t,l),g&&g.m(l,null),E(t,r),E(t,i),E(i,a),w&&w.m(a,null),E(t,o),E(t,p),B&&B.m(p,null),E(t,S),E(t,y),m.m(y,null),E(t,x),C=!0},p(q,D){e=q,D&32&&(s=Number(e[26].satoshis)>800),s?g?g.p(e,D):(g=ye(e),g.c(),g.m(l,null)):g&&(g.d(1),g=null),e[26].token?w?(w.p(e,D),D&32&&$(w,1)):(w=Ce(e),w.c(),$(w,1),w.m(a,null)):w&&(oe(),G(w,1,1,()=>{w=null}),ie()),e[26].token?B?B.p(e,D):(B=Te(e),B.c(),B.m(p,null)):B&&(B.d(1),B=null),_===(_=T(e,D))&&m?m.p(e,D):(m.d(1),m=_(e),m&&(m.c(),m.m(y,null)))},i(q){C||($(w),C=!0)},o(q){G(w),C=!1},d(q){q&&c(t),g&&g.d(),w&&w.d(),B&&B.d(),m.d()}}}function Se(f){let e,t=`Your long-term address must be a valid <i>CashToken</i> Bitcoin Cash (BCH) cash address―like
				&quot;bitcoincash:zq ...&quot;`;return{c(){e=v("b"),e.innerHTML=t},l(l){e=k(l,"B",{"data-svelte-h":!0}),O(e)!=="svelte-dp9e87"&&(e.innerHTML=t)},m(l,s){b(l,e,s)},d(l){l&&c(e)}}}function nt(f){let e,t,l,s;const r=[tt,et],i=[];function a(o,p){return o[0]?o[4]?1:-1:0}return~(t=a(f))&&(l=i[t]=r[t](f)),{c(){e=v("div"),l&&l.c(),this.h()},l(o){e=k(o,"DIV",{class:!0});var p=L(e);l&&l.l(p),p.forEach(c),this.h()},h(){A(e,"class","text-column")},m(o,p){b(o,e,p),~t&&i[t].m(e,null),s=!0},p(o,[p]){let S=t;t=a(o),t===S?~t&&i[t].p(o,p):(l&&(oe(),G(i[S],1,1,()=>{i[S]=null}),ie()),~t?(l=i[t],l?l.p(o,p):(l=i[t]=r[t](o),l.c()),$(l,1),l.m(e,null)):l=null)},i(o){s||($(l),s=!0)},o(o){G(l),s=!1},d(o){o&&c(e),~t&&i[t].d()}}}function ct(f,e,t){let l,s,r=!1,i=!1,a,o,p,S,y;ve.subscribe(n=>{console.log(s),t(0,l=n)}),Fe.subscribe(n=>{console.log(y),t(6,y=n)});function M(n){console.log(l),ve.set(n)}async function x(){await a.sendMaxFungibleTokens(l),u,await C()}async function C(){await Promise.all([S.getUtxos(a.getDepositAddress()).then(n=>t(5,o=n))])}je(async()=>{try{let n=new $e("@fbch/app","1.4.3",1,1,Re.RANDOM,2e3);n.addServer("bch.imaginary.cash",50004,We.WSS.Scheme,!1),S=new Ye("mainnet",n,!1),Ke.StorageProvider=Qe,t(4,a=await Je.named("hot")),p=await a.getBalance("bch");let d=a.watchBalance(()=>{d(),C()});await C()}catch(n){throw n}});const g=()=>{t(3,i=!i)},w=async()=>{Oe(s)?(t(0,l=s),M(l)):t(2,r=!0)};function B(){s=this.value,t(1,s)}return[l,s,r,i,a,o,y,x,g,w,B,n=>ne.push("OK 📋🗸: "+n.detail),n=>ne.push(`Error, no access to clipboard?: ${n.detail.message}`,{classes:["warn"]}),n=>ne.push("OK - backup copied"),n=>ne.push(`Error, no access to clipboard?: ${n.detail.message}`,{classes:["warn"]}),()=>a.preparePlacementOutpoints(),()=>x(),()=>a.sendMax(l),n=>a.swap({future:n,locktime:U.get(n.token?.category)})]}class vt extends Ie{constructor(e){super(),Ne(this,e,ct,nt,He,{})}}export{vt as component,bt as universal};
//# sourceMappingURL=10.C_wBos1C.js.map
